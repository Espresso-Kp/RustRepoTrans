<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.17">
  <compounddef id="classorg_1_1apache_1_1iceberg_1_1MetricsUtil" kind="class" language="Java" prot="public">
    <compoundname>org::apache::iceberg::MetricsUtil</compoundname>
    <innerclass refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1_1ReadableColMetricsStruct" prot="public">org::apache::iceberg::MetricsUtil::ReadableColMetricsStruct</innerclass>
    <innerclass refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1_1ReadableMetricColDefinition" prot="public">org::apache::iceberg::MetricsUtil::ReadableMetricColDefinition</innerclass>
    <innerclass refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1_1ReadableMetricsStruct" prot="public">org::apache::iceberg::MetricsUtil::ReadableMetricsStruct</innerclass>
    <innerclass refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1_1StructWithReadableMetrics" prot="package">org::apache::iceberg::MetricsUtil::StructWithReadableMetrics</innerclass>
      <sectiondef kind="public-static-attrib">
      <memberdef kind="variable" id="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1aee79a7aa0ecb68f9d689e444fa3e01f6" prot="public" static="yes" mutable="no">
        <type>final List&lt; <ref refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1_1ReadableMetricColDefinition" kindref="compound">ReadableMetricColDefinition</ref> &gt;</type>
        <definition>final List&lt;ReadableMetricColDefinition&gt; org.apache.iceberg.MetricsUtil.READABLE_METRIC_COLS</definition>
        <argsstring></argsstring>
        <name>READABLE_METRIC_COLS</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="core/src/main/java/org/apache/iceberg/MetricsUtil.java" line="121" column="28" bodyfile="core/src/main/java/org/apache/iceberg/MetricsUtil.java" bodystart="121" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1adbf2f99e483a99df5efa2becc2b69e03" prot="public" static="yes" mutable="no">
        <type>final String</type>
        <definition>final String org.apache.iceberg.MetricsUtil.READABLE_METRICS</definition>
        <argsstring></argsstring>
        <name>READABLE_METRICS</name>
        <initializer>= &quot;readable_metrics&quot;</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="core/src/main/java/org/apache/iceberg/MetricsUtil.java" line="176" column="30" bodyfile="core/src/main/java/org/apache/iceberg/MetricsUtil.java" bodystart="176" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="private-func">
      <memberdef kind="function" id="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1a1aa56beafceb99d3f6397fe486d66bb5" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type></type>
        <definition>org.apache.iceberg.MetricsUtil.MetricsUtil</definition>
        <argsstring>()</argsstring>
        <name>MetricsUtil</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="core/src/main/java/org/apache/iceberg/MetricsUtil.java" line="41" column="11" bodyfile="core/src/main/java/org/apache/iceberg/MetricsUtil.java" bodystart="41" bodyend="41"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="public-static-func">
      <memberdef kind="function" id="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1a37c0b72fe0019ea8657b63cf87a59847" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="classorg_1_1apache_1_1iceberg_1_1Metrics" kindref="compound">Metrics</ref></type>
        <definition>static Metrics org.apache.iceberg.MetricsUtil.copyWithoutFieldCounts</definition>
        <argsstring>(Metrics metrics, Set&lt; Integer &gt; excludedFieldIds)</argsstring>
        <name>copyWithoutFieldCounts</name>
        <param>
          <type><ref refid="classorg_1_1apache_1_1iceberg_1_1Metrics" kindref="compound">Metrics</ref></type>
          <declname>metrics</declname>
        </param>
        <param>
          <type>Set&lt; Integer &gt;</type>
          <declname>excludedFieldIds</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Copies a metrics object without value, NULL and NaN counts for given fields.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>excludedFieldIds</parametername>
</parameternamelist>
<parameterdescription>
<para>field IDs for which the counts must be dropped </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>a new metrics object without counts for given fields </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="core/src/main/java/org/apache/iceberg/MetricsUtil.java" line="49" column="25" bodyfile="core/src/main/java/org/apache/iceberg/MetricsUtil.java" bodystart="49" bodyend="58"/>
      </memberdef>
      <memberdef kind="function" id="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1a48de9a0ff13098021751b629387cb5fc" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="classorg_1_1apache_1_1iceberg_1_1Metrics" kindref="compound">Metrics</ref></type>
        <definition>static Metrics org.apache.iceberg.MetricsUtil.copyWithoutFieldCountsAndBounds</definition>
        <argsstring>(Metrics metrics, Set&lt; Integer &gt; excludedFieldIds)</argsstring>
        <name>copyWithoutFieldCountsAndBounds</name>
        <param>
          <type><ref refid="classorg_1_1apache_1_1iceberg_1_1Metrics" kindref="compound">Metrics</ref></type>
          <declname>metrics</declname>
        </param>
        <param>
          <type>Set&lt; Integer &gt;</type>
          <declname>excludedFieldIds</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Copies a metrics object without counts and bounds for given fields.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>excludedFieldIds</parametername>
</parameternamelist>
<parameterdescription>
<para>field IDs for which the counts and bounds must be dropped </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>a new metrics object without lower and upper bounds for given fields </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="core/src/main/java/org/apache/iceberg/MetricsUtil.java" line="66" column="25" bodyfile="core/src/main/java/org/apache/iceberg/MetricsUtil.java" bodystart="66" bodyend="76"/>
      </memberdef>
      <memberdef kind="function" id="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1acf063df56b904b17804c4d3af7954a1a" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>Map&lt; Integer, Long &gt;</type>
        <definition>static Map&lt;Integer, Long&gt; org.apache.iceberg.MetricsUtil.createNanValueCounts</definition>
        <argsstring>(Stream&lt; FieldMetrics&lt;?&gt;&gt; fieldMetrics, MetricsConfig metricsConfig, Schema inputSchema)</argsstring>
        <name>createNanValueCounts</name>
        <param>
          <type>Stream&lt; <ref refid="classorg_1_1apache_1_1iceberg_1_1FieldMetrics" kindref="compound">FieldMetrics</ref>&lt;?&gt;&gt;</type>
          <declname>fieldMetrics</declname>
        </param>
        <param>
          <type><ref refid="classorg_1_1apache_1_1iceberg_1_1MetricsConfig" kindref="compound">MetricsConfig</ref></type>
          <declname>metricsConfig</declname>
        </param>
        <param>
          <type><ref refid="classorg_1_1apache_1_1iceberg_1_1Schema" kindref="compound">Schema</ref></type>
          <declname>inputSchema</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Construct mapping relationship between column id to NaN value counts from input metrics and metrics config. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="core/src/main/java/org/apache/iceberg/MetricsUtil.java" line="96" column="21" bodyfile="core/src/main/java/org/apache/iceberg/MetricsUtil.java" bodystart="96" bodyend="109"/>
      </memberdef>
      <memberdef kind="function" id="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1a8e4cadad218d67882aca9c3692f77d3e" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>MetricsModes.MetricsMode</type>
        <definition>static MetricsModes.MetricsMode org.apache.iceberg.MetricsUtil.metricsMode</definition>
        <argsstring>(Schema inputSchema, MetricsConfig metricsConfig, int fieldId)</argsstring>
        <name>metricsMode</name>
        <param>
          <type><ref refid="classorg_1_1apache_1_1iceberg_1_1Schema" kindref="compound">Schema</ref></type>
          <declname>inputSchema</declname>
        </param>
        <param>
          <type><ref refid="classorg_1_1apache_1_1iceberg_1_1MetricsConfig" kindref="compound">MetricsConfig</ref></type>
          <declname>metricsConfig</declname>
        </param>
        <param>
          <type>int</type>
          <declname>fieldId</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Extract MetricsMode for the given field id from metrics config. </para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="core/src/main/java/org/apache/iceberg/MetricsUtil.java" line="112" column="41" bodyfile="core/src/main/java/org/apache/iceberg/MetricsUtil.java" bodystart="112" bodyend="119"/>
      </memberdef>
      <memberdef kind="function" id="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1a270395b1ffb16cbfeed4d0e0e35336e3" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="classorg_1_1apache_1_1iceberg_1_1Schema" kindref="compound">Schema</ref></type>
        <definition>static Schema org.apache.iceberg.MetricsUtil.readableMetricsSchema</definition>
        <argsstring>(Schema dataTableSchema, Schema metadataTableSchema)</argsstring>
        <name>readableMetricsSchema</name>
        <param>
          <type><ref refid="classorg_1_1apache_1_1iceberg_1_1Schema" kindref="compound">Schema</ref></type>
          <declname>dataTableSchema</declname>
        </param>
        <param>
          <type><ref refid="classorg_1_1apache_1_1iceberg_1_1Schema" kindref="compound">Schema</ref></type>
          <declname>metadataTableSchema</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Calculates a dynamic schema for readable_metrics to add to metadata tables. The type will be the struct <ref refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1_1ReadableColMetricsStruct" kindref="compound">ReadableColMetricsStruct</ref>, composed of <ref refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1_1ReadableMetricsStruct" kindref="compound">ReadableMetricsStruct</ref> for all primitive columns in the data table</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>dataTableSchema</parametername>
</parameternamelist>
<parameterdescription>
<para>schema of data table </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>metadataTableSchema</parametername>
</parameternamelist>
<parameterdescription>
<para>schema of existing metadata table (to ensure id uniqueness) </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>schema of readable_metrics struct </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="core/src/main/java/org/apache/iceberg/MetricsUtil.java" line="337" column="24" bodyfile="core/src/main/java/org/apache/iceberg/MetricsUtil.java" bodystart="337" bodyend="371"/>
      </memberdef>
      <memberdef kind="function" id="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1a845f430c67d18fdf83afe4ab56f40cc6" prot="public" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1_1ReadableMetricsStruct" kindref="compound">ReadableMetricsStruct</ref></type>
        <definition>static ReadableMetricsStruct org.apache.iceberg.MetricsUtil.readableMetricsStruct</definition>
        <argsstring>(Schema schema, ContentFile&lt;?&gt; file, Types.StructType projectedSchema)</argsstring>
        <name>readableMetricsStruct</name>
        <param>
          <type><ref refid="classorg_1_1apache_1_1iceberg_1_1Schema" kindref="compound">Schema</ref></type>
          <declname>schema</declname>
        </param>
        <param>
          <type><ref refid="interfaceorg_1_1apache_1_1iceberg_1_1ContentFile" kindref="compound">ContentFile</ref>&lt;?&gt;</type>
          <declname>file</declname>
        </param>
        <param>
          <type>Types.StructType</type>
          <declname>projectedSchema</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>Return a readable metrics struct row from file metadata</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>schema</parametername>
</parameternamelist>
<parameterdescription>
<para>schema of original data table </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>file</parametername>
</parameternamelist>
<parameterdescription>
<para>content file with metrics </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>projectedSchema</parametername>
</parameternamelist>
<parameterdescription>
<para>user requested projection </para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para><ref refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1_1ReadableMetricsStruct" kindref="compound">ReadableMetricsStruct</ref> </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="core/src/main/java/org/apache/iceberg/MetricsUtil.java" line="381" column="39" bodyfile="core/src/main/java/org/apache/iceberg/MetricsUtil.java" bodystart="381" bodyend="407"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="private-static-func">
      <memberdef kind="function" id="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1a5ae7ec7df957459149c0bbaacf1fe75b" prot="private" static="yes" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type>static&lt; K, V &gt; Map&lt; K, V &gt;</type>
        <definition>static &lt;K, V&gt; Map&lt;K, V&gt; org.apache.iceberg.MetricsUtil.copyWithoutKeys</definition>
        <argsstring>(Map&lt; K, V &gt; map, Set&lt; K &gt; keys)</argsstring>
        <name>copyWithoutKeys</name>
        <param>
          <type>Map&lt; K, V &gt;</type>
          <declname>map</declname>
        </param>
        <param>
          <type>Set&lt; K &gt;</type>
          <declname>keys</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="core/src/main/java/org/apache/iceberg/MetricsUtil.java" line="78" column="24" bodyfile="core/src/main/java/org/apache/iceberg/MetricsUtil.java" bodystart="78" bodyend="90"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <collaborationgraph>
      <node id="1">
        <label>org.apache.iceberg.MetricsUtil</label>
        <link refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil"/>
        <childnode refid="2" relation="usage">
          <edgelabel>READABLE_METRIC_COLS</edgelabel>
        </childnode>
      </node>
      <node id="2">
        <label>List&lt; org.apache.iceberg.MetricsUtil.ReadableMetricColDefinition &gt;</label>
      </node>
    </collaborationgraph>
    <location file="core/src/main/java/org/apache/iceberg/MetricsUtil.java" line="39" column="25" bodyfile="core/src/main/java/org/apache/iceberg/MetricsUtil.java" bodystart="39" bodyend="459"/>
    <listofallmembers>
      <member refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1a37c0b72fe0019ea8657b63cf87a59847" prot="public" virt="non-virtual"><scope>org::apache::iceberg::MetricsUtil</scope><name>copyWithoutFieldCounts</name></member>
      <member refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1a48de9a0ff13098021751b629387cb5fc" prot="public" virt="non-virtual"><scope>org::apache::iceberg::MetricsUtil</scope><name>copyWithoutFieldCountsAndBounds</name></member>
      <member refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1a5ae7ec7df957459149c0bbaacf1fe75b" prot="private" virt="non-virtual"><scope>org::apache::iceberg::MetricsUtil</scope><name>copyWithoutKeys</name></member>
      <member refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1acf063df56b904b17804c4d3af7954a1a" prot="public" virt="non-virtual"><scope>org::apache::iceberg::MetricsUtil</scope><name>createNanValueCounts</name></member>
      <member refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1a8e4cadad218d67882aca9c3692f77d3e" prot="public" virt="non-virtual"><scope>org::apache::iceberg::MetricsUtil</scope><name>metricsMode</name></member>
      <member refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1a1aa56beafceb99d3f6397fe486d66bb5" prot="private" virt="non-virtual"><scope>org::apache::iceberg::MetricsUtil</scope><name>MetricsUtil</name></member>
      <member refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1aee79a7aa0ecb68f9d689e444fa3e01f6" prot="public" virt="non-virtual"><scope>org::apache::iceberg::MetricsUtil</scope><name>READABLE_METRIC_COLS</name></member>
      <member refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1adbf2f99e483a99df5efa2becc2b69e03" prot="public" virt="non-virtual"><scope>org::apache::iceberg::MetricsUtil</scope><name>READABLE_METRICS</name></member>
      <member refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1a270395b1ffb16cbfeed4d0e0e35336e3" prot="public" virt="non-virtual"><scope>org::apache::iceberg::MetricsUtil</scope><name>readableMetricsSchema</name></member>
      <member refid="classorg_1_1apache_1_1iceberg_1_1MetricsUtil_1a845f430c67d18fdf83afe4ab56f40cc6" prot="public" virt="non-virtual"><scope>org::apache::iceberg::MetricsUtil</scope><name>readableMetricsStruct</name></member>
    </listofallmembers>
  </compounddef>
</doxygen>
