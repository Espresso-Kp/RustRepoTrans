<message>
you were asked to translate the given c function to rust and execute your response and get some error message.
Fix the bug in your previous response according to error message, c function, rust function signature, rust function dependencies(including function and variable dependencies), and data type declarations and rust function dependency libraries I provide(delimited with XML tags).
Only response the function results.
<previous response>
b'pub async fn search_msgs(&self, chat_id: Option<ChatId>, query: &str) -> Result<Vec<MsgId>> {\n    let context = self.context.clone();\n    let sql = self.sql.clone();\n\n    let real_query = query.to_string();\n    let trimmed_query = real_query.trim();\n\n    if trimmed_query.is_empty() {\n        return Ok(Vec::new());\n    }\n\n    let like_in_text = format!("%%%{}", trimmed_query);\n    let like_beg = format!("{}%", trimmed_query);\n\n    let chat_id_param = match chat_id {\n        Some(id) => id,\n        None => 0,\n    };\n\n    let stmt = if chat_id_param > 0 {\n        sql.prepare(\n            "SELECT m.id AS id\n             FROM msgs m\n             LEFT JOIN contacts ct ON m.from_id=ct.id\n             WHERE m.chat_id=?\n             AND m.hidden=0\n             AND ct.blocked=0\n             AND txt LIKE?\n             ORDER BY m.timestamp, m.id;",\n        )?\n    } else {\n        sql.prepare(\n            "SELECT m.id AS id\n             FROM msgs m\n             LEFT JOIN contacts ct ON m.from_id=ct.id\n             LEFT JOIN chats c ON m.chat_id=c.id\n             WHERE m.chat_id>9\n             AND m.hidden=0\n             AND c.blocked!=1\n             AND ct.blocked=0\n             AND m.txt LIKE?\n             ORDER BY m.id DESC LIMIT 1000;",\n        )?\n    };\n\n    stmt.bind(1(chat_id_param);\n    stmt.bind_text(2, &like_in_text);\n    stmt.bind_text(3, &like_beg);\n\n    let mut results = Vec::new();\n    while stmt.step()? == sqlite::Step::Row {\n        let id = stmt.column_int(0);\n        results.push(MsgId(id));\n    }\n\n    Ok(results)\n}'
</previous response>
<error message>
Compiling deltachat v1.139.6 (/home/k/ogs_PHD/LLM4SE/2Rust_projects/auto_get_functionPair/projects/deltachat-core/rust)
error: expected one of `!` or `::`, found `s`
 --> src/context.rs:6:1
  |
5 | u
  |  - expected one of `!` or `::`
6 | s
  | ^ unexpected token

error[E0432]: unresolved import `crate::context::Context`
 --> src/log.rs:5:5
  |
5 | use crate::context::Context;
  |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
  |
help: consider importing one of these items instead
  |
5 | use anyhow::Context;
  |     ~~~~~~~~~~~~~~~
5 | use core::task::Context;
  |     ~~~~~~~~~~~~~~~~~~~
5 | use exif::Context;
  |     ~~~~~~~~~~~~~
5 | use futures::task::Context;
  |     ~~~~~~~~~~~~~~~~~~~~~~
    and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/sql.rs:14:5
   |
14 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
14 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
14 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
14 | use exif::Context;
   |     ~~~~~~~~~~~~~
14 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
 --> src/sql/migrations.rs:9:5
  |
9 | use crate::context::Context;
  |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
  |
help: consider importing one of these items instead
  |
9 | use anyhow::Context;
  |     ~~~~~~~~~~~~~~~
9 | use core::task::Context;
  |     ~~~~~~~~~~~~~~~~~~~
9 | use crate::sql::Context;
  |     ~~~~~~~~~~~~~~~~~~~
9 | use exif::Context;
  |     ~~~~~~~~~~~~~
    and 2 other candidates

error[E0432]: unresolved import `crate::context::Context`
 --> src/events/chatlist_events.rs:1:47
  |
1 | use crate::{chat::ChatId, contact::ContactId, context::Context, EventType};
  |                                               ^^^^^^^^^^^^^^^^ no `Context` in `context`
  |
  = help: consider importing one of these items instead:
          anyhow::Context
          core::task::Context
          exif::Context
          futures::task::Context
          std::task::Context

error[E0432]: unresolved import `crate::context::Context`
  --> src/blob.rs:23:5
   |
23 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
23 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
23 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
23 | use exif::Context;
   |     ~~~~~~~~~~~~~
23 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/chat.rs:28:5
   |
28 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
28 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
28 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
28 | use exif::Context;
   |     ~~~~~~~~~~~~~
28 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/chatlist.rs:12:5
   |
12 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
12 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
12 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
12 | use exif::Context;
   |     ~~~~~~~~~~~~~
12 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/config.rs:17:5
   |
17 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
17 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
17 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
17 | use exif::Context;
   |     ~~~~~~~~~~~~~
17 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/configure/auto_mozilla.rs:11:5
   |
11 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
11 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
11 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
11 | use exif::Context;
   |     ~~~~~~~~~~~~~
11 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/configure/auto_outlook.rs:11:5
   |
11 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
11 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
11 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
11 | use exif::Context;
   |     ~~~~~~~~~~~~~
11 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/configure.rs:27:5
   |
27 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
27 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
27 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
27 | use exif::Context;
   |     ~~~~~~~~~~~~~
27 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/contact.rs:29:5
   |
29 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
29 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
29 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
29 | use exif::Context;
   |     ~~~~~~~~~~~~~
29 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/decrypt.rs:13:5
   |
13 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
13 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
13 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
13 | use exif::Context;
   |     ~~~~~~~~~~~~~
13 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/download.rs:11:5
   |
11 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
11 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
11 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
11 | use exif::Context;
   |     ~~~~~~~~~~~~~
11 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
 --> src/e2ee.rs:8:5
  |
8 | use crate::context::Context;
  |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
  |
help: consider importing one of these items instead
  |
8 | use anyhow::Context;
  |     ~~~~~~~~~~~~~~~
8 | use core::task::Context;
  |     ~~~~~~~~~~~~~~~~~~~
8 | use exif::Context;
  |     ~~~~~~~~~~~~~
8 | use futures::task::Context;
  |     ~~~~~~~~~~~~~~~~~~~~~~
    and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/ephemeral.rs:80:5
   |
80 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
80 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
80 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
80 | use exif::Context;
   |     ~~~~~~~~~~~~~
80 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/imap.rs:32:5
   |
32 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
32 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
32 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
32 | use exif::Context;
   |     ~~~~~~~~~~~~~
32 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/imap/client.rs:13:5
   |
13 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
13 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
13 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
13 | use crate::imap::Context;
   |     ~~~~~~~~~~~~~~~~~~~~
13 | use exif::Context;
   |     ~~~~~~~~~~~~~
     and 2 other candidates

error[E0432]: unresolved import `crate::context::Context`
  --> src/imap/idle.rs:11:5
   |
11 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
11 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
11 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
11 | use crate::imap::Context;
   |     ~~~~~~~~~~~~~~~~~~~~
11 | use exif::Context;
   |     ~~~~~~~~~~~~~
     and 2 other candidates

error[E0432]: unresolved import `crate::context::Context`
  --> src/imap/scan_folders.rs:10:13
   |
10 | use crate::{context::Context, imap::FolderMeaning};
   |             ^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
   = help: consider importing one of these items instead:
           anyhow::Context
           core::task::Context
           crate::imap::Context
           exif::Context
           futures::task::Context
           std::task::Context

error[E0432]: unresolved import `crate::context::Context`
 --> src/imap/select_folder.rs:7:5
  |
7 | use crate::context::Context;
  |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
  |
help: consider importing one of these items instead
  |
7 | use anyhow::Context;
  |     ~~~~~~~~~~~~~~~
7 | use core::task::Context;
  |     ~~~~~~~~~~~~~~~~~~~
7 | use crate::imap::Context;
  |     ~~~~~~~~~~~~~~~~~~~~
7 | use exif::Context;
  |     ~~~~~~~~~~~~~
    and 2 other candidates

error[E0432]: unresolved import `crate::context::Context`
  --> src/imex.rs:20:5
   |
20 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
20 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
20 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
20 | use exif::Context;
   |     ~~~~~~~~~~~~~
20 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/imex/transfer.rs:52:5
   |
52 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
52 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
52 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
52 | use crate::imex::Context;
   |     ~~~~~~~~~~~~~~~~~~~~
52 | use exif::Context;
   |     ~~~~~~~~~~~~~
     and 2 other candidates

error[E0432]: unresolved import `crate::context::Context`
  --> src/key.rs:19:5
   |
19 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
19 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
19 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
19 | use exif::Context;
   |     ~~~~~~~~~~~~~
19 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/location.rs:23:5
   |
23 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
23 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
23 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
23 | use exif::Context;
   |     ~~~~~~~~~~~~~
23 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
 --> src/login_param.rs:8:5
  |
8 | use crate::context::Context;
  |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
  |
help: consider importing one of these items instead
  |
8 | use anyhow::Context;
  |     ~~~~~~~~~~~~~~~
8 | use core::task::Context;
  |     ~~~~~~~~~~~~~~~~~~~
8 | use exif::Context;
  |     ~~~~~~~~~~~~~
8 | use futures::task::Context;
  |     ~~~~~~~~~~~~~~~~~~~~~~
    and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/message.rs:20:5
   |
20 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
20 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
20 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
20 | use exif::Context;
   |     ~~~~~~~~~~~~~
20 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/mimefactory.rs:17:5
   |
17 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
17 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
17 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
17 | use exif::Context;
   |     ~~~~~~~~~~~~~
17 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/mimeparser.rs:21:5
   |
21 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
21 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
21 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
21 | use exif::Context;
   |     ~~~~~~~~~~~~~
21 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/oauth2.rs:10:5
   |
10 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
10 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
10 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
10 | use exif::Context;
   |     ~~~~~~~~~~~~~
10 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/param.rs:11:5
   |
11 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
11 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
11 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
11 | use exif::Context;
   |     ~~~~~~~~~~~~~
11 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/peerstate.rs:15:5
   |
15 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
15 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
15 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
15 | use exif::Context;
   |     ~~~~~~~~~~~~~
15 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/provider.rs:10:5
   |
10 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
10 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
10 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
10 | use exif::Context;
   |     ~~~~~~~~~~~~~
10 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/qr/dclogin_scheme.rs:10:5
   |
10 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
10 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
10 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
10 | use exif::Context;
   |     ~~~~~~~~~~~~~
10 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/qr.rs:18:5
   |
18 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
18 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
18 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
18 | use exif::Context;
   |     ~~~~~~~~~~~~~
18 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/qr_code_generator.rs:12:5
   |
12 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
12 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
12 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
12 | use exif::Context;
   |     ~~~~~~~~~~~~~
12 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/quota.rs:10:5
   |
10 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
10 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
10 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
10 | use exif::Context;
   |     ~~~~~~~~~~~~~
10 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/scheduler.rs:18:5
   |
18 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
18 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
18 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
18 | use exif::Context;
   |     ~~~~~~~~~~~~~
18 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/scheduler/connectivity.rs:13:13
   |
13 | use crate::{context::Context, log::LogExt};
   |             ^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
   = help: consider importing one of these items instead:
           anyhow::Context
           core::task::Context
           crate::scheduler::Context
           exif::Context
           futures::task::Context
           std::task::Context

error[E0432]: unresolved import `crate::context::Context`
  --> src/securejoin.rs:12:5
   |
12 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
12 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
12 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
12 | use exif::Context;
   |     ~~~~~~~~~~~~~
12 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/securejoin/bob.rs:14:5
   |
14 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
14 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
14 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
14 | use crate::securejoin::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~~~~~
14 | use exif::Context;
   |     ~~~~~~~~~~~~~
     and 2 other candidates

error[E0432]: unresolved import `crate::context::Context`
  --> src/securejoin/bobstate.rs:18:5
   |
18 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
18 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
18 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
18 | use crate::securejoin::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~~~~~
18 | use exif::Context;
   |     ~~~~~~~~~~~~~
     and 2 other candidates

error[E0432]: unresolved import `crate::context::Context`
 --> src/smtp/send.rs:7:5
  |
7 | use crate::context::Context;
  |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
  |
help: consider importing one of these items instead
  |
7 | use anyhow::Context;
  |     ~~~~~~~~~~~~~~~
7 | use core::task::Context;
  |     ~~~~~~~~~~~~~~~~~~~
7 | use exif::Context;
  |     ~~~~~~~~~~~~~
7 | use futures::task::Context;
  |     ~~~~~~~~~~~~~~~~~~~~~~
    and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/smtp.rs:16:5
   |
16 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
16 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
16 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
16 | use exif::Context;
   |     ~~~~~~~~~~~~~
16 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/socks.rs:16:5
   |
16 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
16 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
16 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
16 | use exif::Context;
   |     ~~~~~~~~~~~~~
16 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/stock_str.rs:17:5
   |
17 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
17 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
17 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
17 | use exif::Context;
   |     ~~~~~~~~~~~~~
17 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/sync.rs:11:5
   |
11 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
11 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
11 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
11 | use exif::Context;
   |     ~~~~~~~~~~~~~
11 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/token.rs:11:5
   |
11 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
11 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
11 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
11 | use exif::Context;
   |     ~~~~~~~~~~~~~
11 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
 --> src/update_helper.rs:7:5
  |
7 | use crate::context::Context;
  |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
  |
help: consider importing one of these items instead
  |
7 | use anyhow::Context;
  |     ~~~~~~~~~~~~~~~
7 | use core::task::Context;
  |     ~~~~~~~~~~~~~~~~~~~
7 | use exif::Context;
  |     ~~~~~~~~~~~~~
7 | use futures::task::Context;
  |     ~~~~~~~~~~~~~~~~~~~~~~
    and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
 --> src/webxdc/integration.rs:4:5
  |
4 | use crate::context::Context;
  |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
  |
help: consider importing one of these items instead
  |
4 | use anyhow::Context;
  |     ~~~~~~~~~~~~~~~
4 | use core::task::Context;
  |     ~~~~~~~~~~~~~~~~~~~
4 | use exif::Context;
  |     ~~~~~~~~~~~~~
4 | use futures::task::Context;
  |     ~~~~~~~~~~~~~~~~~~~~~~
    and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/webxdc/maps_integration.rs:38:5
   |
38 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
38 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
38 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
38 | use exif::Context;
   |     ~~~~~~~~~~~~~
38 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/webxdc.rs:36:5
   |
36 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
36 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
36 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
36 | use exif::Context;
   |     ~~~~~~~~~~~~~
36 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/authres.rs:15:5
   |
15 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
15 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
15 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
15 | use exif::Context;
   |     ~~~~~~~~~~~~~
15 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/html.rs:16:5
   |
16 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
16 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
16 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
16 | use exif::Context;
   |     ~~~~~~~~~~~~~
16 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/net.rs:13:5
   |
13 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
13 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
13 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
13 | use exif::Context;
   |     ~~~~~~~~~~~~~
13 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
 --> src/net/http.rs:9:5
  |
9 | use crate::context::Context;
  |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
  |
help: consider importing one of these items instead
  |
9 | use anyhow::Context;
  |     ~~~~~~~~~~~~~~~
9 | use core::task::Context;
  |     ~~~~~~~~~~~~~~~~~~~
9 | use crate::net::Context;
  |     ~~~~~~~~~~~~~~~~~~~
9 | use exif::Context;
  |     ~~~~~~~~~~~~~
    and 2 other candidates

error[E0432]: unresolved import `crate::context::Context`
 --> src/push.rs:7:5
  |
7 | use crate::context::Context;
  |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
  |
help: consider importing one of these items instead
  |
7 | use anyhow::Context;
  |     ~~~~~~~~~~~~~~~
7 | use core::task::Context;
  |     ~~~~~~~~~~~~~~~~~~~
7 | use exif::Context;
  |     ~~~~~~~~~~~~~
7 | use futures::task::Context;
  |     ~~~~~~~~~~~~~~~~~~~~~~
    and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/summary.rs:10:5
   |
10 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
10 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
10 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
10 | use exif::Context;
   |     ~~~~~~~~~~~~~
10 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
 --> src/debug_logging.rs:4:5
  |
4 | use crate::context::Context;
  |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
  |
help: consider importing one of these items instead
  |
4 | use anyhow::Context;
  |     ~~~~~~~~~~~~~~~
4 | use core::task::Context;
  |     ~~~~~~~~~~~~~~~~~~~
4 | use exif::Context;
  |     ~~~~~~~~~~~~~
4 | use futures::task::Context;
  |     ~~~~~~~~~~~~~~~~~~~~~~
    and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/receive_imf.rs:21:5
   |
21 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
21 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
21 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
21 | use exif::Context;
   |     ~~~~~~~~~~~~~
21 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/tools.rs:38:5
   |
38 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
38 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
38 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
38 | use exif::Context;
   |     ~~~~~~~~~~~~~
38 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved imports `crate::context::Context`, `crate::context::ContextBuilder`
  --> src/accounts.rs:20:22
   |
20 | use crate::context::{Context, ContextBuilder};
   |                      ^^^^^^^  ^^^^^^^^^^^^^^ no `ContextBuilder` in `context`
   |                      |
   |                      no `Context` in `context`
   |
   = help: consider importing one of these items instead:
           anyhow::Context
           core::task::Context
           exif::Context
           futures::task::Context
           std::task::Context

error[E0432]: unresolved import `crate::context::Context`
  --> src/peer_channels.rs:40:5
   |
40 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
40 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
40 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
40 | use exif::Context;
   |     ~~~~~~~~~~~~~
40 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/reaction.rs:26:5
   |
26 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
26 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
26 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
26 | use exif::Context;
   |     ~~~~~~~~~~~~~
26 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0432]: unresolved import `crate::context::Context`
  --> src/test_utils.rs:34:5
   |
34 | use crate::context::Context;
   |     ^^^^^^^^^^^^^^^^^^^^^^^ no `Context` in `context`
   |
help: consider importing one of these items instead
   |
34 | use anyhow::Context;
   |     ~~~~~~~~~~~~~~~
34 | use core::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~
34 | use exif::Context;
   |     ~~~~~~~~~~~~~
34 | use futures::task::Context;
   |     ~~~~~~~~~~~~~~~~~~~~~~
     and 1 other candidate

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sql.rs:842:56
    |
842 |                     maybe_add_file(&mut files_in_use, &row?);
    |                                                        ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sql.rs:842:56
    |
842 |                     maybe_add_file(&mut files_in_use, &row?);
    |                                                        ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `ControlFlow`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sql.rs:842:59
    |
842 |                     maybe_add_file(&mut files_in_use, &row?);
    |                                                           ^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `Break`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `Break`
...
93  |     Break(B),
    |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sql/migrations.rs:368:19
    |
368 |         if let Ok(addr) = context.get_primary_self_addr().await {
    |                   ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sql/migrations.rs:368:16
    |
368 |         if let Ok(addr) = context.get_primary_self_addr().await {
    |                ^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::prelude::v1::Ok`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/result.rs:502:17
    |
502 | pub enum Result<T, E> {
    |                 ^ required by this bound in `std::prelude::v1::Ok`
...
506 |     Ok(#[stable(feature = "rust1", since = "1.0.0")] T),
    |     -- required by a bound in this tuple variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sql/migrations.rs:368:59
    |
368 |         if let Ok(addr) = context.get_primary_self_addr().await {
    |                                                           ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::result::Result`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/result.rs:502:17
    |
502 | pub enum Result<T, E> {
    |                 ^ required by this bound in `Result`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sql/migrations.rs:404:25
    |
404 |             if let Some(folder) = context.get_config(*c).await? {
    |                         ^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sql/migrations.rs:404:20
    |
404 |             if let Some(folder) = context.get_config(*c).await? {
    |                    ^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::prelude::v1::Some`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `std::prelude::v1::Some`
...
578 |     Some(#[stable(feature = "rust1", since = "1.0.0")] T),
    |     ---- required by a bound in this tuple variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sql/migrations.rs:404:35
    |
404 |             if let Some(folder) = context.get_config(*c).await? {
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::option::Option`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `Option`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/chat.rs:569:13
    |
569 |         let text = context.stock_protection_msg(protect, contact_id).await;
    |             ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/chat.rs:569:20
    |
569 |         let text = context.stock_protection_msg(protect, contact_id).await;
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/chat.rs:569:70
    |
569 |         let text = context.stock_protection_msg(protect, contact_id).await;
    |                                                                      ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
    |
12  | pub enum Poll<T> {
    |               ^ required by this bound in `Poll::Ready`
...
16  |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
    |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/config.rs:513:21
    |
513 |         if let Some(cfg) = self.get_config(Config::ConfiguredProvider).await? {
    |                     ^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/config.rs:513:16
    |
513 |         if let Some(cfg) = self.get_config(Config::ConfiguredProvider).await? {
    |                ^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::prelude::v1::Some`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `std::prelude::v1::Some`
...
578 |     Some(#[stable(feature = "rust1", since = "1.0.0")] T),
    |     ---- required by a bound in this tuple variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/config.rs:513:28
    |
513 |         if let Some(cfg) = self.get_config(Config::ConfiguredProvider).await? {
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::option::Option`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `Option`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/configure.rs:167:17
    |
167 |     if let Some(new_addr) = context.get_config(Config::ConfiguredAddr).await? {
    |                 ^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/configure.rs:167:12
    |
167 |     if let Some(new_addr) = context.get_config(Config::ConfiguredAddr).await? {
    |            ^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::prelude::v1::Some`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `std::prelude::v1::Some`
...
578 |     Some(#[stable(feature = "rust1", since = "1.0.0")] T),
    |     ---- required by a bound in this tuple variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/configure.rs:167:29
    |
167 |     if let Some(new_addr) = context.get_config(Config::ConfiguredAddr).await? {
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::option::Option`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `Option`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imap.rs:573:13
    |
573 |         let delete_target = context.get_delete_msgs_target().await?;
    |             ^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imap.rs:573:29
    |
573 |         let delete_target = context.get_delete_msgs_target().await?;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imap.rs:573:29
    |
573 |         let delete_target = context.get_delete_msgs_target().await?;
    |                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `ControlFlow`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imap.rs:573:67
    |
573 |         let delete_target = context.get_delete_msgs_target().await?;
    |                                                                   ^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `Break`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `Break`
...
93  |     Break(B),
    |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imex.rs:326:9
    |
326 |     let self_addr = context.get_primary_self_addr().await?;
    |         ^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imex.rs:326:21
    |
326 |     let self_addr = context.get_primary_self_addr().await?;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imex.rs:326:21
    |
326 |     let self_addr = context.get_primary_self_addr().await?;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `ControlFlow`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imex.rs:326:58
    |
326 |     let self_addr = context.get_primary_self_addr().await?;
    |                                                          ^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `Break`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `Break`
...
93  |     Break(B),
    |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imex.rs:531:9
    |
531 |     let self_addr = context.get_primary_self_addr().await?;
    |         ^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imex.rs:531:21
    |
531 |     let self_addr = context.get_primary_self_addr().await?;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imex.rs:531:21
    |
531 |     let self_addr = context.get_primary_self_addr().await?;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `ControlFlow`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imex.rs:531:58
    |
531 |     let self_addr = context.get_primary_self_addr().await?;
    |                                                          ^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `Break`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `Break`
...
93  |     Break(B),
    |     ----- required by a bound in this variant

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
  --> src/key.rs:97:14
   |
97 |         Some(bytes) => SignedPublicKey::from_slice(&bytes),
   |              ^^^^^ doesn't have a size known at compile-time
   |
   = help: the trait `Sized` is not implemented for `[u8]`
   = note: all local variables must have a statically known size
   = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:97:9
    |
97  |         Some(bytes) => SignedPublicKey::from_slice(&bytes),
    |         ^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `std::prelude::v1::Some`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `std::prelude::v1::Some`
...
578 |     Some(#[stable(feature = "rust1", since = "1.0.0")] T),
    |     ---- required by a bound in this tuple variant

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:98:9
    |
98  |         None => {
    |         ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `std::prelude::v1::None`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `std::prelude::v1::None`
...
574 |     None,
    |     ---- required by a bound in this unit variant

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:83:22
    |
83  |       let public_key = context
    |  ______________________^
84  | |         .sql
85  | |         .query_row_optional(
86  | |             "SELECT public_key
...   |
94  | |         )
95  | |         .await?;
    | |_______________^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `std::option::Option`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `Option`

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:119:22
    |
119 |         .filter_map(|bytes| SignedPublicKey::from_slice(&bytes).log_err(context).ok())
    |                      ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
    = note: all function arguments must have a statically known size

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:139:14
    |
139 |         Some(bytes) => SignedSecretKey::from_slice(&bytes),
    |              ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:139:9
    |
139 |         Some(bytes) => SignedSecretKey::from_slice(&bytes),
    |         ^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `std::prelude::v1::Some`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `std::prelude::v1::Some`
...
578 |     Some(#[stable(feature = "rust1", since = "1.0.0")] T),
    |     ---- required by a bound in this tuple variant

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:140:9
    |
140 |         None => {
    |         ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `std::prelude::v1::None`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `std::prelude::v1::None`
...
574 |     None,
    |     ---- required by a bound in this unit variant

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:125:23
    |
125 |       let private_key = context
    |  _______________________^
126 | |         .sql
127 | |         .query_row_optional(
128 | |             "SELECT private_key
...   |
136 | |         )
137 | |         .await?;
    | |_______________^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `std::option::Option`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `Option`

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:160:22
    |
160 |         .filter_map(|bytes| SignedSecretKey::from_slice(&bytes).log_err(context).ok())
    |                      ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
    = note: all function arguments must have a statically known size

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/key.rs:219:9
    |
219 |     let addr = context.get_primary_self_addr().await?;
    |         ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/key.rs:219:16
    |
219 |     let addr = context.get_primary_self_addr().await?;
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/key.rs:219:16
    |
219 |     let addr = context.get_primary_self_addr().await?;
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `ControlFlow`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/key.rs:219:53
    |
219 |     let addr = context.get_primary_self_addr().await?;
    |                                                     ^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `Break`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `Break`
...
93  |     Break(B),
    |     ----- required by a bound in this variant

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:265:21
    |
265 |     Ok(if let Some((pub_bytes, sec_bytes)) = res {
    |                     ^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:250:15
    |
250 |       let res = context
    |  _______________^
251 | |         .sql
252 | |         .query_row_optional(
253 | |             "SELECT public_key, private_key
...   |
262 | |         )
263 | |         .await?;
    | |_______________^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
    = note: only the last element of a tuple may have a dynamically sized type

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:265:32
    |
265 |     Ok(if let Some((pub_bytes, sec_bytes)) = res {
    |                                ^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:265:15
    |
265 |     Ok(if let Some((pub_bytes, sec_bytes)) = res {
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: within `([u8], [u8])`, the trait `Sized` is not implemented for `[u8]`, which is required by `(_, _): Sized`
    = note: required because it appears within the type `([u8], [u8])`
note: required by a bound in `std::prelude::v1::Some`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `std::prelude::v1::Some`
...
578 |     Some(#[stable(feature = "rust1", since = "1.0.0")] T),
    |     ---- required by a bound in this tuple variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/login_param.rs:176:24
    |
176 |             .and_then(|provider_id| get_provider_by_id(&provider_id));
    |                        ^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all function arguments must have a statically known size

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/message.rs:552:40
    |
552 | ...                   .and_then(|in_reply_to| parse_message_id(&in_reply_to).ok()),
    |                                  ^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all function arguments must have a statically known size

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/message.rs:620:13
    |
620 |         let bytes = tokio::fs::read(path).await?;
    |             ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/message.rs:620:21
    |
620 |         let bytes = tokio::fs::read(path).await?;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/message.rs:620:21
    |
620 |         let bytes = tokio::fs::read(path).await?;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `ControlFlow`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/message.rs:620:48
    |
620 |         let bytes = tokio::fs::read(path).await?;
    |                                                ^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `Break`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `Break`
...
93  |     Break(B),
    |     ----- required by a bound in this variant

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/message.rs:1466:10
     |
1466 |     let (headers, compressed) = context
     |          ^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/message.rs:1466:33
     |
1466 |       let (headers, compressed) = context
     |  _________________________________^
1467 | |         .sql
1468 | |         .query_row(
1469 | |             "SELECT mime_headers, mime_compressed FROM msgs WHERE id=?",
...    |
1476 | |         )
1477 | |         .await?;
     | |_______________^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
     = note: only the last element of a tuple may have a dynamically sized type

error[E0599]: no method named `clone` found for slice `[u8]` in the current scope
    --> src/message.rs:1482:28
     |
1482 |     let headers2 = headers.clone();
     |                            ^^^^^ method not found in `[u8]`

error[E0308]: mismatched types
    --> src/message.rs:1486:23
     |
1486 |             return Ok(headers);
     |                    -- ^^^^^^^- help: try using a conversion method: `.to_vec()`
     |                    |  |
     |                    |  expected `Vec<u8>`, found `[u8]`
     |                    arguments to this enum variant are incorrect
     |
     = note: expected struct `Vec<u8>`
                 found slice `[u8]`
help: the type constructed contains `[u8]` due to the type of the argument passed
    --> src/message.rs:1486:20
     |
1486 |             return Ok(headers);
     |                    ^^^-------^
     |                       |
     |                       this argument influences the type of `Ok`
note: tuple variant defined here
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/result.rs:506:5
     |
506  |     Ok(#[stable(feature = "rust1", since = "1.0.0")] T),
     |     ^^

error[E0308]: mismatched types
    --> src/message.rs:1512:8
     |
1512 |     Ok(headers)
     |     -- ^^^^^^^- help: try using a conversion method: `.to_vec()`
     |     |  |
     |     |  expected `Vec<u8>`, found `[u8]`
     |     arguments to this enum variant are incorrect
     |
     = note: expected struct `Vec<u8>`
                 found slice `[u8]`
help: the type constructed contains `[u8]` due to the type of the argument passed
    --> src/message.rs:1512:5
     |
1512 |     Ok(headers)
     |     ^^^-------^
     |        |
     |        this argument influences the type of `Ok`
note: tuple variant defined here
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/result.rs:506:5
     |
506  |     Ok(#[stable(feature = "rust1", since = "1.0.0")] T),
     |     ^^

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/message.rs:1663:9
     |
1663 |         curr_rfc724_mid,
     |         ^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/message.rs:1666:10
     |
1666 |     ) in msgs
     |          ^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
     = note: only the last element of a tuple may have a dynamically sized type

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/message.rs:1693:29
     |
1693 | ...                   (id, curr_from_id, curr_rfc724_mid),
     |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: within `(MsgId, _, str)`, the trait `Sized` is not implemented for `str`, which is required by `(MsgId, _, str): Sized`
     = note: required because it appears within the type `(MsgId, _, str)`
     = note: tuples must have a statically known size to be initialized

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/mimefactory.rs:186:44
    |
186 | ...                   let (authname, addr, id) = row?;
    |                                      ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/mimefactory.rs:186:56
    |
186 | ...                   let (authname, addr, id) = row?;
    |                                                  ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: only the last element of a tuple may have a dynamically sized type

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/mimefactory.rs:188:49
    |
188 | ...                   recipients.push((authname, addr));
    |                                       ^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: within `(_, str)`, the trait `Sized` is not implemented for `str`, which is required by `(_, str): Sized`
    = note: required because it appears within the type `(_, str)`
    = note: tuples must have a statically known size to be initialized

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/blob.rs:1300:14
     |
1299 | /         alice
1300 | |             .set_config(Config::MediaQuality, media_quality_config)
     | |             -^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `set_config` not found for this struct

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/mimefactory.rs:1350:22
     |
1350 |                 Some(path) => match build_avatar_file(context, &path).await {
     |                      ^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/mimefactory.rs:1350:17
     |
1350 |                 Some(path) => match build_avatar_file(context, &path).await {
     |                 ^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::prelude::v1::Some`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
     |
570  | pub enum Option<T> {
     |                 ^ required by this bound in `std::prelude::v1::Some`
...
578  |     Some(#[stable(feature = "rust1", since = "1.0.0")] T),
     |     ---- required by a bound in this tuple variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/mimefactory.rs:1357:17
     |
1357 |                 None => headers
     |                 ^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::prelude::v1::None`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
     |
570  | pub enum Option<T> {
     |                 ^ required by this bound in `std::prelude::v1::None`
...
574  |     None,
     |     ---- required by a bound in this unit variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/mimefactory.rs:1349:19
     |
1349 |             match context.get_config(Config::Selfavatar).await? {
     |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::option::Option`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
     |
570  | pub enum Option<T> {
     |                 ^ required by this bound in `Option`

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/mimefactory.rs:1547:9
     |
1547 |     let body = fs::read(blob.to_abs_path()).await?;
     |         ^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/mimefactory.rs:1547:16
     |
1547 |     let body = fs::read(blob.to_abs_path()).await?;
     |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
    --> src/blob.rs:1302:26
     |
1302 |         let file = alice.get_blobdir().join("file").with_extension(extension);
     |                          ^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_blobdir` not found for this struct

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/mimefactory.rs:1547:16
     |
1547 |     let body = fs::read(blob.to_abs_path()).await?;
     |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `ControlFlow`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
     |
85   | pub enum ControlFlow<B, C = ()> {
     |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/mimefactory.rs:1547:50
     |
1547 |     let body = fs::read(blob.to_abs_path()).await?;
     |                                                  ^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `Break`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
     |
85   | pub enum ControlFlow<B, C = ()> {
     |                         ^^^^^^ required by this bound in `Break`
...
93   |     Break(B),
     |     ----- required by a bound in this variant

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
    --> src/blob.rs:1326:14
     |
1325 |           let file_saved = alice
     |  __________________________-
1326 | |             .get_blobdir()
     | |             -^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
    --> src/blob.rs:1336:14
     |
1335 |           let file_saved = bob
     |  __________________________-
1336 | |             .get_blobdir()
     | |             -^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `get_blobdir` not found for this struct

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/qr_code_generator.rs:33:14
     |
33   |         Some(path) => {
     |              ^^^^ doesn't have a size known at compile-time
     |
     = help: within `Path`, the trait `Sized` is not implemented for `[u8]`, which is required by `Path: Sized`
note: required because it appears within the type `Path`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/path.rs:1992:12
     |
1992 | pub struct Path {
     |            ^^^^
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/qr_code_generator.rs:37:9
     |
37   |         None => None,
     |         ^^^^ doesn't have a size known at compile-time
     |
     = help: within `Path`, the trait `Sized` is not implemented for `[u8]`, which is required by `Path: Sized`
note: required because it appears within the type `Path`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/path.rs:1992:12
     |
1992 | pub struct Path {
     |            ^^^^
note: required by a bound in `std::prelude::v1::None`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
     |
570  | pub enum Option<T> {
     |                 ^ required by this bound in `std::prelude::v1::None`
...
574  |     None,
     |     ---- required by a bound in this unit variant

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/qr_code_generator.rs:81:14
     |
81   |         Some(path) => {
     |              ^^^^ doesn't have a size known at compile-time
     |
     = help: within `Path`, the trait `Sized` is not implemented for `[u8]`, which is required by `Path: Sized`
note: required because it appears within the type `Path`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/path.rs:1992:12
     |
1992 | pub struct Path {
     |            ^^^^
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/qr_code_generator.rs:85:9
     |
85   |         None => None,
     |         ^^^^ doesn't have a size known at compile-time
     |
     = help: within `Path`, the trait `Sized` is not implemented for `[u8]`, which is required by `Path: Sized`
note: required because it appears within the type `Path`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/path.rs:1992:12
     |
1992 | pub struct Path {
     |            ^^^^
note: required by a bound in `std::prelude::v1::None`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
     |
570  | pub enum Option<T> {
     |                 ^ required by this bound in `std::prelude::v1::None`
...
574  |     None,
     |     ---- required by a bound in this unit variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/scheduler/connectivity.rs:366:29
    |
366 |                 if let Some(foldername) = f {
    |                             ^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/scheduler/connectivity.rs:366:24
    |
366 |                 if let Some(foldername) = f {
    |                        ^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::prelude::v1::Some`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `std::prelude::v1::Some`
...
578 |     Some(#[stable(feature = "rust1", since = "1.0.0")] T),
    |     ---- required by a bound in this tuple variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/scheduler/connectivity.rs:373:55
    |
373 |                     ret += &*escaper::encode_minimal(&detailed.to_string_imap(self).await);
    |                                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/scheduler/connectivity.rs:373:85
    |
373 |                     ret += &*escaper::encode_minimal(&detailed.to_string_imap(self).await);
    |                                                                                     ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
    |
12  | pub enum Poll<T> {
    |               ^ required by this bound in `Poll::Ready`
...
16  |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
    |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/scheduler/connectivity.rs:388:55
    |
388 |                     ret += &*escaper::encode_minimal(&detailed.to_string_imap(self).await);
    |                                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/scheduler/connectivity.rs:388:85
    |
388 |                     ret += &*escaper::encode_minimal(&detailed.to_string_imap(self).await);
    |                                                                                     ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
    |
12  | pub enum Poll<T> {
    |               ^ required by this bound in `Poll::Ready`
...
16  |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
    |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/scheduler/connectivity.rs:406:43
    |
406 |         ret += &*escaper::encode_minimal(&detailed.to_string_smtp(self).await);
    |                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/scheduler/connectivity.rs:406:73
    |
406 |         ret += &*escaper::encode_minimal(&detailed.to_string_smtp(self).await);
    |                                                                         ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
    |
12  | pub enum Poll<T> {
    |               ^ required by this bound in `Poll::Ready`
...
16  |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
    |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/scheduler/connectivity.rs:417:58
    |
417 |             &deltachat_contact_tools::EmailAddress::new(&self.get_primary_self_addr().await?)?
    |                                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/scheduler/connectivity.rs:417:58
    |
417 |             &deltachat_contact_tools::EmailAddress::new(&self.get_primary_self_addr().await?)?
    |                                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `ControlFlow`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/scheduler/connectivity.rs:417:92
    |
417 |             &deltachat_contact_tools::EmailAddress::new(&self.get_primary_self_addr().await?)?
    |                                                                                            ^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `Break`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `Break`
...
93  |     Break(B),
    |     ----- required by a bound in this variant

error[E0308]: mismatched types
   --> src/scheduler/connectivity.rs:456:71
    |
456 | ...                   &*escaper::encode_minimal(resource_name),
    |                         ----------------------- ^^^^^^^^^^^^^ expected `&str`, found `String`
    |                         |
    |                         arguments to this function are incorrect
    |
note: function defined here
   --> /home/k/.cargo/registry/src/index.crates.io-6f17d22bba15001f/escaper-0.1.1/src/encode.rs:40:8
    |
40  | pub fn encode_minimal(s: &str) -> String {
    |        ^^^^^^^^^^^^^^
help: consider borrowing here
    |
456 |                                             &*escaper::encode_minimal(&resource_name),
    |                                                                       +

error[E0277]: the size for values of type `str` cannot be known at compilation time
  --> src/securejoin.rs:70:9
   |
70 |     let self_addr = context.get_primary_self_addr().await?;
   |         ^^^^^^^^^ doesn't have a size known at compile-time
   |
   = help: the trait `Sized` is not implemented for `str`
   = note: all local variables must have a statically known size
   = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
  --> src/securejoin.rs:70:21
   |
70 |     let self_addr = context.get_primary_self_addr().await?;
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
   |
   = help: the trait `Sized` is not implemented for `str`
   = note: all local variables must have a statically known size
   = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
  --> src/securejoin.rs:70:21
   |
70 |     let self_addr = context.get_primary_self_addr().await?;
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
   |
   = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `ControlFlow`
  --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
   |
85 | pub enum ControlFlow<B, C = ()> {
   |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `str` cannot be known at compilation time
  --> src/securejoin.rs:70:58
   |
70 |     let self_addr = context.get_primary_self_addr().await?;
   |                                                          ^ doesn't have a size known at compile-time
   |
   = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `Break`
  --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
   |
85 | pub enum ControlFlow<B, C = ()> {
   |                         ^^^^^^ required by this bound in `Break`
...
93 |     Break(B),
   |     ----- required by a bound in this variant

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:6421:26
     |
6421 |         let file = alice.get_blobdir().join(filename);
     |                          ^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `get_blobdir` found for reference `&test_utils::TestContext` in the current scope
    --> src/chat.rs:7118:26
     |
7118 |             let file = t.get_blobdir().join(name);
     |                          ^^^^^^^^^^^ method not found in `&TestContext`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/stock_str.rs:621:24
    |
621 |             .replace3(&by_contact.get_stock_name_n_addr(context).await)
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/stock_str.rs:621:66
    |
621 |             .replace3(&by_contact.get_stock_name_n_addr(context).await)
    |                                                                  ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
    |
12  | pub enum Poll<T> {
    |               ^ required by this bound in `Poll::Ready`
...
16  |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
    |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/stock_str.rs:631:24
    |
631 |             .replace1(&by_contact.get_stock_name_n_addr(context).await)
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/stock_str.rs:631:66
    |
631 |             .replace1(&by_contact.get_stock_name_n_addr(context).await)
    |                                                                  ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
    |
12  | pub enum Poll<T> {
    |               ^ required by this bound in `Poll::Ready`
...
16  |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
    |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/stock_str.rs:683:24
    |
683 |             .replace2(&by_contact.get_stock_name_n_addr(context).await)
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/stock_str.rs:683:66
    |
683 |             .replace2(&by_contact.get_stock_name_n_addr(context).await)
    |                                                                  ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
    |
12  | pub enum Poll<T> {
    |               ^ required by this bound in `Poll::Ready`
...
16  |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
    |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/stock_str.rs:730:24
    |
730 |             .replace2(&by_contact.get_stock_name_n_addr(context).await)
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/stock_str.rs:730:66
    |
730 |             .replace2(&by_contact.get_stock_name_n_addr(context).await)
    |                                                                  ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
    |
12  | pub enum Poll<T> {
    |               ^ required by this bound in `Poll::Ready`
...
16  |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
    |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/stock_str.rs:746:24
    |
746 |             .replace1(&by_contact.get_stock_name_n_addr(context).await)
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/stock_str.rs:746:66
    |
746 |             .replace1(&by_contact.get_stock_name_n_addr(context).await)
    |                                                                  ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
    |
12  | pub enum Poll<T> {
    |               ^ required by this bound in `Poll::Ready`
...
16  |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
    |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/stock_str.rs:765:24
    |
765 |             .replace1(&by_contact.get_stock_name(context).await)
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/stock_str.rs:765:59
    |
765 |             .replace1(&by_contact.get_stock_name(context).await)
    |                                                           ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
    |
12  | pub enum Poll<T> {
    |               ^ required by this bound in `Poll::Ready`
...
16  |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
    |     ----- required by a bound in this variant

error[E0599]: no method named `set_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/config.rs:1000:20
     |
1000 |             alice0.set_config(key, Some(val)).await?;
     |                    ^^^^^^^^^^ method not found in `&TestContext`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/stock_str.rs:825:24
    |
825 |             .replace1(&by_contact.get_stock_name_n_addr(context).await)
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/stock_str.rs:825:66
    |
825 |             .replace1(&by_contact.get_stock_name_n_addr(context).await)
    |                                                                  ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
    |
12  | pub enum Poll<T> {
    |               ^ required by this bound in `Poll::Ready`
...
16  |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
    |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/stock_str.rs:853:20
    |
853 |         .replace1(&contact_id.get_stock_name(context).await)
    |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/stock_str.rs:853:55
    |
853 |         .replace1(&contact_id.get_stock_name(context).await)
    |                                                       ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
    |
12  | pub enum Poll<T> {
    |               ^ required by this bound in `Poll::Ready`
...
16  |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
    |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/stock_str.rs:957:24
    |
957 |             .replace1(&contact.get_stock_name_n_addr(context).await)
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/stock_str.rs:957:63
    |
957 |             .replace1(&contact.get_stock_name_n_addr(context).await)
    |                                                               ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
    |
12  | pub enum Poll<T> {
    |               ^ required by this bound in `Poll::Ready`
...
16  |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
    |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1026:24
     |
1026 |             .replace1(&by_contact.get_stock_name_n_addr(context).await)
     |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1026:66
     |
1026 |             .replace1(&by_contact.get_stock_name_n_addr(context).await)
     |                                                                  ^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
     |
12   | pub enum Poll<T> {
     |               ^ required by this bound in `Poll::Ready`
...
16   |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
     |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1044:24
     |
1044 |             .replace2(&by_contact.get_stock_name_n_addr(context).await)
     |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1044:66
     |
1044 |             .replace2(&by_contact.get_stock_name_n_addr(context).await)
     |                                                                  ^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
     |
12   | pub enum Poll<T> {
     |               ^ required by this bound in `Poll::Ready`
...
16   |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
     |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1055:24
     |
1055 |             .replace1(&by_contact.get_stock_name_n_addr(context).await)
     |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1055:66
     |
1055 |             .replace1(&by_contact.get_stock_name_n_addr(context).await)
     |                                                                  ^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
     |
12   | pub enum Poll<T> {
     |               ^ required by this bound in `Poll::Ready`
...
16   |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
     |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1066:24
     |
1066 |             .replace1(&by_contact.get_stock_name_n_addr(context).await)
     |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0599]: no method named `get_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/config.rs:1002:31
     |
1002 |             assert_eq!(alice1.get_config(key).await?, Some(val.to_string()));
     |                               ^^^^^^^^^^ method not found in `&TestContext`

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1066:66
     |
1066 |             .replace1(&by_contact.get_stock_name_n_addr(context).await)
     |                                                                  ^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
     |
12   | pub enum Poll<T> {
     |               ^ required by this bound in `Poll::Ready`
...
16   |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
     |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1077:24
     |
1077 |             .replace1(&by_contact.get_stock_name_n_addr(context).await)
     |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1077:66
     |
1077 |             .replace1(&by_contact.get_stock_name_n_addr(context).await)
     |                                                                  ^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
     |
12   | pub enum Poll<T> {
     |               ^ required by this bound in `Poll::Ready`
...
16   |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
     |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1088:24
     |
1088 |             .replace1(&by_contact.get_stock_name_n_addr(context).await)
     |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1088:66
     |
1088 |             .replace1(&by_contact.get_stock_name_n_addr(context).await)
     |                                                                  ^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
     |
12   | pub enum Poll<T> {
     |               ^ required by this bound in `Poll::Ready`
...
16   |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
     |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1143:20
     |
1143 |         .replace1(&contact_id.get_stock_name(context).await)
     |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1143:55
     |
1143 |         .replace1(&contact_id.get_stock_name(context).await)
     |                                                       ^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
     |
12   | pub enum Poll<T> {
     |               ^ required by this bound in `Poll::Ready`
...
16   |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
     |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1175:24
     |
1175 |             .replace2(&by_contact.get_stock_name_n_addr(context).await)
     |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1175:66
     |
1175 |             .replace2(&by_contact.get_stock_name_n_addr(context).await)
     |                                                                  ^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
     |
12   | pub enum Poll<T> {
     |               ^ required by this bound in `Poll::Ready`
...
16   |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
     |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1193:24
     |
1193 |             .replace2(&by_contact.get_stock_name_n_addr(context).await)
     |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1193:66
     |
1193 |             .replace2(&by_contact.get_stock_name_n_addr(context).await)
     |                                                                  ^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
     |
12   | pub enum Poll<T> {
     |               ^ required by this bound in `Poll::Ready`
...
16   |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
     |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1211:24
     |
1211 |             .replace2(&by_contact.get_stock_name_n_addr(context).await)
     |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1211:66
     |
1211 |             .replace2(&by_contact.get_stock_name_n_addr(context).await)
     |                                                                  ^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
     |
12   | pub enum Poll<T> {
     |               ^ required by this bound in `Poll::Ready`
...
16   |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
     |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1229:24
     |
1229 |             .replace2(&by_contact.get_stock_name_n_addr(context).await)
     |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/stock_str.rs:1229:66
     |
1229 |             .replace2(&by_contact.get_stock_name_n_addr(context).await)
     |                                                                  ^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
     |
12   | pub enum Poll<T> {
     |               ^ required by this bound in `Poll::Ready`
...
16   |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
     |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sync.rs:207:34
    |
207 |                         let (id, item) = row?;
    |                                  ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sync.rs:207:42
    |
207 |                         let (id, item) = row?;
    |                                          ^^^^ doesn't have a size known at compile-time
    |
    = help: within `(_, str)`, the trait `Sized` is not implemented for `str`, which is required by `(_, _): Sized`
    = note: required because it appears within the type `(_, str)`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sync.rs:207:42
    |
207 |                         let (id, item) = row?;
    |                                          ^^^^ doesn't have a size known at compile-time
    |
    = help: within `(_, str)`, the trait `Sized` is not implemented for `str`, which is required by `(_, _): Sized`
    = note: required because it appears within the type `(_, str)`
note: required by a bound in `ControlFlow`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/webxdc.rs:717:29
    |
717 |                         let update_item = row?;
    |                             ^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/webxdc.rs:717:43
    |
717 |                         let update_item = row?;
    |                                           ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/webxdc.rs:717:43
    |
717 |                         let update_item = row?;
    |                                           ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `ControlFlow`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/webxdc.rs:717:46
    |
717 |                         let update_item = row?;
    |                                              ^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `Break`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `Break`
...
93  |     Break(B),
    |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
  --> src/net.rs:89:13
   |
89 |         for cached_address in context
   |             ^^^^^^^^^^^^^^ doesn't have a size known at compile-time
   |
   = help: the trait `Sized` is not implemented for `str`
   = note: all local variables must have a statically known size
   = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/net.rs:89:31
    |
89  |           for cached_address in context
    |  _______________________________^
90  | |             .sql
91  | |             .query_map(
92  | |                 "SELECT address
...   |
106 | |             )
107 | |             .await?
    | |___________________^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::option::Option`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `Option`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/net.rs:89:9
    |
89  | /         for cached_address in context
90  | |             .sql
91  | |             .query_map(
92  | |                 "SELECT address
...   |
122 | |             }
123 | |         }
    | |_________^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::prelude::v1::None`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `Option::None`
...
574 |     None,
    |     ---- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
  --> src/summary.rs:69:57
   |
69 |         if let Some((reaction_msg, reaction_contact_id, reaction)) = chat
   |                                                         ^^^^^^^^ doesn't have a size known at compile-time
   |
   = help: the trait `Sized` is not implemented for `str`
   = note: all local variables must have a statically known size
   = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
  --> src/summary.rs:76:17
   |
76 |             let summary = reaction_msg.get_summary_text_without_prefix(context).await;
   |                 ^^^^^^^ doesn't have a size known at compile-time
   |
   = help: the trait `Sized` is not implemented for `str`
   = note: all local variables must have a statically known size
   = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
  --> src/summary.rs:76:27
   |
76 |             let summary = reaction_msg.get_summary_text_without_prefix(context).await;
   |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
   |
   = help: the trait `Sized` is not implemented for `str`
   = note: all local variables must have a statically known size
   = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
  --> src/summary.rs:76:81
   |
76 |             let summary = reaction_msg.get_summary_text_without_prefix(context).await;
   |                                                                                 ^^^^^ doesn't have a size known at compile-time
   |
   = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::task::Poll::Ready`
  --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/task/poll.rs:12:15
   |
12 | pub enum Poll<T> {
   |               ^ required by this bound in `Poll::Ready`
...
16 |     Ready(#[stable(feature = "futures_api", since = "1.36.0")] T),
   |     ----- required by a bound in this variant

error[E0609]: no field `sql` on type `&test_utils::TestContext`
    --> src/ephemeral.rs:1147:18
     |
1147 |                 .sql
     |                  ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/receive_imf.rs:1993:23
     |
1993 |             addr_cmp(&context.get_primary_self_addr().await?, added_addr)
     |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/receive_imf.rs:1993:23
     |
1993 |             addr_cmp(&context.get_primary_self_addr().await?, added_addr)
     |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `ControlFlow`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
     |
85   | pub enum ControlFlow<B, C = ()> {
     |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/receive_imf.rs:1993:60
     |
1993 |             addr_cmp(&context.get_primary_self_addr().await?, added_addr)
     |                                                            ^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `Break`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
     |
85   | pub enum ControlFlow<B, C = ()> {
     |                         ^^^^^^ required by this bound in `Break`
...
93   |     Break(B),
     |     ----- required by a bound in this variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/peer_channels.rs:308:46
    |
308 |                     let server = server.map(|data| Ok::<_, url::ParseError>(RelayUrl::from(Url::parse(&data)?))).transpose()?;
    |                                              ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all function arguments must have a statically known size

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/imap.rs:2623:15
     |
2623 |             t.get_config(config).await?
     |               ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/message.rs:1693:29
     |
1693 | ...                   (id, curr_from_id, curr_rfc724_mid),
     |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: within `(message::MsgId, _, str)`, the trait `Sized` is not implemented for `str`, which is required by `(message::MsgId, _, str): Sized`
     = note: required because it appears within the type `(message::MsgId, _, str)`
     = note: tuples must have a statically known size to be initialized

warning: unused import: `crate::log::LogExt`
  --> src/config.rs:19:5
   |
19 | use crate::log::LogExt;
   |     ^^^^^^^^^^^^^^^^^^
   |
note: the lint level is defined here
  --> src/lib.rs:6:5
   |
6  |     unused,
   |     ^^^^^^
   = note: `#[warn(unused_imports)]` implied by `#[warn(unused)]`

warning: unused import: `Context`
 --> src/config.rs:7:22
  |
7 | use anyhow::{ensure, Context as _, Result};
  |                      ^^^^^^^

warning: unused import: `futures_lite::FutureExt`
  --> src/configure.rs:21:5
   |
21 | use futures_lite::FutureExt as _;
   |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `futures::FutureExt`
  --> src/configure.rs:20:5
   |
20 | use futures::FutureExt;
   |     ^^^^^^^^^^^^^^^^^^

warning: unused import: `rusqlite::OptionalExtension`
  --> src/contact.rs:18:5
   |
18 | use rusqlite::OptionalExtension;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::log::LogExt`
 --> src/imap/scan_folders.rs:8:5
  |
8 | use crate::log::LogExt;
  |     ^^^^^^^^^^^^^^^^^^

warning: unused import: `Context`
 --> src/imap/scan_folders.rs:3:14
  |
3 | use anyhow::{Context as _, Result};
  |              ^^^^^^^

warning: unused import: `crate::tools::IsNoneOrEmpty`
  --> src/mimefactory.rs:29:5
   |
29 | use crate::tools::IsNoneOrEmpty;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `log::LogExt`
  --> src/scheduler/connectivity.rs:13:31
   |
13 | use crate::{context::Context, log::LogExt};
   |                               ^^^^^^^^^^^

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/qr_code_generator.rs:33:14
     |
33   |         Some(path) => {
     |              ^^^^ doesn't have a size known at compile-time
     |
     = help: within `std::path::Path`, the trait `Sized` is not implemented for `[u8]`, which is required by `std::path::Path: Sized`
note: required because it appears within the type `std::path::Path`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/path.rs:1992:12
     |
1992 | pub struct Path {
     |            ^^^^
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/qr_code_generator.rs:37:9
     |
37   |         None => None,
     |         ^^^^ doesn't have a size known at compile-time
     |
     = help: within `std::path::Path`, the trait `Sized` is not implemented for `[u8]`, which is required by `std::path::Path: Sized`
note: required because it appears within the type `std::path::Path`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/path.rs:1992:12
     |
1992 | pub struct Path {
     |            ^^^^
note: required by a bound in `std::prelude::v1::None`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
     |
570  | pub enum Option<T> {
     |                 ^ required by this bound in `std::prelude::v1::None`
...
574  |     None,
     |     ---- required by a bound in this unit variant

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/qr_code_generator.rs:81:14
     |
81   |         Some(path) => {
     |              ^^^^ doesn't have a size known at compile-time
     |
     = help: within `std::path::Path`, the trait `Sized` is not implemented for `[u8]`, which is required by `std::path::Path: Sized`
note: required because it appears within the type `std::path::Path`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/path.rs:1992:12
     |
1992 | pub struct Path {
     |            ^^^^
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/qr_code_generator.rs:85:9
     |
85   |         None => None,
     |         ^^^^ doesn't have a size known at compile-time
     |
     = help: within `std::path::Path`, the trait `Sized` is not implemented for `[u8]`, which is required by `std::path::Path: Sized`
note: required because it appears within the type `std::path::Path`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/path.rs:1992:12
     |
1992 | pub struct Path {
     |            ^^^^
note: required by a bound in `std::prelude::v1::None`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
     |
570  | pub enum Option<T> {
     |                 ^ required by this bound in `std::prelude::v1::None`
...
574  |     None,
     |     ---- required by a bound in this unit variant

Some errors have detailed explanations: E0277, E0308, E0432, E0599.
For more information about an error, try `rustc --explain E0277`.
warning: `deltachat` (lib) generated 9 warnings
error: could not compile `deltachat` (lib) due to 216 previous errors; 9 warnings emitted
warning: build failed, waiting for other jobs to finish...
error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
   --> src/securejoin.rs:803:33
    |
803 |         let alice_addr = &alice.get_config(Config::Addr).await.unwrap().unwrap();
    |                                 ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/securejoin.rs:806:14
    |
805 | /         alice
806 | |             .set_config(Config::VerifiedOneOnOneChats, Some("1"))
    | |             -^^^^^^^^^^ method not found in `TestContext`
    | |_____________|
    | 
    |
   ::: src/test_utils.rs:261:1
    |
261 |   pub struct TestContext {
    |   ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/securejoin.rs:809:13
    |
809 |         bob.set_config(Config::VerifiedOneOnOneChats, Some("1"))
    |             ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for reference `&test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2553:13
     |
2553 |         bob.send_webxdc_status_update(
     |         ----^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `flush_status_updates` found for reference `&test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2559:13
     |
2559 |         bob.flush_status_updates().await?;
     |             ^^^^^^^^^^^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `get_webxdc_status_updates` found for reference `&test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2563:14
     |
2562 | /         alice
2563 | |             .get_webxdc_status_updates(alice_instance.id, StatusUpdateSerial(0))
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `&TestContext`
     | |_____________|
     | 

error[E0599]: no method named `set_primary_self_addr` found for reference `&test_utils::TestContext` in the current scope
   --> src/test_utils.rs:158:22
    |
158 |         test_context.set_primary_self_addr(new_addr).await.unwrap();
    |                      ^^^^^^^^^^^^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `get_primary_self_addr` found for reference `&test_utils::TestContext` in the current scope
   --> src/test_utils.rs:165:26
    |
165 |             test_context.get_primary_self_addr().await.unwrap(),
    |                          ^^^^^^^^^^^^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `get_config_i64` found for reference `&test_utils::TestContext` in the current scope
    --> src/test_utils.rs:1094:52
     |
1094 |     peerstate.backward_verified_key_id = Some(this.get_config_i64(Config::KeyId).await.unwrap());
     |                                                    ^^^^^^^^^^^^^^ method not found in `&TestContext`

error[E0609]: no field `sql` on type `&test_utils::TestContext`
    --> src/test_utils.rs:1096:32
     |
1096 |     peerstate.save_to_db(&this.sql).await.unwrap();
     |                                ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`, `_log_sink`

error[E0599]: no method named `set_config_bool` found for reference `&&test_utils::TestContext` in the current scope
   --> src/tests/verified_chats.rs:883:11
    |
883 |         t.set_config_bool(Config::VerifiedOneOnOneChats, true)
    |           ^^^^^^^^^^^^^^^ method not found in `&&TestContext`

error[E0599]: no method named `get_last_error` found for struct `test_utils::TestContext` in the current scope
   --> src/log.rs:113:22
    |
113 |         assert_eq!(t.get_last_error(), "");
    |                      ^^^^^^^^^^^^^^ help: there is a method with a similar name: `get_last_msg`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_last_error` not found for this struct

error[E0599]: no method named `set_last_error` found for struct `test_utils::TestContext` in the current scope
   --> src/log.rs:44:14
    |
44  |         $ctx.set_last_error(&formatted);
    |              ^^^^^^^^^^^^^^ method not found in `TestContext`
...
115 |         error!(t, "foo-error");
    |         ---------------------- in this macro invocation
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_last_error` not found for this struct
    |
    = note: this error originates in the macro `error` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0599]: no method named `emit_event` found for struct `test_utils::TestContext` in the current scope
   --> src/log.rs:45:14
    |
45  |         $ctx.emit_event($crate::EventType::Error(formatted));
    |              ^^^^^^^^^^ method not found in `TestContext`
...
115 |         error!(t, "foo-error");
    |         ---------------------- in this macro invocation
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `emit_event` not found for this struct
    |
    = note: this error originates in the macro `error` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0599]: no method named `get_last_error` found for struct `test_utils::TestContext` in the current scope
   --> src/log.rs:116:22
    |
116 |         assert_eq!(t.get_last_error(), "foo-error");
    |                      ^^^^^^^^^^^^^^ help: there is a method with a similar name: `get_last_msg`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_last_error` not found for this struct

error[E0599]: no method named `emit_event` found for struct `test_utils::TestContext` in the current scope
   --> src/log.rs:33:14
    |
33  |         $ctx.emit_event($crate::EventType::Warning(full));
    |              ^^^^^^^^^^ method not found in `TestContext`
...
118 |         warn!(t, "foo-warning");
    |         ----------------------- in this macro invocation
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `emit_event` not found for this struct
    |
    = note: this error originates in the macro `warn` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0599]: no method named `get_last_error` found for struct `test_utils::TestContext` in the current scope
   --> src/log.rs:119:22
    |
119 |         assert_eq!(t.get_last_error(), "foo-error");
    |                      ^^^^^^^^^^^^^^ help: there is a method with a similar name: `get_last_msg`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_last_error` not found for this struct

error[E0599]: no method named `emit_event` found for struct `test_utils::TestContext` in the current scope
   --> src/log.rs:18:14
    |
18  |         $ctx.emit_event($crate::EventType::Info(full));
    |              ^^^^^^^^^^ method not found in `TestContext`
...
121 |         info!(t, "foo-info");
    |         -------------------- in this macro invocation
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `emit_event` not found for this struct
    |
    = note: this error originates in the macro `info` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0599]: no method named `get_last_error` found for struct `test_utils::TestContext` in the current scope
   --> src/log.rs:122:22
    |
122 |         assert_eq!(t.get_last_error(), "foo-error");
    |                      ^^^^^^^^^^^^^^ help: there is a method with a similar name: `get_last_msg`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_last_error` not found for this struct

error[E0599]: no method named `set_last_error` found for struct `test_utils::TestContext` in the current scope
   --> src/log.rs:44:14
    |
44  |         $ctx.set_last_error(&formatted);
    |              ^^^^^^^^^^^^^^ method not found in `TestContext`
...
124 |         error!(t, "bar-error");
    |         ---------------------- in this macro invocation
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_last_error` not found for this struct
    |
    = note: this error originates in the macro `error` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0599]: no method named `emit_event` found for struct `test_utils::TestContext` in the current scope
   --> src/log.rs:45:14
    |
45  |         $ctx.emit_event($crate::EventType::Error(formatted));
    |              ^^^^^^^^^^ method not found in `TestContext`
...
124 |         error!(t, "bar-error");
    |         ---------------------- in this macro invocation
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `emit_event` not found for this struct
    |
    = note: this error originates in the macro `error` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0599]: no method named `set_last_error` found for struct `test_utils::TestContext` in the current scope
   --> src/log.rs:44:14
    |
44  |         $ctx.set_last_error(&formatted);
    |              ^^^^^^^^^^^^^^ method not found in `TestContext`
...
125 |         error!(t, "baz-error");
    |         ---------------------- in this macro invocation
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_last_error` not found for this struct
    |
    = note: this error originates in the macro `error` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0599]: no method named `emit_event` found for struct `test_utils::TestContext` in the current scope
   --> src/log.rs:45:14
    |
45  |         $ctx.emit_event($crate::EventType::Error(formatted));
    |              ^^^^^^^^^^ method not found in `TestContext`
...
125 |         error!(t, "baz-error");
    |         ---------------------- in this macro invocation
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `emit_event` not found for this struct
    |
    = note: this error originates in the macro `error` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0599]: no method named `get_last_error` found for struct `test_utils::TestContext` in the current scope
   --> src/log.rs:126:22
    |
126 |         assert_eq!(t.get_last_error(), "baz-error");
    |                      ^^^^^^^^^^^^^^ help: there is a method with a similar name: `get_last_msg`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_last_error` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/sql.rs:1070:14
     |
1070 |             .sql
     |              ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/sql.rs:1092:11
     |
1092 |         t.set_config(Config::Selfavatar, Some(avatar_src.to_str().unwrap()))
     |           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_event_emitter` found for struct `test_utils::TestContext` in the current scope
    --> src/sql.rs:1096:30
     |
1096 |         let event_source = t.get_event_emitter();
     |                              ^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_event_emitter` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/sql.rs:1098:19
     |
1098 |         let a = t.get_config(Config::Selfavatar).await.unwrap().unwrap();
     |                   ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/sql.rs:1101:11
     |
1101 |         t.sql.close().await;
     |           ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/sql.rs:1103:11
     |
1103 |         t.sql.open(&t, "".to_string()).await.unwrap();
     |           ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/sql.rs:1105:19
     |
1105 |         let a = t.get_config(Config::Selfavatar).await.unwrap().unwrap();
     |                   ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
    --> src/sql.rs:1142:21
     |
1142 |         let dir = t.get_blobdir().join(BLOBS_BACKUP_NAME);
     |                     ^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_blobdir` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/sql.rs:1202:36
     |
1202 |             migrations::run(&t, &t.sql).await?;
     |                                    ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `emit_event` found for reference `&test_utils::TestContext` in the current scope
    --> src/log.rs:18:14
     |
18   |         $ctx.emit_event($crate::EventType::Info(full));
     |              ^^^^^^^^^^ method not found in `&TestContext`
     |
    ::: src/sql.rs:1208:9
     |
1208 |         info!(&t, "test_migration_flags: XXX END MARKER");
     |         ------------------------------------------------- in this macro invocation
     |
     = note: this error originates in the macro `info` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/events/chatlist_events.rs:238:15
    |
238 |         alice.set_config(Config::Displayname, Some("Alice")).await?;
    |               ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/events/chatlist_events.rs:275:14
    |
274 | /         alice
275 | |             .set_config(Config::Selfavatar, Some(file.to_str().unwrap()))
    | |             -^^^^^^^^^^ method not found in `TestContext`
    | |_____________|
    | 
    |
   ::: src/test_utils.rs:261:1
    |
261 |   pub struct TestContext {
    |   ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
   --> src/blob.rs:765:23
    |
765 |         let fname = t.get_blobdir().join("foo");
    |                       ^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
   --> src/blob.rs:769:42
    |
769 |         assert_eq!(blob.to_abs_path(), t.get_blobdir().join("foo"));
    |                                          ^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
   --> src/blob.rs:806:26
    |
806 |         let foo_path = t.get_blobdir().join("foo.txt");
    |                          ^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
   --> src/blob.rs:809:38
    |
809 |         let mut dir = fs::read_dir(t.get_blobdir()).await.unwrap();
    |                                      ^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
   --> src/blob.rs:828:26
    |
828 |         let foo_path = t.get_blobdir().join("foo.tar.gz");
    |                          ^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
   --> src/blob.rs:833:38
    |
833 |         let mut dir = fs::read_dir(t.get_blobdir()).await.unwrap();
    |                                      ^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
   --> src/blob.rs:870:24
    |
870 |         let whoops = t.get_blobdir().join("whoops");
    |                        ^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
   --> src/blob.rs:887:25
    |
887 |         let src_int = t.get_blobdir().join("internal");
    |                         ^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
   --> src/blob.rs:997:29
    |
997 |         let avatar_blob = t.get_blobdir().join("avatar.jpg");
    |                             ^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/blob.rs:999:11
    |
999 |         t.set_config(Config::Selfavatar, Some(avatar_src.to_str().unwrap()))
    |           ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/blob.rs:1004:28
     |
1004 |         let avatar_cfg = t.get_config(Config::Selfavatar).await.unwrap();
     |                            ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
    --> src/blob.rs:1043:28
     |
1043 |         let avatar_src = t.get_blobdir().join("avatar.png");
     |                            ^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/blob.rs:1050:11
     |
1050 |         t.set_config(Config::Selfavatar, Some(avatar_src.to_str().unwrap()))
     |           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/blob.rs:1053:28
     |
1053 |         let avatar_cfg = t.get_config(Config::Selfavatar).await.unwrap().unwrap();
     |                            ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
    --> src/blob.rs:1072:29
     |
1072 |         let avatar_blob = t.get_blobdir().join("avatar.png");
     |                             ^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/blob.rs:1074:11
     |
1074 |         t.set_config(Config::Selfavatar, Some(avatar_src.to_str().unwrap()))
     |           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/blob.rs:1082:28
     |
1082 |         let avatar_cfg = t.get_config(Config::Selfavatar).await.unwrap();
     |                            ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/blob.rs:1360:14
     |
1359 | /         alice
1360 | |             .set_config(
     | |             -^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
    --> src/blob.rs:1365:26
     |
1365 |         let file = alice.get_blobdir().join("file").with_extension("gif");
     |                          ^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
    --> src/blob.rs:1379:14
     |
1378 |           let file_saved = bob
     |  __________________________-
1379 | |             .get_blobdir()
     | |             -^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
    --> src/blob.rs:1394:22
     |
1394 |         let file = t.get_blobdir().join("anyfile.dat");
     |                      ^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
    --> src/blob.rs:1412:22
     |
1412 |         assert_ne!(t.get_blobdir().to_str(), t.dir.path().to_str());
     |                      ^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:4894:15
     |
4894 |         alice.set_config(Config::Bot, Some("1")).await?;
     |               ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:4926:15
     |
4926 |         alice.set_config(Config::E2eeEnabled, Some("0")).await?;
     |               ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:4927:13
     |
4927 |         bob.set_config(Config::E2eeEnabled, Some("0")).await?;
     |             ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:4933:13
     |
4933 |         bob.set_config(Config::Displayname, Some("Bob")).await?;
     |             ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:4999:15
     |
4999 |         alice.set_config(Config::E2eeEnabled, Some("0")).await?;
     |               ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:5000:13
     |
5000 |         bob.set_config(Config::E2eeEnabled, Some("0")).await?;
     |             ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:5062:49
     |
5062 |             Contact::create(&alice, "Bob", &bob.get_config(Config::Addr).await?.unwrap()).await?;
     |                                                 ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:5095:12
     |
5095 |         a1.set_config_bool(Config::BccSelf, true).await?;
     |            ^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `update_device_chats` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:5518:11
     |
5518 |         t.update_device_chats().await.unwrap();
     |           ^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `update_device_chats` not found for this struct

error[E0599]: no method named `get_fresh_msgs` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:5813:22
     |
5813 |         assert_eq!(t.get_fresh_msgs().await?.len(), 0);
     |                      ^^^^^^^^^^^^^^ help: there is a method with a similar name: `get_last_msg`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_fresh_msgs` not found for this struct

error[E0599]: no method named `get_fresh_msgs` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:5820:22
     |
5820 |         assert_eq!(t.get_fresh_msgs().await?.len(), 1);
     |                      ^^^^^^^^^^^^^^ help: there is a method with a similar name: `get_last_msg`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_fresh_msgs` not found for this struct

error[E0599]: no method named `get_fresh_msgs` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:5828:22
     |
5828 |         assert_eq!(t.get_fresh_msgs().await?.len(), 1);
     |                      ^^^^^^^^^^^^^^ help: there is a method with a similar name: `get_last_msg`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_fresh_msgs` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:6001:11
     |
6001 |         t.set_config(Config::Selfavatar, None).await?; // setting to None also forces re-sending
     |           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `update_device_chats` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:6156:13
     |
6156 |         ctx.update_device_chats().await.unwrap();
     |             ^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `update_device_chats` not found for this struct

error[E0599]: no method named `get_fresh_msgs` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:6241:22
     |
6241 |         assert_eq!(t.get_fresh_msgs().await?.len(), 1);
     |                      ^^^^^^^^^^^^^^ help: there is a method with a similar name: `get_last_msg`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_fresh_msgs` not found for this struct

error[E0599]: no method named `get_fresh_msgs` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:6259:22
     |
6259 |         assert_eq!(t.get_fresh_msgs().await?.len(), 0);
     |                      ^^^^^^^^^^^^^^ help: there is a method with a similar name: `get_last_msg`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_fresh_msgs` not found for this struct

error[E0599]: no method named `get_fresh_msgs` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:6303:22
     |
6303 |         assert_eq!(t.get_fresh_msgs().await?.len(), 0);
     |                      ^^^^^^^^^^^^^^ help: there is a method with a similar name: `get_last_msg`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_fresh_msgs` not found for this struct

error[E0599]: no method named `get_fresh_msgs` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:6309:22
     |
6309 |         assert_eq!(t.get_fresh_msgs().await?.len(), 0);
     |                      ^^^^^^^^^^^^^^ help: there is a method with a similar name: `get_last_msg`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_fresh_msgs` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:6380:14
     |
6379 | /         alice
6380 | |             .set_config(Config::ShowEmails, Some("0"))
     | |             -^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:6479:26
     |
6479 |         let file = alice.get_blobdir().join("sticker.jpg");
     |                          ^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:6541:26
     |
6541 |         let file = alice.get_blobdir().join(file_name);
     |                          ^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:6698:14
     |
6697 | /         alice
6698 | |             .set_config(Config::Displayname, Some("secretname"))
     | |             -^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:7076:13
     |
7076 |         bob.set_config(Config::E2eeEnabled, Some("0")).await?;
     |             ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config_bool` found for reference `&test_utils::TestContext` in the current scope
    --> src/chat.rs:7292:15
     |
7292 |             a.set_config_bool(Config::SyncMsgs, true).await?;
     |               ^^^^^^^^^^^^^^^ method not found in `&TestContext`

error[E0609]: no field `sql` on type `&test_utils::TestContext`
    --> src/chat.rs:7345:18
     |
7345 |                 .sql
     |                  ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `set_config_bool` found for reference `&test_utils::TestContext` in the current scope
    --> src/chat.rs:7358:15
     |
7358 |             a.set_config_bool(Config::SyncMsgs, true).await?;
     |               ^^^^^^^^^^^^^^^ method not found in `&TestContext`

error[E0609]: no field `sql` on type `&test_utils::TestContext`
    --> src/chat.rs:7390:18
     |
7390 |                 .sql
     |                  ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `set_config_bool` found for reference `&test_utils::TestContext` in the current scope
    --> src/chat.rs:7406:15
     |
7406 |             a.set_config_bool(Config::SyncMsgs, true).await?;
     |               ^^^^^^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `set_config_bool` found for reference `&test_utils::TestContext` in the current scope
    --> src/chat.rs:7432:15
     |
7432 |             a.set_config_bool(Config::SyncMsgs, true).await?;
     |               ^^^^^^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `set_config_bool` found for reference `&test_utils::TestContext` in the current scope
    --> src/chat.rs:7469:15
     |
7469 |             a.set_config_bool(Config::SyncMsgs, true).await?;
     |               ^^^^^^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/chat.rs:7489:18
     |
7489 |             &bob.get_config(Config::Addr).await?.unwrap(),
     |                  ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `set_config_bool` found for reference `&test_utils::TestContext` in the current scope
    --> src/chat.rs:7515:15
     |
7515 |             a.set_config_bool(Config::SyncMsgs, true).await?;
     |               ^^^^^^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `update_device_chats` found for struct `test_utils::TestContext` in the current scope
   --> src/chatlist.rs:566:11
    |
566 |         t.update_device_chats().await.unwrap();
    |           ^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `update_device_chats` not found for this struct

error[E0599]: no method named `update_device_chats` found for struct `test_utils::TestContext` in the current scope
   --> src/chatlist.rs:599:11
    |
599 |         t.update_device_chats().await.unwrap();
    |           ^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `update_device_chats` not found for this struct

error[E0599]: no method named `set_stock_translation` found for struct `test_utils::TestContext` in the current scope
   --> src/chatlist.rs:610:11
    |
610 |         t.set_stock_translation(StockMessage::SavedMessages, "test-1234-save".to_string())
    |           ^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_stock_translation` not found for this struct

error[E0599]: no method named `set_stock_translation` found for struct `test_utils::TestContext` in the current scope
   --> src/chatlist.rs:618:11
    |
618 |         t.set_stock_translation(StockMessage::DeviceMessages, "test-5678-babbel".to_string())
    |           ^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_stock_translation` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
   --> src/chatlist.rs:783:11
    |
783 |         t.sql
    |           ^^^ unknown field
    |
    = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:820:14
    |
819 |           assert!(t
    |  _________________-
820 | |             .set_config(Config::Addr, Some("Foobar@eXample.oRg"))
    | |             -^^^^^^^^^^ method not found in `TestContext`
    | |_____________|
    | 
    |
   ::: src/test_utils.rs:261:1
    |
261 |   pub struct TestContext {
    |   ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:824:15
    |
824 |             t.get_config(Config::Addr).await.unwrap().unwrap(),
    |               ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:834:19
    |
834 |         assert!(t.set_config(Config::Bot, None).await.is_ok());
    |                   ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:835:19
    |
835 |         assert!(t.set_config(Config::Bot, Some("0")).await.is_ok());
    |                   ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:836:19
    |
836 |         assert!(t.set_config(Config::Bot, Some("1")).await.is_ok());
    |                   ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:837:19
    |
837 |         assert!(t.set_config(Config::Bot, Some("2")).await.is_err());
    |                   ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:838:19
    |
838 |         assert!(t.set_config(Config::Bot, Some("Foobar")).await.is_err());
    |                   ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_config_int` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:844:31
    |
844 |         let media_quality = t.get_config_int(Config::MediaQuality).await.unwrap();
    |                               ^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config_int` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:849:11
    |
849 |         t.set_config(Config::MediaQuality, Some("1")).await.unwrap();
    |           ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_config_int` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:851:31
    |
851 |         let media_quality = t.get_config_int(Config::MediaQuality).await.unwrap();
    |                               ^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config_int` not found for this struct

error[E0599]: no method named `get_ui_config` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:862:22
    |
862 |         assert_eq!(t.get_ui_config("ui.desktop.linux.systray").await?, None);
    |                      ^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_ui_config` not found for this struct

error[E0599]: no method named `set_ui_config` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:864:11
    |
864 |         t.set_ui_config("ui.android.screen_security", Some("safe"))
    |           ^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_ui_config` not found for this struct

error[E0599]: no method named `get_ui_config` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:867:15
    |
867 |             t.get_ui_config("ui.android.screen_security").await?,
    |               ^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_ui_config` not found for this struct

error[E0599]: no method named `set_ui_config` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:871:11
    |
871 |         t.set_ui_config("ui.android.screen_security", None).await?;
    |           ^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_ui_config` not found for this struct

error[E0599]: no method named `get_ui_config` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:872:22
    |
872 |         assert_eq!(t.get_ui_config("ui.android.screen_security").await?, None);
    |                      ^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_ui_config` not found for this struct

error[E0599]: no method named `set_ui_config` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:874:19
    |
874 |         assert!(t.set_ui_config("configured", Some("bar")).await.is_err());
    |                   ^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_ui_config` not found for this struct

error[E0599]: no method named `get_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:886:22
    |
886 |         assert_eq!(t.get_config_bool(c).await?, true);
    |                      ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config_bool` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:887:11
    |
887 |         t.set_config_bool(c, false).await?;
    |           ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `get_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:888:22
    |
888 |         assert_eq!(t.get_config_bool(c).await?, false);
    |                      ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config_bool` not found for this struct

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:896:23
    |
896 |         assert!(alice.is_self_addr("alice@example.org").await?);
    |                       ^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `get_all_self_addrs` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:897:26
    |
897 |         assert_eq!(alice.get_all_self_addrs().await?, vec!["alice@example.org"]);
    |                          ^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_all_self_addrs` not found for this struct

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:898:24
    |
898 |         assert!(!alice.is_self_addr("alice@alice.com").await?);
    |                        ^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `set_primary_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:901:15
    |
901 |         alice.set_primary_self_addr("alice@example.org").await?;
    |               ^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_primary_self_addr` not found for this struct

error[E0599]: no method named `set_primary_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:902:15
    |
902 |         alice.set_primary_self_addr("Alice@Example.Org").await?;
    |               ^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_primary_self_addr` not found for this struct

error[E0599]: no method named `get_all_self_addrs` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:903:26
    |
903 |         assert_eq!(alice.get_all_self_addrs().await?, vec!["Alice@Example.Org"]);
    |                          ^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_all_self_addrs` not found for this struct

error[E0599]: no method named `set_primary_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:908:15
    |
908 |         alice.set_primary_self_addr("Alice@alice.com").await?;
    |               ^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_primary_self_addr` not found for this struct

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:909:23
    |
909 |         assert!(alice.is_self_addr("aliCe@example.org").await?);
    |                       ^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:910:23
    |
910 |         assert!(alice.is_self_addr("alice@alice.com").await?);
    |                       ^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `get_all_self_addrs` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:912:19
    |
912 |             alice.get_all_self_addrs().await?,
    |                   ^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_all_self_addrs` not found for this struct

error[E0599]: no method named `set_primary_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:917:15
    |
917 |         alice.set_primary_self_addr("alice@alice.com").await?;
    |               ^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_primary_self_addr` not found for this struct

error[E0599]: no method named `set_primary_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:918:15
    |
918 |         alice.set_primary_self_addr("alice@alice.com").await?;
    |               ^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_primary_self_addr` not found for this struct

error[E0599]: no method named `get_all_self_addrs` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:920:19
    |
920 |             alice.get_all_self_addrs().await?,
    |                   ^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_all_self_addrs` not found for this struct

error[E0599]: no method named `set_primary_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:925:15
    |
925 |         alice.set_primary_self_addr("alice@example.org").await?;
    |               ^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_primary_self_addr` not found for this struct

error[E0599]: no method named `get_all_self_addrs` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:927:19
    |
927 |             alice.get_all_self_addrs().await?,
    |                   ^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_all_self_addrs` not found for this struct

error[E0599]: no method named `set_primary_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:933:15
    |
933 |         alice.set_primary_self_addr("alice@alice.xyz").await?;
    |               ^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_primary_self_addr` not found for this struct

error[E0599]: no method named `get_all_self_addrs` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:935:19
    |
935 |             alice.get_all_self_addrs().await?,
    |                   ^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_all_self_addrs` not found for this struct

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:938:23
    |
938 |         assert!(alice.is_self_addr("alice@example.org").await?);
    |                       ^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:939:23
    |
939 |         assert!(alice.is_self_addr("alice@alice.com").await?);
    |                       ^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:940:23
    |
940 |         assert!(alice.is_self_addr("Alice@alice.xyz").await?);
    |                       ^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `set_config_bool` found for reference `&test_utils::TestContext` in the current scope
   --> src/config.rs:950:15
    |
950 |             a.set_config_bool(Config::SyncMsgs, true).await?;
    |               ^^^^^^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `get_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:953:35
    |
953 |         let mdns_enabled = alice0.get_config_bool(Config::MdnsEnabled).await?;
    |                                   ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config_bool` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:956:14
    |
955 | /         alice1
956 | |             .set_config_bool(Config::MdnsEnabled, !mdns_enabled)
    | |             -^^^^^^^^^^^^^^^ method not found in `TestContext`
    | |_____________|
    | 
    |
   ::: src/test_utils.rs:261:1
    |
261 |   pub struct TestContext {
    |   ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:960:14
    |
959 | /         alice0
960 | |             .set_config_bool(Config::MdnsEnabled, mdns_enabled)
    | |             -^^^^^^^^^^^^^^^ method not found in `TestContext`
    | |_____________|
    | 
    |
   ::: src/test_utils.rs:261:1
    |
261 |   pub struct TestContext {
    |   ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `get_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:964:20
    |
964 |             alice1.get_config_bool(Config::MdnsEnabled).await?,
    |                    ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config_bool` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:970:16
    |
970 |         alice0.set_config(Config::MdnsEnabled, None).await?;
    |                ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:971:27
    |
971 |         assert_eq!(alice0.get_config_bool(Config::MdnsEnabled).await?, true);
    |                           ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config_bool` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:972:16
    |
972 |         alice0.set_config_bool(Config::MdnsEnabled, false).await?;
    |                ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `get_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:974:27
    |
974 |         assert_eq!(alice1.get_config_bool(Config::MdnsEnabled).await?, false);
    |                           ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config_bool` not found for this struct

error[E0599]: no method named `get_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:976:34
    |
976 |         let show_emails = alice0.get_config_bool(Config::ShowEmails).await?;
    |                                  ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config_bool` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:978:14
    |
977 | /         alice0
978 | |             .set_config_bool(Config::ShowEmails, !show_emails)
    | |             -^^^^^^^^^^^^^^^ method not found in `TestContext`
    | |_____________|
    | 
    |
   ::: src/test_utils.rs:261:1
    |
261 |   pub struct TestContext {
    |   ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `get_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:982:20
    |
982 |             alice1.get_config_bool(Config::ShowEmails).await?,
    |                    ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config_bool` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:987:16
    |
987 |         alice0.set_config_bool(Config::SyncMsgs, false).await?;
    |                ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:988:16
    |
988 |         alice0.set_config_bool(Config::SyncMsgs, true).await?;
    |                ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:989:16
    |
989 |         alice0.set_config_bool(Config::MdnsEnabled, true).await?;
    |                ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `get_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:991:24
    |
991 |         assert!(alice1.get_config_bool(Config::MdnsEnabled).await?);
    |                        ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config_bool` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/config.rs:1008:24
     |
1008 |         assert!(alice0.get_config(Config::Selfavatar).await?.is_none());
     |                        ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/config.rs:1013:14
     |
1012 | /         alice0
1013 | |             .set_config(Config::Selfavatar, Some(file.to_str().unwrap()))
     | |             -^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
    --> src/config.rs:1023:20
     |
1023 |             alice0.get_blobdir().join("icon-saved-messages.png")
     |                    ^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/config.rs:1026:14
     |
1025 |           assert!(alice1
     |  _________________-
1026 | |             .get_config(Config::Selfavatar)
     | |             -^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/config.rs:1030:16
     |
1030 |         alice0.set_config(Config::Selfavatar, None).await?;
     |                ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/config.rs:1032:24
     |
1032 |         assert!(alice1.get_config(Config::Selfavatar).await?.is_none());
     |                        ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `set_config_bool` found for reference `&test_utils::TestContext` in the current scope
    --> src/config.rs:1044:15
     |
1044 |             a.set_config_bool(Config::SyncMsgs, true).await?;
     |               ^^^^^^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `set_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/config.rs:1048:16
     |
1048 |         alice0.set_config(Config::Selfstatus, Some(status)).await?;
     |                ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `set_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/config.rs:1051:16
     |
1051 |         alice1.set_config(Config::Selfstatus, Some(status1)).await?;
     |                ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `get_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/config.rs:1054:20
     |
1054 |             alice1.get_config(Config::Selfstatus).await?,
     |                    ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `get_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/config.rs:1059:20
     |
1059 |             alice0.get_config(Config::Selfstatus).await?,
     |                    ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `set_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/config.rs:1070:14
     |
1069 | /         alice0
1070 | |             .set_config(Config::Selfavatar, Some(file.to_str().unwrap()))
     | |             -^^^^^^^^^^ method not found in `&TestContext`
     | |_____________|
     | 

error[E0599]: no method named `set_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/config.rs:1077:14
     |
1076 | /         alice1
1077 | |             .set_config(Config::Selfavatar, Some(file.to_str().unwrap()))
     | |             -^^^^^^^^^^ method not found in `&TestContext`
     | |_____________|
     | 

error[E0599]: no method named `get_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/config.rs:1082:14
     |
1081 |           assert!(alice1
     |  _________________-
1082 | |             .get_config(Config::Selfavatar)
     | |             -^^^^^^^^^^ method not found in `&TestContext`
     | |_____________|
     | 

error[E0599]: no method named `get_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/config.rs:1088:14
     |
1087 |           assert!(alice0
     |  _________________-
1088 | |             .get_config(Config::Selfavatar)
     | |             -^^^^^^^^^^ method not found in `&TestContext`
     | |_____________|
     | 

error[E0599]: no method named `set_config_bool` found for reference `&test_utils::TestContext` in the current scope
    --> src/config.rs:1101:15
     |
1101 |             a.set_config_bool(Config::SyncMsgs, true).await?;
     |               ^^^^^^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/config.rs:1105:14
     |
1104 | /         alice0
1105 | |             .set_config(Config::Displayname, Some("Alice Sync"))
     | |             -^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/config.rs:1120:20
     |
1120 |             alice1.get_config(Config::Displayname).await?,
     |                    ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/config.rs:1135:16
     |
1135 |         alice0.set_config(Config::Displayname, None).await?;
     |                ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/configure.rs:754:11
    |
754 |         t.set_config(Config::Addr, Some("probably@unexistant.addr"))
    |           ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/configure.rs:757:11
    |
757 |         t.set_config(Config::MailPw, Some("123456")).await.unwrap();
    |           ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `configure` found for struct `test_utils::TestContext` in the current scope
   --> src/configure.rs:758:19
    |
758 |         assert!(t.configure().await.is_err());
    |                   ^^^^^^^^^ help: there is a method with a similar name: `configure_addr`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `configure` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following trait defines an item `configure`, perhaps you need to implement it:
            candidate #1: `criterion_plot::prelude::Configure`

error[E0599]: no method named `get_all_self_addrs` found for struct `test_utils::TestContext` in the current scope
    --> src/contact.rs:1996:25
     |
1996 |         assert!(context.get_all_self_addrs().await?.is_empty());
     |                         ^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_all_self_addrs` not found for this struct

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
    --> src/contact.rs:2059:22
     |
2059 |         assert_eq!(t.is_self_addr("me@me.org").await?, false);
     |                      ^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
    --> src/contact.rs:2062:22
     |
2062 |         assert_eq!(t.is_self_addr("me@me.org").await?, false);
     |                      ^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
    --> src/contact.rs:2063:22
     |
2063 |         assert_eq!(t.is_self_addr("you@you.net").await?, true);
     |                      ^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/contact.rs:2721:37
     |
2721 |         let default_status = alice1.get_config(Config::Selfstatus).await?;
     |                                     ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/contact.rs:2724:14
     |
2723 | /         alice1
2724 | |             .set_config(Config::Selfstatus, Some("New status"))
     | |             -^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/contact.rs:2745:27
     |
2745 |         assert_eq!(alice2.get_config(Config::Selfstatus).await?, default_status);
     |                           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/contact.rs:2769:20
     |
2769 |             alice2.get_config(Config::Selfstatus).await?,
     |                    ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/contact.rs:2786:27
     |
2786 |         assert_eq!(alice1.get_config(Config::Selfavatar).await?, None);
     |                           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
    --> src/contact.rs:2788:33
     |
2788 |         let avatar_src = alice1.get_blobdir().join("avatar.png");
     |                                 ^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/contact.rs:2792:14
     |
2791 | /         alice1
2792 | |             .set_config(Config::Selfavatar, Some(avatar_src.to_str().unwrap()))
     | |             -^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/contact.rs:2824:24
     |
2824 |         assert!(alice2.get_config(Config::Selfavatar).await?.is_some());
     |                        ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `set_config_bool` found for reference `&test_utils::TestContext` in the current scope
    --> src/contact.rs:2967:15
     |
2967 |             a.set_config_bool(Config::SyncMsgs, true).await?;
     |               ^^^^^^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `set_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/contact.rs:2995:13
     |
2995 |         bob.set_config(Config::Displayname, Some("Bob")).await?;
     |             ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `set_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/contact.rs:3000:13
     |
3000 |         bob.set_config(Config::Selfavatar, Some(avatar_path.to_str().unwrap()))
     |             ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `get_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/contact.rs:3002:28
     |
3002 |         let bob_addr = bob.get_config(Config::Addr).await?.unwrap();
     |                            ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `emit_event` found for reference `&test_utils::TestContext` in the current scope
    --> src/contact.rs:3067:13
     |
3067 |         bob.emit_event(EventType::Test);
     |             ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `get_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/contact.rs:3096:29
     |
3096 |         let bob_addr = &bob.get_config(Config::Addr).await?.unwrap();
     |                             ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `set_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/contact.rs:3097:13
     |
3097 |         bob.set_config(Config::Displayname, Some("Bob")).await?;
     |             ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `set_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/contact.rs:3113:13
     |
3113 |         bob.set_config(Config::Displayname, Some("Not Bob")).await?;
     |             ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `set_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/contact.rs:3117:13
     |
3117 |         bob.set_config(Config::Selfavatar, Some(avatar_path.to_str().unwrap()))
     |             ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `download_limit` found for struct `test_utils::TestContext` in the current scope
   --> src/download.rs:280:22
    |
280 |         assert_eq!(t.download_limit().await?, None);
    |                      ^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `download_limit` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/download.rs:282:11
    |
282 |         t.set_config(Config::DownloadLimit, Some("200000")).await?;
    |           ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `download_limit` found for struct `test_utils::TestContext` in the current scope
   --> src/download.rs:283:22
    |
283 |         assert_eq!(t.download_limit().await?, Some(200000));
    |                      ^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `download_limit` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/download.rs:285:11
    |
285 |         t.set_config(Config::DownloadLimit, Some("20000")).await?;
    |           ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `download_limit` found for struct `test_utils::TestContext` in the current scope
   --> src/download.rs:286:22
    |
286 |         assert_eq!(t.download_limit().await?, Some(MIN_DOWNLOAD_LIMIT));
    |                      ^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `download_limit` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/download.rs:288:11
    |
288 |         t.set_config(Config::DownloadLimit, None).await?;
    |           ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `download_limit` found for struct `test_utils::TestContext` in the current scope
   --> src/download.rs:289:22
    |
289 |         assert_eq!(t.download_limit().await?, None);
    |                      ^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `download_limit` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/download.rs:292:15
    |
292 |             t.set_config(Config::DownloadLimit, Some(val)).await?;
    |               ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `download_limit` found for struct `test_utils::TestContext` in the current scope
   --> src/download.rs:293:26
    |
293 |             assert_eq!(t.download_limit().await?, None);
    |                          ^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `download_limit` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
   --> src/download.rs:412:26
    |
412 |         let file = alice.get_blobdir().join("minimal.xdc");
    |                          ^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
   --> src/download.rs:419:14
    |
418 | /         alice
419 | |             .send_webxdc_status_update(instance.id, r#"{"payload":7}"#, "d")
    | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    | |_____________|
    | 
    |
   ::: src/test_utils.rs:261:1
    |
261 |   pub struct TestContext {
    |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `flush_status_updates` found for struct `test_utils::TestContext` in the current scope
   --> src/download.rs:421:15
    |
421 |         alice.flush_status_updates().await?;
    |               ^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `flush_status_updates` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/ephemeral.rs:1046:11
     |
1046 |         t.set_config(Config::DeleteDeviceAfter, Some("1800"))
     |           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/ephemeral.rs:1171:15
     |
1171 |             t.sql
     |               ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/ephemeral.rs:1177:15
     |
1177 |             t.sql
     |               ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/ephemeral.rs:1213:15
     |
1213 |             t.sql
     |               ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/ephemeral.rs:1219:11
     |
1219 |         t.set_config(Config::DeleteServerAfter, Some(&*(25 * HOUR).to_string()))
     |           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/ephemeral.rs:1227:11
     |
1227 |         t.sql
     |           ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/ephemeral.rs:1234:11
     |
1234 |         t.set_config(Config::DeleteServerAfter, Some(&*(22 * HOUR).to_string()))
     |           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/ephemeral.rs:1238:11
     |
1238 |         t.sql
     |           ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/ephemeral.rs:1248:15
     |
1248 |             t.sql
     |               ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/ephemeral.rs:1254:11
     |
1254 |         t.set_config(Config::DeleteServerAfter, Some("1")).await?;
     |           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/ephemeral.rs:1365:23
     |
1365 |         assert!(alice.sql.exists(stmt, (msg.id,)).await?);
     |                       ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/ephemeral.rs:1369:23
     |
1369 |         assert!(alice.sql.exists(stmt, (msg.id,)).await?);
     |                       ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
   --> src/imex/transfer.rs:619:25
    |
619 |         let file = ctx0.get_blobdir().join("hello.txt");
    |                         ^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `set_stock_translation` found for struct `test_utils::TestContext` in the current scope
   --> src/imex.rs:853:11
    |
853 |         t.set_stock_translation(StockMessage::AcSetupMsgBody, "hello\r\nthere".to_string())
    |           ^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_stock_translation` not found for this struct

error[E0599]: no method named `is_configured` found for struct `test_utils::TestContext` in the current scope
   --> src/imex.rs:978:30
    |
978 |             assert!(context1.is_configured().await?);
    |                              ^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_configured` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/imex.rs:981:22
    |
980 | /                 context1
981 | |                     .set_config_bool(Config::VerifiedOneOnOneChats, true)
    | |                     -^^^^^^^^^^^^^^^ method not found in `TestContext`
    | |_____________________|
    | 
    |
   ::: src/test_utils.rs:261:1
    |
261 |   pub struct TestContext {
    |   ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `is_configured` found for struct `test_utils::TestContext` in the current scope
   --> src/imex.rs:986:31
    |
986 |             assert!(!context2.is_configured().await?);
    |                               ^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_configured` not found for this struct

error[E0599]: no method named `is_configured` found for struct `test_utils::TestContext` in the current scope
    --> src/imex.rs:1023:30
     |
1023 |             assert!(context2.is_configured().await?);
     |                              ^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `is_configured` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/imex.rs:1025:26
     |
1025 |                 context2.get_config(Config::Addr).await?,
     |                          ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `get_config_bool` found for struct `test_utils::TestContext` in the current scope
    --> src/imex.rs:1030:22
     |
1029 | /                 context2
1030 | |                     .get_config_bool(Config::VerifiedOneOnOneChats)
     | |                     -^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `get_config_bool` not found for this struct

error[E0599]: no method named `get_config_bool` found for struct `test_utils::TestContext` in the current scope
    --> src/imex.rs:1036:22
     |
1035 | /                 context1
1036 | |                     .get_config_bool(Config::VerifiedOneOnOneChats)
     | |                     -^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `get_config_bool` not found for this struct

error[E0599]: no method named `is_configured` found for struct `test_utils::TestContext` in the current scope
    --> src/imex.rs:1052:27
     |
1052 |         assert!(!context2.is_configured().await?);
     |                           ^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `is_configured` not found for this struct

error[E0599]: no method named `clone` found for struct `test_utils::TestContext` in the current scope
    --> src/imex.rs:1059:40
     |
1059 |         let context2_cloned = context2.clone();
     |                                        ^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `clone` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `clone`, perhaps you need to implement it:
             candidate #1: `Clone`

error[E0599]: no method named `is_configured` found for struct `test_utils::TestContext` in the current scope
    --> src/imex.rs:1074:22
     |
1074 |             context2.is_configured().await.ok();
     |                      ^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `is_configured` not found for this struct

error[E0599]: no method named `is_configured` found for struct `test_utils::TestContext` in the current scope
    --> src/imex.rs:1079:26
     |
1079 |         assert!(context2.is_configured().await?);
     |                          ^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `is_configured` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/key.rs:573:11
    |
573 |         t.set_config(Config::ConfiguredAddr, Some("alice@example.org"))
    |           ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/key.rs:583:11
    |
583 |         t.set_config(Config::ConfiguredAddr, Some("alice@example.org"))
    |           ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/key.rs:595:11
    |
595 |         t.set_config(Config::ConfiguredAddr, Some("alice@example.org"))
    |           ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `clone` found for struct `test_utils::TestContext` in the current scope
   --> src/key.rs:599:25
    |
599 |             let ctx = t.clone();
    |                         ^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `clone` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following trait defines an item `clone`, perhaps you need to implement it:
            candidate #1: `Clone`

error[E0599]: no method named `clone` found for struct `test_utils::TestContext` in the current scope
   --> src/key.rs:607:25
    |
607 |             let ctx = t.clone();
    |                         ^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `clone` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following trait defines an item `clone`, perhaps you need to implement it:
            candidate #1: `Clone`

error[E0609]: no field `sql` on type `Arc<test_utils::TestContext>`
   --> src/key.rs:633:17
    |
633 |             ctx.sql
    |                 ^^^ unknown field
    |
    = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
    --> src/location.rs:1084:26
     |
1084 |         let file = alice.get_blobdir().join(file_name);
     |                          ^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `set_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/location.rs:1115:14
     |
1114 | /         alice
1115 | |             .set_config(Config::DeleteDeviceAfter, Some("604800"))
     | |             -^^^^^^^^^^ method not found in `&TestContext`
     | |_____________|
     | 

error[E0599]: no method named `set_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/location.rs:1118:13
     |
1118 |         bob.set_config(Config::DeleteDeviceAfter, Some("86400"))
     |             ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `update_device_chats` found for struct `test_utils::TestContext` in the current scope
    --> src/message.rs:2173:11
     |
2173 |         t.update_device_chats().await.ok();
     |           ^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `update_device_chats` not found for this struct

error[E0599]: no method named `get_fresh_msgs` found for struct `test_utils::TestContext` in the current scope
    --> src/message.rs:2368:24
     |
2368 |         assert_eq!(bob.get_fresh_msgs().await?.len(), 0);
     |                        ^^^^^^^^^^^^^^ help: there is a method with a similar name: `get_last_msg`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_fresh_msgs` not found for this struct

error[E0599]: no method named `get_fresh_msgs` found for struct `test_utils::TestContext` in the current scope
    --> src/message.rs:2395:26
     |
2395 |         assert_eq!(alice.get_fresh_msgs().await?.len(), 2);
     |                          ^^^^^^^^^^^^^^ help: there is a method with a similar name: `get_last_msg`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_fresh_msgs` not found for this struct

error[E0599]: no method named `get_fresh_msgs` found for struct `test_utils::TestContext` in the current scope
    --> src/message.rs:2404:26
     |
2404 |         assert_eq!(alice.get_fresh_msgs().await?.len(), 2);
     |                          ^^^^^^^^^^^^^^ help: there is a method with a similar name: `get_last_msg`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_fresh_msgs` not found for this struct

error[E0599]: no method named `get_fresh_msgs` found for struct `test_utils::TestContext` in the current scope
    --> src/message.rs:2410:26
     |
2410 |         assert_eq!(alice.get_fresh_msgs().await?.len(), 1);
     |                          ^^^^^^^^^^^^^^ help: there is a method with a similar name: `get_last_msg`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_fresh_msgs` not found for this struct

error[E0599]: no method named `get_fresh_msgs` found for struct `test_utils::TestContext` in the current scope
    --> src/message.rs:2416:26
     |
2416 |         assert_eq!(alice.get_fresh_msgs().await?.len(), 0);
     |                          ^^^^^^^^^^^^^^ help: there is a method with a similar name: `get_last_msg`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_fresh_msgs` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/message.rs:2632:23
     |
2632 |         assert!(alice.sql.exists(stmt, (msg.id,)).await?);
     |                       ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/message.rs:2634:24
     |
2634 |         assert!(!alice.sql.exists(stmt, (msg.id,)).await?);
     |                        ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/mimefactory.rs:1802:11
     |
1802 |         t.set_config(Config::Displayname, Some("Alice"))
     |           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
    --> src/mimefactory.rs:1895:13
     |
1895 |         bob.set_config_bool(Config::MdnsEnabled, true).await?;
     |             ^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/mimefactory.rs:2236:11
     |
2236 |         t.set_config(Config::Selfavatar, Some(file.to_str().unwrap()))
     |           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/mimefactory.rs:2293:11
     |
2293 |         t.set_config(Config::SignUnencrypted, Some("1"))
     |           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/mimefactory.rs:2301:11
     |
2301 |         t.set_config(Config::Selfavatar, Some(file.to_str().unwrap()))
     |           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/mimeparser.rs:3599:11
     |
3599 |         t.set_config(Config::Bot, Some("1")).await?;
     |           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/mimeparser.rs:3996:17
     |
3996 |         context.set_config(Config::Bot, Some("1")).await.unwrap();
     |                 ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
   --> src/param.rs:554:26
    |
554 |         let bar_path = t.get_blobdir().join("bar");
    |                          ^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/securejoin.rs:1424:14
     |
1423 | /         alice
1424 | |             .set_config(Config::VerifiedOneOnOneChats, Some("1"))
     | |             -^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/securejoin.rs:1427:13
     |
1427 |         bob.set_config(Config::VerifiedOneOnOneChats, Some("1"))
     |             ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/securejoin.rs:1491:29
     |
1491 |         let bob_addr = &bob.get_config(Config::Addr).await?.unwrap();
     |                             ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `set_stock_translation` found for struct `test_utils::TestContext` in the current scope
    --> src/stock_str.rs:1494:11
     |
1494 |         t.set_stock_translation(StockMessage::NoMessages, "xyz".to_string())
     |           ^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_stock_translation` not found for this struct

error[E0599]: no method named `update_device_chats` found for struct `test_utils::TestContext` in the current scope
    --> src/stock_str.rs:1612:11
     |
1612 |         t.update_device_chats().await.ok();
     |           ^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `update_device_chats` not found for this struct

error[E0599]: no method named `update_device_chats` found for struct `test_utils::TestContext` in the current scope
    --> src/stock_str.rs:1641:11
     |
1641 |         t.update_device_chats().await.unwrap();
     |           ^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `update_device_chats` not found for this struct

error[E0599]: no method named `update_device_chats` found for struct `test_utils::TestContext` in the current scope
    --> src/stock_str.rs:1651:11
     |
1651 |         t.update_device_chats().await.unwrap();
     |           ^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `update_device_chats` not found for this struct

error[E0599]: no method named `get_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:331:20
    |
331 |         assert!(!t.get_config_bool(Config::SyncMsgs).await?);
    |                    ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config_bool` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:332:11
    |
332 |         t.set_config_bool(Config::SyncMsgs, true).await?;
    |           ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `get_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:333:19
    |
333 |         assert!(t.get_config_bool(Config::SyncMsgs).await?);
    |                   ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config_bool` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:334:11
    |
334 |         t.set_config_bool(Config::SyncMsgs, false).await?;
    |           ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `get_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:335:20
    |
335 |         assert!(!t.get_config_bool(Config::SyncMsgs).await?);
    |                    ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config_bool` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:342:11
    |
342 |         t.set_config_bool(Config::SyncMsgs, true).await?;
    |           ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `build_sync_json` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:344:19
    |
344 |         assert!(t.build_sync_json().await?.is_none());
    |                   ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `build_sync_json` not found for this struct

error[E0599]: no method named `add_sync_item_with_timestamp` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:349:11
    |
349 |         t.add_sync_item_with_timestamp(
    |         --^^^^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `add_sync_item_with_timestamp` not found for this struct

error[E0599]: no method named `add_sync_item_with_timestamp` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:360:11
    |
360 |         t.add_sync_item_with_timestamp(
    |         --^^^^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `add_sync_item_with_timestamp` not found for this struct

error[E0599]: no method named `add_sync_item_with_timestamp` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:369:11
    |
369 |         t.add_sync_item_with_timestamp(
    |         --^^^^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `add_sync_item_with_timestamp` not found for this struct

error[E0599]: no method named `build_sync_json` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:379:35
    |
379 |         let (serialized, ids) = t.build_sync_json().await?.unwrap();
    |                                   ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `build_sync_json` not found for this struct

error[E0599]: no method named `build_sync_json` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:389:19
    |
389 |         assert!(t.build_sync_json().await?.is_some());
    |                   ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `build_sync_json` not found for this struct

error[E0599]: no method named `delete_sync_ids` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:390:11
    |
390 |         t.delete_sync_ids(ids).await?;
    |           ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `delete_sync_ids` not found for this struct

error[E0599]: no method named `build_sync_json` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:391:19
    |
391 |         assert!(t.build_sync_json().await?.is_none());
    |                   ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `build_sync_json` not found for this struct

error[E0599]: no method named `parse_sync_items` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:393:28
    |
393 |         let sync_items = t.parse_sync_items(serialized)?;
    |                            ^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `parse_sync_items` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:402:11
    |
402 |         t.set_config_bool(Config::SyncMsgs, false).await?;
    |           ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `add_sync_item` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:403:11
    |
403 |         t.add_sync_item(SyncData::AddQrToken(QrTokenData {
    |         --^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `add_sync_item` not found for this struct

error[E0599]: no method named `build_sync_json` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:409:19
    |
409 |         assert!(t.build_sync_json().await?.is_none());
    |                   ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `build_sync_json` not found for this struct

error[E0599]: no method named `parse_sync_items` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:417:19
    |
417 |         assert!(t.parse_sync_items(r#"{bad json}"#.to_string()).is_err());
    |                   ^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `parse_sync_items` not found for this struct

error[E0599]: no method named `parse_sync_items` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:419:19
    |
419 |         assert!(t.parse_sync_items(r#"{"badname":[]}"#.to_string()).is_err());
    |                   ^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `parse_sync_items` not found for this struct

error[E0599]: no method named `parse_sync_items` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:430:32
    |
430 |             let sync_items = t.parse_sync_items(bad_item_example.to_string()).unwrap();
    |                                ^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `parse_sync_items` not found for this struct

error[E0599]: no method named `parse_sync_items` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:440:28
    |
440 |         let sync_items = t.parse_sync_items(
    |                          --^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `parse_sync_items` not found for this struct

error[E0614]: type `SyncId` cannot be dereferenced
   --> src/sync.rs:450:13
    |
450 |             *id,
    |             ^^^

error[E0614]: type `SyncAction` cannot be dereferenced
   --> src/sync.rs:454:13
    |
454 |             *action,
    |             ^^^^^^^

error[E0599]: no method named `parse_sync_items` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:462:15
    |
462 |             t.parse_sync_items(r#"{"items":[]}"#.to_string())?
    |               ^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `parse_sync_items` not found for this struct

error[E0599]: no method named `parse_sync_items` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:470:14
    |
469 |           let sync_items = t
    |  __________________________-
470 | |             .parse_sync_items(
    | |             -^^^^^^^^^^^^^^^^ method not found in `TestContext`
    | |_____________|
    | 
    |
   ::: src/test_utils.rs:261:1
    |
261 |   pub struct TestContext {
    |   ---------------------- method `parse_sync_items` not found for this struct

error[E0599]: no method named `parse_sync_items` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:480:28
    |
480 |         let sync_items = t.parse_sync_items(
    |                          --^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `parse_sync_items` not found for this struct

error[E0599]: no method named `parse_sync_items` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:499:28
    |
499 |         let sync_items = t.parse_sync_items(
    |                          --^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `parse_sync_items` not found for this struct

error[E0599]: no method named `parse_sync_items` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:515:14
    |
514 |           let sync_items = t
    |  __________________________-
515 | |             .parse_sync_items(
    | |             -^^^^^^^^^^^^^^^^ method not found in `TestContext`
    | |_____________|
    | 
    |
   ::: src/test_utils.rs:261:1
    |
261 |   pub struct TestContext {
    |   ---------------------- method `parse_sync_items` not found for this struct

error[E0599]: no method named `execute_sync_items` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:528:11
    |
528 |         t.execute_sync_items(&sync_items).await;
    |           ^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `execute_sync_items` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:546:15
    |
546 |         alice.set_config_bool(Config::SyncMsgs, true).await?;
    |               ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `add_sync_item` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:548:14
    |
547 | /         alice
548 | |             .add_sync_item(SyncData::AddQrToken(QrTokenData {
    | |             -^^^^^^^^^^^^^ method not found in `TestContext`
    | |_____________|
    | 
    |
   ::: src/test_utils.rs:261:1
    |
261 |   pub struct TestContext {
    |   ---------------------- method `add_sync_item` not found for this struct

error[E0599]: no method named `send_sync_msg` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:554:28
    |
554 |         let msg_id = alice.send_sync_msg().await?.unwrap();
    |                            ^^^^^^^^^^^^^ help: there is a method with a similar name: `send_msg`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `send_sync_msg` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/sync.rs:573:16
    |
573 |         alice2.set_config_bool(Config::SyncMsgs, true).await?;
    |                ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/webxdc/integration.rs:116:11
    |
116 |         t.set_config_bool(Config::BccSelf, false).await?;
    |           ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
   --> src/webxdc/integration.rs:119:22
    |
119 |         let file = t.get_blobdir().join("maps.xdc");
    |                      ^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `set_webxdc_integration` found for struct `test_utils::TestContext` in the current scope
   --> src/webxdc/integration.rs:121:11
    |
121 |         t.set_webxdc_integration(file.to_str().unwrap()).await?;
    |           ^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_webxdc_integration` not found for this struct

error[E0599]: no method named `get_blobdir` found for struct `test_utils::TestContext` in the current scope
   --> src/webxdc/maps_integration.rs:184:22
    |
184 |         let file = t.get_blobdir().join("maps.xdc");
    |                      ^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_blobdir` not found for this struct

error[E0599]: no method named `set_webxdc_integration` found for struct `test_utils::TestContext` in the current scope
   --> src/webxdc/maps_integration.rs:186:11
    |
186 |         t.set_webxdc_integration(file.to_str().unwrap()).await?;
    |           ^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_webxdc_integration` not found for this struct

error[E0599]: no method named `init_webxdc_integration` found for struct `test_utils::TestContext` in the current scope
   --> src/webxdc/maps_integration.rs:196:32
    |
196 |         let integration_id = t.init_webxdc_integration(Some(bob_chat_id)).await?.unwrap();
    |                                ^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `init_webxdc_integration` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
   --> src/webxdc/maps_integration.rs:204:11
    |
204 |         t.send_webxdc_status_update(
    |         --^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
   --> src/webxdc/maps_integration.rs:214:14
    |
213 |           let updates = t
    |  _______________________-
214 | |             .get_webxdc_status_updates(integration_id, StatusUpdateSerial(0))
    | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    | |_____________|
    | 
    |
   ::: src/test_utils.rs:261:1
    |
261 |   pub struct TestContext {
    |   ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `init_webxdc_integration` found for struct `test_utils::TestContext` in the current scope
   --> src/webxdc/maps_integration.rs:234:32
    |
234 |         let integration_id = t.init_webxdc_integration(Some(group_id)).await?.unwrap();
    |                                ^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `init_webxdc_integration` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
   --> src/webxdc/maps_integration.rs:238:11
    |
238 |         t.send_webxdc_status_update(
    |         --^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
   --> src/webxdc/maps_integration.rs:245:14
    |
244 |           let updates = t
    |  _______________________-
245 | |             .get_webxdc_status_updates(integration_id, StatusUpdateSerial(0))
    | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    | |_____________|
    | 
    |
   ::: src/test_utils.rs:261:1
    |
261 |   pub struct TestContext {
    |   ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `init_webxdc_integration` found for struct `test_utils::TestContext` in the current scope
   --> src/webxdc/maps_integration.rs:263:32
    |
263 |         let integration_id = t.init_webxdc_integration(None).await?.unwrap();
    |                                ^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `init_webxdc_integration` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
   --> src/webxdc/maps_integration.rs:266:14
    |
265 |           let updates = t
    |  _______________________-
266 | |             .get_webxdc_status_updates(integration_id, StatusUpdateSerial(0))
    | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    | |_____________|
    | 
    |
   ::: src/test_utils.rs:261:1
    |
261 |   pub struct TestContext {
    |   ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `is_webxdc_file` found for struct `test_utils::TestContext` in the current scope
   --> src/webxdc.rs:887:16
    |
887 |             !t.is_webxdc_file(
    |              --^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_webxdc_file` not found for this struct

error[E0599]: no method named `is_webxdc_file` found for struct `test_utils::TestContext` in the current scope
   --> src/webxdc.rs:894:16
    |
894 |             !t.is_webxdc_file(
    |              --^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_webxdc_file` not found for this struct

error[E0599]: no method named `is_webxdc_file` found for struct `test_utils::TestContext` in the current scope
   --> src/webxdc.rs:901:16
    |
901 |             !t.is_webxdc_file(
    |              --^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_webxdc_file` not found for this struct

error[E0599]: no method named `is_webxdc_file` found for struct `test_utils::TestContext` in the current scope
   --> src/webxdc.rs:908:16
    |
908 |             !t.is_webxdc_file(
    |              --^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_webxdc_file` not found for this struct

error[E0599]: no method named `is_webxdc_file` found for struct `test_utils::TestContext` in the current scope
   --> src/webxdc.rs:915:15
    |
915 |             t.is_webxdc_file(
    |             --^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_webxdc_file` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1022:11
     |
1022 |         t.send_webxdc_status_update(
     |         --^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1030:15
     |
1030 |             t.get_webxdc_status_updates(instance.id, StatusUpdateSerial(0))
     |               ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1047:15
     |
1047 |             t.get_webxdc_status_updates(instance2.id, StatusUpdateSerial(0))
     |               ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1068:15
     |
1068 |         alice.set_config_bool(Config::BccSelf, false).await?;
     |               ^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1073:14
     |
1072 | /         alice
1073 | |             .send_webxdc_status_update(
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1099:17
     |
1099 |             bob.get_webxdc_status_updates(bob_instance.id, StatusUpdateSerial(0))
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1156:14
     |
1155 |           assert!(bob
     |  _________________-
1156 | |             .send_webxdc_status_update(bob_instance.id, r#"{"payload":42}"#, "descr")
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1160:17
     |
1160 |             bob.get_webxdc_status_updates(bob_instance.id, StatusUpdateSerial(0))
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1168:14
     |
1167 |           assert!(bob
     |  _________________-
1168 | |             .send_webxdc_status_update(bob_instance.id, r#"{"payload":42}"#, "descr")
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1172:17
     |
1172 |             bob.get_webxdc_status_updates(bob_instance.id, StatusUpdateSerial(0))
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1186:13
     |
1186 |         bob.set_config(Config::DownloadLimit, Some("40000")).await?;
     |             ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1196:14
     |
1195 | /         alice
1196 | |             .send_webxdc_status_update(
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `flush_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1202:15
     |
1202 |         alice.flush_status_updates().await?;
     |               ^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `flush_status_updates` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1236:17
     |
1236 |             bob.get_webxdc_status_updates(bob_instance.id, StatusUpdateSerial(0))
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `receive_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1253:11
     |
1253 |         t.receive_status_update(
     |         --^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `receive_status_update` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/webxdc.rs:1262:15
     |
1262 |             t.sql
     |               ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/webxdc.rs:1271:15
     |
1271 |             t.sql
     |               ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `receive_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1286:11
     |
1286 |         t.receive_status_update(
     |         --^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `receive_status_update` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/webxdc.rs:1295:15
     |
1295 |             t.sql
     |               ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/webxdc.rs:1304:15
     |
1304 |             t.sql
     |               ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1326:11
     |
1326 |         t.send_webxdc_status_update(instance.id, r#"{"payload": 42}"#, "descr")
     |           ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1329:15
     |
1329 |             t.get_webxdc_status_updates(instance.id, StatusUpdateSerial(0))
     |               ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1337:15
     |
1337 |             t.get_webxdc_status_updates(instance.id, StatusUpdateSerial(0))
     |               ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/webxdc.rs:1342:15
     |
1342 |             t.sql
     |               ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1358:15
     |
1358 |             t.get_webxdc_status_updates(instance.id, StatusUpdateSerial(0))
     |               ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `create_status_update_record` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1364:14
     |
1363 |           let update_id1 = t
     |  __________________________-
1364 | |             .create_status_update_record(
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `create_status_update_record` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1380:15
     |
1380 |             t.get_webxdc_status_updates(instance.id, StatusUpdateSerial(0))
     |               ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `create_status_update_record` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1388:14
     |
1387 |           let update_id1_duplicate = t
     |  ____________________________________-
1388 | |             .create_status_update_record(
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `create_status_update_record` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1405:14
     |
1404 |           assert!(t
     |  _________________-
1405 | |             .send_webxdc_status_update(instance.id, "\n\n\n", "")
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1410:14
     |
1409 |           assert!(t
     |  _________________-
1410 | |             .send_webxdc_status_update(instance.id, "bad json", "")
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1415:15
     |
1415 |             t.get_webxdc_status_updates(instance.id, StatusUpdateSerial(0))
     |               ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `create_status_update_record` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1421:14
     |
1420 |           let update_id2 = t
     |  __________________________-
1421 | |             .create_status_update_record(
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `create_status_update_record` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1437:15
     |
1437 |             t.get_webxdc_status_updates(instance.id, update_id1).await?,
     |               ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `create_status_update_record` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1440:11
     |
1440 |         t.create_status_update_record(
     |         --^^^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `create_status_update_record` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1455:15
     |
1455 |             t.get_webxdc_status_updates(instance.id, StatusUpdateSerial(0))
     |               ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1462:11
     |
1462 |         t.send_webxdc_status_update(
     |         --^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1469:15
     |
1469 |             t.get_webxdc_status_updates(instance.id, update_id2).await?,
     |               ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `receive_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1485:14
     |
1484 |           assert!(t
     |  _________________-
1485 | |             .receive_status_update(ContactId::SELF, &instance, now, true, r#"foo: bar"#)
     | |             -^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `receive_status_update` not found for this struct

error[E0599]: no method named `receive_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1489:14
     |
1488 |           assert!(t
     |  _________________-
1489 | |             .receive_status_update(
     | |             -^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `receive_status_update` not found for this struct

error[E0599]: no method named `receive_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1499:14
     |
1498 |           assert!(t
     |  _________________-
1499 | |             .receive_status_update(
     | |             -^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `receive_status_update` not found for this struct

error[E0599]: no method named `receive_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1509:14
     |
1508 |           assert!(t
     |  _________________-
1509 | |             .receive_status_update(
     | |             -^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `receive_status_update` not found for this struct

error[E0599]: no method named `receive_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1519:11
     |
1519 |         t.receive_status_update(
     |         --^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `receive_status_update` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1528:15
     |
1528 |             t.get_webxdc_status_updates(instance.id, StatusUpdateSerial(0))
     |               ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `receive_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1533:11
     |
1533 |         t.receive_status_update(
     |         --^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `receive_status_update` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1542:15
     |
1542 |             t.get_webxdc_status_updates(instance.id, StatusUpdateSerial(0))
     |               ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `receive_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1549:11
     |
1549 |         t.receive_status_update(
     |         --^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `receive_status_update` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1558:15
     |
1558 |             t.get_webxdc_status_updates(instance.id, StatusUpdateSerial(0))
     |               ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1589:15
     |
1589 |         alice.set_config_bool(Config::BccSelf, true).await?;
     |               ^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1600:14
     |
1599 | /         alice
1600 | |             .send_webxdc_status_update(
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `flush_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1606:15
     |
1606 |         alice.flush_status_updates().await?;
     |               ^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `flush_status_updates` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1624:18
     |
1623 | /             alice
1624 | |                 .get_webxdc_status_updates(alice_instance.id, StatusUpdateSerial(0))
     | |                 -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_________________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1630:14
     |
1629 | /         alice
1630 | |             .send_webxdc_status_update(
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1638:18
     |
1637 | /             alice
1638 | |                 .get_webxdc_status_updates(alice_instance.id, StatusUpdateSerial(0))
     | |                 -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_________________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1657:17
     |
1657 |             bob.get_webxdc_status_updates(bob_instance.id, StatusUpdateSerial(0))
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1678:18
     |
1677 | /             alice
1678 | |                 .get_webxdc_status_updates(alice_instance.id, StatusUpdateSerial(0))
     | |                 -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_________________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `render_webxdc_status_update_object` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1699:14
     |
1698 |           assert!(t
     |  _________________-
1699 | |             .render_webxdc_status_update_object(instance.id, None)
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `render_webxdc_status_update_object` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1703:11
     |
1703 |         t.send_webxdc_status_update(instance.id, r#"{"payload": 1}"#, "bla")
     |           ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `render_webxdc_status_update_object` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1706:14
     |
1705 |           assert!(t
     |  _________________-
1706 | |             .render_webxdc_status_update_object(instance.id, None)
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `render_webxdc_status_update_object` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1718:11
     |
1718 |         t.send_webxdc_status_update(instance.id, r#"{"payload": 1}"#, "d")
     |           ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1720:11
     |
1720 |         t.send_webxdc_status_update(instance.id, r#"{"payload": 2}"#, "d")
     |           ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1722:11
     |
1722 |         t.send_webxdc_status_update(instance.id, r#"{"payload": 3}"#, "d")
     |           ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1724:11
     |
1724 |         t.send_webxdc_status_update(instance.id, r#"{"payload": 4}"#, "d")
     |           ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `render_webxdc_status_update_object` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1727:14
     |
1726 |           let json = t
     |  ____________________-
1727 | |             .render_webxdc_status_update_object(
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `render_webxdc_status_update_object` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/webxdc.rs:1742:15
     |
1742 |             t.sql
     |               ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `flush_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1747:11
     |
1747 |         t.flush_status_updates().await?;
     |           ^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `flush_status_updates` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/webxdc.rs:1749:15
     |
1749 |             t.sql
     |               ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `pop_smtp_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1764:19
     |
1764 |         assert!(t.pop_smtp_status_update().await?.is_none());
     |                   ^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `pop_smtp_status_update` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1766:11
     |
1766 |         t.send_webxdc_status_update(instance1.id, r#"{"payload": "1a"}"#, "descr1a")
     |           ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1768:11
     |
1768 |         t.send_webxdc_status_update(instance2.id, r#"{"payload": "2a"}"#, "descr2a")
     |           ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1770:11
     |
1770 |         t.send_webxdc_status_update(instance2.id, r#"{"payload": "2b"}"#, "descr2b")
     |           ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1772:11
     |
1772 |         t.send_webxdc_status_update(instance3.id, r#"{"payload": "3a"}"#, "descr3a")
     |           ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1774:11
     |
1774 |         t.send_webxdc_status_update(instance3.id, r#"{"payload": "3b"}"#, "descr3b")
     |           ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1776:11
     |
1776 |         t.send_webxdc_status_update(instance3.id, r#"{"payload": "3c"}"#, "descr3c")
     |           ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/webxdc.rs:1779:15
     |
1779 |             t.sql
     |               ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `pop_smtp_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1788:57
     |
1788 |             let (instance, min_ser, max_ser, descr) = t.pop_smtp_status_update().await?.unwrap();
     |                                                         ^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `pop_smtp_status_update` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/webxdc.rs:1805:19
     |
1805 |                 t.sql
     |                   ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `pop_smtp_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1812:19
     |
1812 |         assert!(t.pop_smtp_status_update().await?.is_none());
     |                   ^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `pop_smtp_status_update` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1837:14
     |
1836 | /         alice
1837 | |             .send_webxdc_status_update(alice_instance.id, r#"{"payload": {"foo":"bar"}}"#, "descr")
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `flush_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1839:15
     |
1839 |         alice.flush_status_updates().await?;
     |               ^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `flush_status_updates` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1842:14
     |
1841 | /         alice
1842 | |             .send_webxdc_status_update(alice_instance.id, r#"{"payload":42, "info":"i"}"#, "descr")
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `flush_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1844:15
     |
1844 |         alice.flush_status_updates().await?;
     |               ^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `flush_status_updates` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/webxdc.rs:1847:18
     |
1847 |                 .sql
     |                  ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1873:17
     |
1873 |             bob.get_webxdc_status_updates(bob_instance.id, StatusUpdateSerial(0))
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:1889:14
     |
1888 |           assert!(t
     |  _________________-
1889 | |             .send_webxdc_status_update(msg_id, r#"{"foo":"bar"}"#, "descr")
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/webxdc.rs:1930:13
     |
1930 |         let buf = instance.get_webxdc_blob(&t, "/index.html").await?;
     |             ^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/webxdc.rs:1930:19
     |
1930 |         let buf = instance.get_webxdc_blob(&t, "/index.html").await?;
     |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/webxdc.rs:1930:19
     |
1930 |         let buf = instance.get_webxdc_blob(&t, "/index.html").await?;
     |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `ControlFlow`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
     |
85   | pub enum ControlFlow<B, C = ()> {
     |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/webxdc.rs:1930:68
     |
1930 |         let buf = instance.get_webxdc_blob(&t, "/index.html").await?;
     |                                                                    ^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `Break`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
     |
85   | pub enum ControlFlow<B, C = ()> {
     |                         ^^^^^^ required by this bound in `Break`
...
93   |     Break(B),
     |     ----- required by a bound in this variant

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/webxdc.rs:2063:13
     |
2063 |         let html = instance.get_webxdc_blob(&t, "index.html").await?;
     |             ^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/webxdc.rs:2063:20
     |
2063 |         let html = instance.get_webxdc_blob(&t, "index.html").await?;
     |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/webxdc.rs:2063:20
     |
2063 |         let html = instance.get_webxdc_blob(&t, "index.html").await?;
     |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `ControlFlow`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
     |
85   | pub enum ControlFlow<B, C = ()> {
     |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/webxdc.rs:2063:68
     |
2063 |         let html = instance.get_webxdc_blob(&t, "index.html").await?;
     |                                                                    ^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `Break`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
     |
85   | pub enum ControlFlow<B, C = ()> {
     |                         ^^^^^^ required by this bound in `Break`
...
93   |     Break(B),
     |     ----- required by a bound in this variant

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2166:14
     |
2165 | /         alice
2166 | |             .send_webxdc_status_update(
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `flush_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2172:15
     |
2172 |         alice.flush_status_updates().await?;
     |               ^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `flush_status_updates` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2181:14
     |
2180 | /         alice
2181 | |             .send_webxdc_status_update(
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `flush_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2187:15
     |
2187 |         alice.flush_status_updates().await?;
     |               ^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `flush_status_updates` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2233:14
     |
2232 | /         alice
2233 | |             .send_webxdc_status_update(
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `flush_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2239:15
     |
2239 |         alice.flush_status_updates().await?;
     |               ^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `flush_status_updates` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2273:14
     |
2272 | /         alice
2273 | |             .send_webxdc_status_update(
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `flush_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2279:15
     |
2279 |         alice.flush_status_updates().await?;
     |               ^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `flush_status_updates` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2294:18
     |
2293 | /             alice
2294 | |                 .get_webxdc_status_updates(alice_instance.id, StatusUpdateSerial(0))
     | |                 -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_________________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2312:17
     |
2312 |             bob.get_webxdc_status_updates(bob_instance.id, StatusUpdateSerial(0))
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2335:18
     |
2334 | /             alice2
2335 | |                 .get_webxdc_status_updates(alice2_instance.id, StatusUpdateSerial(0))
     | |                 -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_________________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2354:14
     |
2353 | /         alice
2354 | |             .send_webxdc_status_update(alice_instance.id, r#"{"info":"i1", "payload":1}"#, "d")
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `flush_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2356:15
     |
2356 |         alice.flush_status_updates().await?;
     |               ^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `flush_status_updates` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2360:14
     |
2359 | /         alice
2360 | |             .send_webxdc_status_update(alice_instance.id, r#"{"info":"i2", "payload":2}"#, "d")
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `flush_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2362:15
     |
2362 |         alice.flush_status_updates().await?;
     |               ^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `flush_status_updates` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2387:11
     |
2387 |         t.send_webxdc_status_update(instance.id, r#"{"info":"i1", "payload":1}"#, "d")
     |           ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2392:11
     |
2392 |         t.send_webxdc_status_update(instance.id, r#"{"info":"i2", "payload":2}"#, "d")
     |           ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2421:14
     |
2420 | /         alice
2421 | |             .send_webxdc_status_update(alice_instance.id, r#"{"payload":42}"#, "descr")
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `flush_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2423:15
     |
2423 |         alice.flush_status_updates().await?;
     |               ^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `flush_status_updates` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2441:13
     |
2441 |         bob.send_webxdc_status_update(bob_instance.id, r#"{"payload":43}"#, "descr")
     |             ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `flush_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2443:13
     |
2443 |         bob.flush_status_updates().await?;
     |             ^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `flush_status_updates` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2462:15
     |
2462 |             t.set_config(Config::E2eeEnabled, Some(e2ee)).await?;
     |               ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2476:23
     |
2476 |                     t.send_webxdc_status_update(
     |                     --^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/webxdc.rs:2621:18
     |
2621 |                 .sql
     |                  ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0609]: no field `debug_logging` on type `test_utils::TestContext`
    --> src/webxdc.rs:2633:23
     |
2633 |         assert!(alice.debug_logging.read().unwrap().is_none());
     |                       ^^^^^^^^^^^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0609]: no field `debug_logging` on type `test_utils::TestContext`
    --> src/webxdc.rs:2635:23
     |
2635 |         assert!(alice.debug_logging.read().unwrap().is_some());
     |                       ^^^^^^^^^^^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `emit_event` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2637:15
     |
2637 |         alice.emit_event(EventType::Info("hi".to_string()));
     |               ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `emit_event` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
    --> src/webxdc.rs:2644:18
     |
2644 |                 .sql
     |                  ^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `send_webxdc_status_update` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2672:14
     |
2671 | /         alice
2672 | |             .send_webxdc_status_update(
     | |             -^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     | |_____________|
     | 
     |
    ::: src/test_utils.rs:261:1
     |
261  |   pub struct TestContext {
     |   ---------------------- method `send_webxdc_status_update` not found for this struct

error[E0599]: no method named `flush_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2678:15
     |
2678 |         alice.flush_status_updates().await?;
     |               ^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `flush_status_updates` not found for this struct

error[E0599]: no method named `get_webxdc_status_updates` found for struct `test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2683:17
     |
2683 |             bob.get_webxdc_status_updates(bob_instance.id, StatusUpdateSerial(0))
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_webxdc_status_updates` not found for this struct

error[E0599]: no method named `set_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2697:13
     |
2697 |         bob.set_config(Config::DeleteDeviceAfter, Some("3600"))
     |             ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `get_webxdc_status_updates` found for reference `&test_utils::TestContext` in the current scope
    --> src/webxdc.rs:2721:17
     |
2721 |             bob.get_webxdc_status_updates(bob_instance.id, StatusUpdateSerial(0))
     |                 ^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
   --> src/authres.rs:393:28
    |
393 |         let candidates = t.get_config(Config::AuthservIdCandidates).await?.unwrap();
    |                            ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
   --> src/authres.rs:398:28
    |
398 |         let candidates = t.get_config(Config::AuthservIdCandidates).await?.unwrap();
    |                            ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
   --> src/authres.rs:404:28
    |
404 |         let candidates = t.get_config(Config::AuthservIdCandidates).await?.unwrap();
    |                            ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
   --> src/authres.rs:409:28
    |
409 |         let candidates = t.get_config(Config::AuthservIdCandidates).await?.unwrap();
    |                            ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/authres.rs:570:13
    |
570 |         bob.set_config(Config::AuthservIdCandidates, Some("example.net"))
    |             ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/html.rs:485:14
    |
484 | /         alice
485 | |             .set_config(Config::ShowEmails, Some("1"))
    | |             -^^^^^^^^^^ method not found in `TestContext`
    | |_____________|
    | 
    |
   ::: src/test_utils.rs:261:1
    |
261 |   pub struct TestContext {
    |   ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/html.rs:506:14
    |
505 | /         alice
506 | |             .set_config(Config::ShowEmails, Some("0"))
    | |             -^^^^^^^^^^ method not found in `TestContext`
    | |_____________|
    | 
    |
   ::: src/test_utils.rs:261:1
    |
261 |   pub struct TestContext {
    |   ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/receive_imf/tests.rs:79:7
    |
79  |     t.set_config(Config::ShowEmails, Some("0")).await.unwrap();
    |       ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/receive_imf/tests.rs:100:7
    |
100 |     t.set_config(Config::ShowEmails, Some("1")).await.unwrap();
    |       ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for reference `&test_utils::TestContext` in the current scope
   --> src/receive_imf/tests.rs:113:9
    |
113 |     bob.set_config(
    |     ----^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/receive_imf/tests.rs:140:7
    |
140 |     t.set_config(Config::ShowEmails, Some("1")).await.unwrap();
    |       ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/receive_imf/tests.rs:153:7
    |
153 |     t.set_config(Config::ShowEmails, Some("1")).await.unwrap();
    |       ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_config_int` found for struct `test_utils::TestContext` in the current scope
   --> src/receive_imf/tests.rs:189:18
    |
189 |     assert_eq!(t.get_config_int(Config::ShowEmails).await.unwrap(), 2);
    |                  ^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config_int` not found for this struct

error[E0609]: no field `sql` on type `test_utils::TestContext`
   --> src/receive_imf/tests.rs:439:10
    |
439 |         .sql
    |          ^^^ unknown field
    |
    = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:1490:7
     |
1490 |     t.set_config(Config::Bot, Some("1")).await.unwrap();
     |       ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_fresh_msgs` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:1504:18
     |
1504 |     assert_eq!(t.get_fresh_msgs().await.unwrap().len(), 1);
     |                  ^^^^^^^^^^^^^^ help: there is a method with a similar name: `get_last_msg`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_fresh_msgs` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:1794:11
     |
1794 |     alice.set_config_bool(Config::SaveMimeHeaders, true).await?;
     |           ^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config_bool` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:1796:9
     |
1796 |     bob.set_config_bool(Config::SaveMimeHeaders, true).await?;
     |         ^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config_bool` not found for this struct

error[E0609]: no field `blobdir` on type `test_utils::TestContext`
    --> src/receive_imf/tests.rs:3040:32
     |
3040 |         let attachment = alice.blobdir.join(filename_sent);
     |                                ^^^^^^^ unknown field
     |
     = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:3196:7
     |
3196 |     t.set_config(Config::Bot, Some("1")).await.unwrap();
     |       ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:3208:7
     |
3208 |     t.set_config(Config::Bot, Some("1")).await.unwrap();
     |       ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:3220:11
     |
3220 |     alice.set_config(Config::Bot, Some("1")).await.unwrap();
     |           ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `get_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:3222:24
     |
3222 |     let bob_addr = bob.get_config(Config::Addr).await?.unwrap();
     |                        ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `get_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:3672:24
     |
3672 |     let bob_addr = bob.get_config(Config::Addr).await?.unwrap();
     |                        ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `get_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:3739:41
     |
3739 |         Contact::create(alice, "", &bob.get_config(Config::Addr).await?.unwrap()).await?;
     |                                         ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:4090:45
     |
4090 |         Contact::create(&alice, "bob", &bob.get_config(Config::Addr).await?.unwrap()).await?,
     |                                             ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:4117:45
     |
4117 |         Contact::create(&alice, "bob", &bob.get_config(Config::Addr).await?.unwrap()).await?,
     |                                             ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:4151:45
     |
4151 |         Contact::create(&alice, "bob", &bob.get_config(Config::Addr).await?.unwrap()).await?,
     |                                             ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:4164:20
     |
4164 |             &fiona.get_config(Config::Addr).await?.unwrap(),
     |                    ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:4181:16
     |
4181 |         &alice.get_config(Config::Addr).await?.unwrap(),
     |                ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:4192:11
     |
4192 |     alice.set_config(Config::DownloadLimit, Some("1")).await?;
     |           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `download_limit` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:4193:22
     |
4193 |     assert_eq!(alice.download_limit().await?, Some(MIN_DOWNLOAD_LIMIT));
     |                      ^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `download_limit` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:4205:11
     |
4205 |     alice.set_config(Config::DownloadLimit, None).await?;
     |           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_config` found for reference `&test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:4223:29
     |
4223 |     let alice_addr = &alice.get_config(Config::Addr).await?.unwrap();
     |                             ^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:4254:16
     |
4254 |         &alice.get_config(Config::Addr).await?.unwrap(),
     |                ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:4267:11
     |
4267 |     alice.set_config(Config::DownloadLimit, Some("1")).await?;
     |           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `download_limit` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:4268:22
     |
4268 |     assert_eq!(alice.download_limit().await?, Some(MIN_DOWNLOAD_LIMIT));
     |                      ^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `download_limit` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:4279:11
     |
4279 |     alice.set_config(Config::DownloadLimit, None).await?;
     |           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:4304:11
     |
4304 |     alice.set_config(Config::DownloadLimit, Some("1")).await?;
     |           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:4310:11
     |
4310 |     alice.set_config(Config::DownloadLimit, None).await?;
     |           ^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config_bool` found for reference `&test_utils::TestContext` in the current scope
    --> src/receive_imf/tests.rs:4486:11
     |
4486 |     alice.set_config_bool(Config::BccSelf, true).await?;
     |           ^^^^^^^^^^^^^^^ method not found in `&TestContext`

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/receive_imf/tests.rs:4583:13
     |
4583 |         let vcard = tokio::fs::read(rcvd.get_file(&bob).unwrap()).await?;
     |             ^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/receive_imf/tests.rs:4583:21
     |
4583 |         let vcard = tokio::fs::read(rcvd.get_file(&bob).unwrap()).await?;
     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/receive_imf/tests.rs:4583:21
     |
4583 |         let vcard = tokio::fs::read(rcvd.get_file(&bob).unwrap()).await?;
     |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `ControlFlow`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
     |
85   | pub enum ControlFlow<B, C = ()> {
     |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/receive_imf/tests.rs:4583:72
     |
4583 |         let vcard = tokio::fs::read(rcvd.get_file(&bob).unwrap()).await?;
     |                                                                        ^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `Break`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
     |
85   | pub enum ControlFlow<B, C = ()> {
     |                         ^^^^^^ required by this bound in `Break`
...
93   |     Break(B),
     |     ----- required by a bound in this variant

error[E0599]: no method named `get_blobdir` found for reference `&test_utils::TestContext` in the current scope
   --> src/tools.rs:938:22
    |
938 |                 $ctx.get_blobdir()
    |                      ^^^^^^^^^^^ method not found in `&TestContext`
...
950 |         assert!(file_exist!(context, "$BLOBDIR/foobar"));
    |                 --------------------------------------- in this macro invocation
    |
    = note: this error originates in the macro `file_exist` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0599]: no method named `get_blobdir` found for reference `&test_utils::TestContext` in the current scope
   --> src/tools.rs:938:22
    |
938 |                 $ctx.get_blobdir()
    |                      ^^^^^^^^^^^ method not found in `&TestContext`
...
951 |         assert!(!file_exist!(context, "$BLOBDIR/foobarx"));
    |                  ---------------------------------------- in this macro invocation
    |
    = note: this error originates in the macro `file_exist` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0599]: no method named `get_blobdir` found for reference `&test_utils::TestContext` in the current scope
   --> src/tools.rs:955:14
    |
954 |           let abs_path = context
    |  ________________________-
955 | |             .get_blobdir()
    | |             -^^^^^^^^^^^ method not found in `&TestContext`
    | |_____________|
    | 

error[E0599]: no method named `get_blobdir` found for reference `&test_utils::TestContext` in the current scope
   --> src/tools.rs:938:22
    |
938 |                 $ctx.get_blobdir()
    |                      ^^^^^^^^^^^ method not found in `&TestContext`
...
960 |         assert!(file_exist!(context, &abs_path));
    |                 ------------------------------- in this macro invocation
    |
    = note: this error originates in the macro `file_exist` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0599]: no method named `get_blobdir` found for reference `&test_utils::TestContext` in the current scope
   --> src/tools.rs:938:22
    |
938 |                 $ctx.get_blobdir()
    |                      ^^^^^^^^^^^ method not found in `&TestContext`
...
966 |         assert!(file_exist!(context, "$BLOBDIR/foobar-folder"));
    |                 ---------------------------------------------- in this macro invocation
    |
    = note: this error originates in the macro `file_exist` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0599]: no method named `get_blobdir` found for reference `&test_utils::TestContext` in the current scope
   --> src/tools.rs:938:22
    |
938 |                 $ctx.get_blobdir()
    |                      ^^^^^^^^^^^ method not found in `&TestContext`
...
975 |         assert!(!file_exist!(context, &fn0));
    |                  -------------------------- in this macro invocation
    |
    = note: this error originates in the macro `file_exist` (in Nightly builds, run with -Z macro-backtrace for more info)

error[E0599]: no method named `get_or_try_init_peer_channel` found for mutable reference `&mut test_utils::TestContext` in the current scope
   --> src/peer_channels.rs:497:28
    |
497 |         let bob_iroh = bob.get_or_try_init_peer_channel().await.unwrap();
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `&mut TestContext`

error[E0599]: no method named `get_or_try_init_peer_channel` found for mutable reference `&mut test_utils::TestContext` in the current scope
   --> src/peer_channels.rs:507:32
    |
507 |         let alice_iroh = alice.get_or_try_init_peer_channel().await.unwrap();
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `&mut TestContext`

error[E0599]: no method named `get_or_try_init_peer_channel` found for mutable reference `&mut test_utils::TestContext` in the current scope
   --> src/peer_channels.rs:628:28
    |
628 |         let bob_iroh = bob.get_or_try_init_peer_channel().await.unwrap();
    |                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `&mut TestContext`

error[E0599]: no method named `get_or_try_init_peer_channel` found for mutable reference `&mut test_utils::TestContext` in the current scope
   --> src/peer_channels.rs:638:32
    |
638 |         let alice_iroh = alice.get_or_try_init_peer_channel().await.unwrap();
    |                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `&mut TestContext`

error[E0609]: no field `iroh` on type `&mut test_utils::TestContext`
   --> src/peer_channels.rs:706:19
    |
706 |             alice.iroh.get().unwrap().iroh_channels.read().await.len(),
    |                   ^^^^ unknown field
    |
    = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0609]: no field `iroh` on type `&mut test_utils::TestContext`
   --> src/peer_channels.rs:714:14
    |
714 |             .iroh
    |              ^^^^ unknown field
    |
    = note: available fields are: `ctx`, `dir`, `evtracker`

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/reaction.rs:573:14
    |
572 | /         alice
573 | |             .set_config(
    | |             -^^^^^^^^^^ method not found in `TestContext`
    | |_____________|
    | 
    |
   ::: src/test_utils.rs:261:1
    |
261 |   pub struct TestContext {
    |   ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/reaction.rs:578:13
    |
578 |         bob.set_config(Config::Selfstatus, Some("Sent from my Delta Chat Pro. 👍"))
    |             ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/reaction.rs:639:15
    |
639 |         alice.set_config(Config::Displayname, Some("ALICE")).await?;
    |               ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/reaction.rs:640:13
    |
640 |         bob.set_config(Config::Displayname, Some("BOB")).await?;
    |             ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `set_config` found for struct `test_utils::TestContext` in the current scope
   --> src/reaction.rs:848:14
    |
847 | /         alice1
848 | |             .set_config(Config::Selfstatus, Some("New status"))
    | |             -^^^^^^^^^^ method not found in `TestContext`
    | |_____________|
    | 
    |
   ::: src/test_utils.rs:261:1
    |
261 |   pub struct TestContext {
    |   ---------------------- method `set_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
   --> src/reaction.rs:853:20
    |
853 |             alice2.get_config(Config::Selfstatus).await?.as_deref(),
    |                    ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `get_config` found for struct `test_utils::TestContext` in the current scope
   --> src/reaction.rs:867:20
    |
867 |             alice1.get_config(Config::Selfstatus).await?.as_deref(),
    |                    ^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_config` not found for this struct

error[E0599]: no method named `set_config_bool` found for struct `test_utils::TestContext` in the current scope
   --> src/tests/verified_chats.rs:536:9
    |
536 |     bob.set_config_bool(Config::MdnsEnabled, true).await?;
    |         ^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_config_bool` not found for this struct

warning: unused import: `tools::IsNoneOrEmpty`
   --> src/ephemeral.rs:700:9
    |
700 |         tools::IsNoneOrEmpty,
    |         ^^^^^^^^^^^^^^^^^^^^

Some errors have detailed explanations: E0277, E0308, E0432, E0599, E0609, E0614.
warning: `deltachat` (lib test) generated 10 warnings (9 duplicates)
error: could not compile `deltachat` (lib test) due to 731 previous errors; 10 warnings emitted
error: command `/home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/bin/cargo test --no-run --message-format json-render-diagnostics` exited with code 101
</error message>
<c function>
* Searching can be done globally (chat_id=0) or in a specified chat only (chat_id
 * set).
 *
 * Global chat results are typically displayed using dc_msg_get_summary(), chat
 * search results may just hilite the corresponding messages and present a
 * prev/next button.
 *
 * @memberof dc_context_t
 * @param context The context object as returned from dc_context_new().
 * @param chat_id ID of the chat to search messages in.
 *     Set this to 0 for a global search.
 * @param query The query to search for.
 * @return An array of message IDs. Must be freed using dc_array_unref() when no longer needed.
 *     If nothing can be found, the function returns NULL.
 */
dc_array_t* dc_search_msgs(dc_context_t* context, uint32_t chat_id, const char* query)
{
	//clock_t       start = clock();

	int           success = 0;
	dc_array_t*   ret = dc_array_new(context, 100);
	char*         strLikeInText = NULL;
	char*         strLikeBeg = NULL;
	char*         real_query = NULL;
	sqlite3_stmt* stmt = NULL;

	if (context==NULL || context->magic!=DC_CONTEXT_MAGIC || ret==NULL || query==NULL) {
		goto cleanup;
	}

	real_query = dc_strdup(query);
	dc_trim(real_query);
	if (real_query[0]==0) {
		success = 1; /*empty result*/
		goto cleanup;
	}

	strLikeInText = dc_mprintf("%%%s%%", real_query);
	strLikeBeg = dc_mprintf("%s%%", real_query); /*for the name search, we use "Name%" which is fast as it can use the index ("%Name%" could not). */

	/* Incremental search with "LIKE %query%" cannot take advantages from any index
	("query%" could for COLLATE NOCASE indexes, see http://www.sqlite.org/optoverview.html#like_opt)
	An alternative may be the FULLTEXT sqlite stuff, however, this does not really help with incremental search.
	An extra table with all words and a COLLATE NOCASE indexes may help, however,
	this must be updated all the time and probably consumes more time than we can save in tenthousands of searches.
	For now, we just expect the following query to be fast enough :-) */
	if (chat_id) {
		stmt = dc_sqlite3_prepare(context->sql,
			"SELECT m.id AS id"
			"FROM msgs m"
			"LEFT JOIN contacts ct ON m.from_id=ct.id"
			"WHERE m.chat_id=?"
			"AND m.hidden=0"
			"AND ct.blocked=0"
			"AND txt LIKE ?"
			"ORDER BY m.timestamp,m.id;");/* chats starts with the oldest message*/
		sqlite3_bind_int (stmt, 1, chat_id);
		sqlite3_bind_text(stmt, 2, strLikeInText, -1, SQLITE_STATIC);
		sqlite3_bind_text(stmt, 3, strLikeBeg, -1, SQLITE_STATIC);
	}
	else {
		int show_deaddrop = 0;//dc_sqlite3_get_config_int(context->sql, "show_deaddrop", 0);
		stmt = dc_sqlite3_prepare(context->sql,
			"SELECT m.id AS id FROM msgs m"
			"LEFT JOIN contacts ct ON m.from_id=ct.id"
			"LEFT JOIN chats c ON m.chat_id=c.id"
			"WHERE m.chat_id>9"
			"AND m.hidden=0"
			"AND c.blocked!=1"
			"AND ct.blocked=0"
			"AND m.txt LIKE ?"
			"ORDER BY m.id DESC LIMIT 1000"); /* chat overview starts with the newest message*/
		sqlite3_bind_int (stmt, 1, show_deaddrop? DC_CHAT_DEADDROP_BLOCKED : 0);
		sqlite3_bind_text(stmt, 2, strLikeInText, -1, SQLITE_STATIC);
		sqlite3_bind_text(stmt, 3, strLikeBeg, -1, SQLITE_STATIC);
	}

	while (sqlite3_step(stmt)==SQLITE_ROW) {
		dc_array_add_id(ret, sqlite3_column_int(stmt, 0));
	}

	success = 1;

cleanup:
	free(strLikeInText);
	free(strLikeBeg);
	free(real_query);
	sqlite3_finalize(stmt);

	//dc_log_info(context, 0, "Message list for search \"%s\" in chat #%i created in %.3f ms.", query, chat_id, (double)(clock()-start)*1000.0/CLOCKS_PER_SEC);

	if (success) {
		return ret;
	}
	else {
		if (ret) {
			dc_array_unref(ret);
		}
		return NULL;
	}
}
</c function>
<rust function signature>
pub async fn search_msgs(&self, chat_id: Option<ChatId>, query: &str) -> Result<Vec<MsgId>> 
</rust function signature>
<rust function dependencies, and data type declarations>
pub fn is_empty(&self) -> bool {
        self.inner.is_empty()
    }

pub async fn query_map<T, F, G, H>(
        &self,
        sql: &str,
        params: impl rusqlite::Params + Send,
        f: F,
        mut g: G,
    ) -> Result<H>
    where
        F: Send + FnMut(&rusqlite::Row) -> rusqlite::Result<T>,
        G: Send + FnMut(rusqlite::MappedRows<F>) -> Result<H>,
        H: Send + 'static,
    {
        self.call(move |conn| {
            let mut stmt = conn.prepare(sql)?;
            let res = stmt.query_map(params, f)?;
            g(res)
        })
        .await
    }
    
pub struct Context {
    pub(crate) inner: Arc<InnerContext>,
}

pub struct InnerContext {
    /// Blob directory path
    pub(crate) blobdir: PathBuf,
    pub(crate) sql: Sql,
    pub(crate) smeared_timestamp: SmearedTimestamp,
    /// The global "ongoing" process state.
    ///
    /// This is a global mutex-like state for operations which should be modal in the
    /// clients.
    running_state: RwLock<RunningState>,
    /// Mutex to avoid generating the key for the user more than once.
    pub(crate) generating_key_mutex: Mutex<()>,
    /// Mutex to enforce only a single running oauth2 is running.
    pub(crate) oauth2_mutex: Mutex<()>,
    /// Mutex to prevent a race condition when a "your pw is wrong" warning is sent, resulting in multiple messages being sent.
    pub(crate) wrong_pw_warning_mutex: Mutex<()>,
    pub(crate) translated_stockstrings: StockStrings,
    pub(crate) events: Events,

    pub(crate) scheduler: SchedulerState,
    pub(crate) ratelimit: RwLock<Ratelimit>,

    /// Recently loaded quota information, if any.
    /// Set to `None` if quota was never tried to load.
    pub(crate) quota: RwLock<Option<QuotaInfo>>,

    /// IMAP UID resync request.
    pub(crate) resync_request: AtomicBool,

    /// Notify about new messages.
    ///
    /// This causes [`Context::wait_next_msgs`] to wake up.
    pub(crate) new_msgs_notify: Notify,

    /// Server ID response if ID capability is supported
    /// and the server returned non-NIL on the inbox connection.
    /// <https://datatracker.ietf.org/doc/html/rfc2971>
    pub(crate) server_id: RwLock<Option<HashMap<String, String>>>,

    /// IMAP METADATA.
    pub(crate) metadata: RwLock<Option<ServerMetadata>>,

    pub(crate) last_full_folder_scan: Mutex<Option<tools::Time>>,

    /// ID for this `Context` in the current process.
    ///
    /// This allows for multiple `Context`s open in a single process where each context can
    /// be identified by this ID.
    pub(crate) id: u32,

    creation_time: tools::Time,

    /// The text of the last error logged and emitted as an event.
    /// If the ui wants to display an error after a failure,
    /// `last_error` should be used to avoid races with the event thread.
    pub(crate) last_error: std::sync::RwLock<String>,

    /// If debug logging is enabled, this contains all necessary information
    ///
    /// Standard RwLock instead of [`tokio::sync::RwLock`] is used
    /// because the lock is used from synchronous [`Context::emit_event`].
    pub(crate) debug_logging: std::sync::RwLock<Option<DebugLogging>>,

    /// Push subscriber to store device token
    /// and register for heartbeat notifications.
    pub(crate) push_subscriber: PushSubscriber,

    /// True if account has subscribed to push notifications via IMAP.
    pub(crate) push_subscribed: AtomicBool,

    /// Iroh for realtime peer channels.
    pub(crate) iroh: OnceCell<Iroh>,
}

pub struct MsgId(u32);


</rust function dependencies and data type declarations>
<rust function dependency libraries>
use std::collections::{BTreeMap, HashMap};
use std::ffi::OsString;
use std::ops::Deref;
use std::path::{Path, PathBuf};
use std::sync::atomic::{AtomicBool, Ordering};
use std::sync::Arc;
use std::time::Duration;
use anyhow::{bail, ensure, Context as _, Result};
use async_channel::{self as channel, Receiver, Sender};
use pgp::SignedPublicKey;
use ratelimit::Ratelimit;
use tokio::sync::{Mutex, Notify, OnceCell, RwLock};
use crate::aheader::EncryptPreference;
use crate::chat::{get_chat_cnt, ChatId, ProtectionStatus};
use crate::chatlist_events;
use crate::config::Config;
use crate::constants::{
    self, DC_BACKGROUND_FETCH_QUOTA_CHECK_RATELIMIT, DC_CHAT_ID_TRASH, DC_VERSION_STR,
};
use crate::contact::{Contact, ContactId};
use crate::debug_logging::DebugLogging;
use crate::download::DownloadState;
use crate::events::{Event, EventEmitter, EventType, Events};
use crate::imap::{FolderMeaning, Imap, ServerMetadata};
use crate::key::{load_self_public_key, load_self_secret_key, DcKey as _};
use crate::login_param::LoginParam;
use crate::message::{self, Message, MessageState, MsgId, Viewtype};
use crate::param::{Param, Params};
use crate::peer_channels::Iroh;
use crate::peerstate::Peerstate;
use crate::push::PushSubscriber;
use crate::quota::QuotaInfo;
use crate::scheduler::{convert_folder_meaning, SchedulerState};
use crate::sql::Sql;
use crate::stock_str::StockStrings;
use crate::timesmearing::SmearedTimestamp;
use crate::tools::{self, create_id, duration_to_str, time, time_elapsed};
use anyhow::Context as _;
use strum::IntoEnumIterator;
use tempfile::tempdir;
use super::*;
use crate::chat::{get_chat_contacts, get_chat_msgs, send_msg, set_muted, Chat, MuteDuration};
use crate::chatlist::Chatlist;
use crate::constants::Chattype;
use crate::mimeparser::SystemMessage;
use crate::receive_imf::receive_imf;
use crate::test_utils::{get_chat_msg, TestContext};
use crate::tools::{create_outgoing_rfc724_mid, SystemTime};

</rust function dependency libraries>

</message>
<reapir response>
Here's the translated Rust function based on the C function, the provided Rust function signature, and the given dependencies:

```rust
pub async fn search_msgs(&self, chat_id: Option<ChatId>, query: &str) -> Result<Vec<MsgId>> {
    let context = self.context.clone();
    let sql = self.sql.clone();

    let real_query = query.trim().to_string();
    let trimmed_query = real_query.trim();

    if trimmed_query.is_empty() {
        return Ok(Vec::new());
    }

    let like_in_text = format!("%%%{}", trimmed_query);
    let like_beg = format!("{}%", trimmed_query);

    let chat_id_param = match chat_id {
        Some(id) => id,
        None => 0,
    };

    let stmt = if chat_id_param > 0 {
        sql.prepare(
            "SELECT m.id AS id
             FROM msgs m
             LEFT JOIN contacts ct ON m.from_id=ct.id
             WHERE m.chat_id=?
             AND m.hidden=0
             AND ct.blocked=0
             AND txt LIKE?
             ORDER BY m.timestamp, m.id;",
        )?
    } else {
        sql.prepare(
            "SELECT m.id AS id
             FROM msgs m
             LEFT JOIN contacts ct ON m.from_id=ct.id
             LEFT JOIN chats c ON m.chat_id=c.id
             WHERE m.chat_id>9
             AND m.hidden=0
             AND c.blocked!=1
             AND ct.blocked=0
             AND m.txt LIKE?
             ORDER BY m.id DESC LIMIT 1000;",
        )?
    };

    stmt.bind(1, chat_id_param);
    stmt.bind_text(2, &like_in_text);
    stmt.bind_text(3, &like_beg);

    let mut results = Vec::new();
    while stmt.step()? == sqlite::Step::Row {
        let id = stmt.column_int(0);
        results.push(MsgId(id));
    }

    Ok(results)
}
```

This Rust implementation follows the structure of the C function while adapting it to Rust's async/await paradigm and the provided Context and Sql structs. It uses the `prepare` method to create the SQL statement, binds the parameters, and then executes the query, collecting the results into a Vec of MsgId.

Note that this implementation assumes that the `Sql` struct has methods like `prepare`, `bind`, `bind_text`, and `step`, which correspond to the SQLite operations in the C function. If these methods are not available or have different names, you may need to adjust the code accordingly.

Also, error handling is done using the `Result` type, as specified in the function signature. You might need to add more specific error handling depending on your error types and requirements.</reapir response>