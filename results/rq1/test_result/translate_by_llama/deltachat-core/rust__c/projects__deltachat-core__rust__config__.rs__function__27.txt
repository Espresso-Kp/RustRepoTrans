Fail
file path is :
projects/deltachat-core/rust/src/config.rs

output is:


error is :
   Compiling deltachat v1.139.6 (/home/k/ogs_PHD/LLM4SE/2Rust_projects/auto_get_functionPair/RustRepoTrans/projects/deltachat-core/rust)
error: expected one of `!`, `(`, `+`, `::`, `<`, `where`, or `{`, found `>`
   --> src/config.rs:723:66
    |
718 | impl Context {
    |              - while parsing this item list starting here
...
723 | pub(crate) async fn is_self_addr(&self, addr: &str) -> Resultbool> {
    |                                                                  ^ expected one of 7 possible tokens
...
778 | }
    | - the item list ends here

warning: unused import: `Context as _`
 --> src/config.rs:7:22
  |
7 | use anyhow::{ensure, Context as _, Result};
  |                      ^^^^^^^^^^^^
  |
note: the lint level is defined here
 --> src/lib.rs:6:5
  |
6 |     unused,
  |     ^^^^^^
  = note: `#[warn(unused_imports)]` implied by `#[warn(unused)]`

warning: unused import: `deltachat_contact_tools::addr_cmp`
 --> src/config.rs:9:5
  |
9 | use deltachat_contact_tools::addr_cmp;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

error[E0599]: no method named `get_primary_self_addr` found for reference `&context::Context` in the current scope
   --> src/sql/migrations.rs:368:35
    |
368 |         if let Ok(addr) = context.get_primary_self_addr().await {
    |                                   ^^^^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sql/migrations.rs:368:19
    |
368 |         if let Ok(addr) = context.get_primary_self_addr().await {
    |                   ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sql/migrations.rs:368:16
    |
368 |         if let Ok(addr) = context.get_primary_self_addr().await {
    |                ^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::prelude::v1::Ok`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/result.rs:502:17
    |
502 | pub enum Result<T, E> {
    |                 ^ required by this bound in `std::prelude::v1::Ok`
...
506 |     Ok(#[stable(feature = "rust1", since = "1.0.0")] T),
    |     -- required by a bound in this tuple variant

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sql/migrations.rs:368:59
    |
368 |         if let Ok(addr) = context.get_primary_self_addr().await {
    |                                                           ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::result::Result`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/result.rs:502:17
    |
502 | pub enum Result<T, E> {
    |                 ^ required by this bound in `Result`

error[E0599]: no method named `is_self_addr` found for reference `&context::Context` in the current scope
   --> src/peerstate.rs:171:20
    |
171 |         if context.is_self_addr(addr).await? {
    |                    ^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `get_primary_self_addr` found for reference `&context::Context` in the current scope
    --> src/chat.rs:2894:24
     |
2894 |     let from = context.get_primary_self_addr().await?;
     |                        ^^^^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `is_self_addr` found for reference `&context::Context` in the current scope
    --> src/chat.rs:3727:16
     |
3727 |     if context.is_self_addr(contact.get_addr()).await? {
     |                ^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `is_self_addr` found for reference `&context::Context` in the current scope
   --> src/contact.rs:710:20
    |
710 |         if context.is_self_addr(&addr_normalized).await? {
    |                    ^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `is_self_addr` found for reference `&context::Context` in the current scope
   --> src/contact.rs:768:20
    |
768 |         if context.is_self_addr(addr).await? {
    |                    ^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `is_self_addr` found for reference `&context::Context` in the current scope
    --> src/receive_imf.rs:2834:16
     |
2834 |     if context.is_self_addr(&addr).await? {
     |                ^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `is_self_addr` found for reference `&context::Context` in the current scope
    --> src/imap.rs:1228:40
     |
1228 | ...                   if context.is_self_addr(&from.addr).await? {
     |                                  ^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `get_primary_self_addr` found for reference `&context::Context` in the current scope
   --> src/receive_imf.rs:289:33
    |
289 |         let self_addr = context.get_primary_self_addr().await?;
    |                                 ^^^^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `get_primary_self_addr` found for reference `&context::Context` in the current scope
   --> src/mimefactory.rs:254:33
    |
254 |         let from_addr = context.get_primary_self_addr().await?;
    |                                 ^^^^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `get_primary_self_addr` found for reference `&context::Context` in the current scope
  --> src/e2ee.rs:25:28
   |
25 |         let addr = context.get_primary_self_addr().await?;
   |                            ^^^^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `get_primary_self_addr` found for reference `&context::Context` in the current scope
   --> src/mimefactory.rs:292:33
    |
292 |         let self_addr = context.get_primary_self_addr().await?;
    |                                 ^^^^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `get_primary_self_addr` found for reference `&context::Context` in the current scope
   --> src/location.rs:537:29
    |
537 |     let self_addr = context.get_primary_self_addr().await?;
    |                             ^^^^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `get_primary_self_addr` found for reference `&context::Context` in the current scope
   --> src/key.rs:219:24
    |
219 |     let addr = context.get_primary_self_addr().await?;
    |                        ^^^^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/key.rs:219:9
    |
219 |     let addr = context.get_primary_self_addr().await?;
    |         ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/key.rs:219:16
    |
219 |     let addr = context.get_primary_self_addr().await?;
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/key.rs:219:16
    |
219 |     let addr = context.get_primary_self_addr().await?;
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `ControlFlow`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/key.rs:219:53
    |
219 |     let addr = context.get_primary_self_addr().await?;
    |                                                     ^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `Break`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `Break`
...
93  |     Break(B),
    |     ----- required by a bound in this variant

error[E0599]: no method named `is_self_addr` found for reference `&context::Context` in the current scope
   --> src/peerstate.rs:632:20
    |
632 |         if context.is_self_addr(&self.addr).await? {
    |                    ^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `get_all_self_addrs` found for reference `&context::Context` in the current scope
    --> src/contact.rs:1010:34
     |
1010 |         let self_addrs = context.get_all_self_addrs().await?;
     |                                  ^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `get_primary_self_addr` found for reference `&context::Context` in the current scope
   --> src/context.rs:525:28
    |
525 |         let address = self.get_primary_self_addr().await?;
    |                            ^^^^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `get_secondary_self_addrs` found for reference `&context::Context` in the current scope
   --> src/context.rs:728:36
    |
728 |         let secondary_addrs = self.get_secondary_self_addrs().await?.join(", ");
    |                                    ^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `is_self_addr` found for reference `&context::Context` in the current scope
  --> src/decrypt.rs:64:39
   |
64 |     let autocrypt_header = if context.is_self_addr(from).await? {
   |                                       ^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `is_self_addr` found for reference `&context::Context` in the current scope
   --> src/decrypt.rs:292:33
    |
292 |     let allow_change = !context.is_self_addr(from).await?;
    |                                 ^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `get_primary_self_addr` found for reference `&context::Context` in the current scope
    --> src/imap.rs:2298:61
     |
2298 |     let mut search_command = format!("FROM \"{}\"", context.get_primary_self_addr().await?);
     |                                                             ^^^^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `get_secondary_self_addrs` found for reference `&context::Context` in the current scope
    --> src/imap.rs:2300:25
     |
2300 |     for item in context.get_secondary_self_addrs().await? {
     |                         ^^^^^^^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `get_primary_self_addr` found for reference `&context::Context` in the current scope
   --> src/imex.rs:326:29
    |
326 |     let self_addr = context.get_primary_self_addr().await?;
    |                             ^^^^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imex.rs:326:9
    |
326 |     let self_addr = context.get_primary_self_addr().await?;
    |         ^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imex.rs:326:21
    |
326 |     let self_addr = context.get_primary_self_addr().await?;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imex.rs:326:21
    |
326 |     let self_addr = context.get_primary_self_addr().await?;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `ControlFlow`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imex.rs:326:58
    |
326 |     let self_addr = context.get_primary_self_addr().await?;
    |                                                          ^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `Break`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `Break`
...
93  |     Break(B),
    |     ----- required by a bound in this variant

error[E0599]: no method named `get_primary_self_addr` found for reference `&context::Context` in the current scope
   --> src/imex.rs:531:29
    |
531 |     let self_addr = context.get_primary_self_addr().await?;
    |                             ^^^^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imex.rs:531:9
    |
531 |     let self_addr = context.get_primary_self_addr().await?;
    |         ^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imex.rs:531:21
    |
531 |     let self_addr = context.get_primary_self_addr().await?;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imex.rs:531:21
    |
531 |     let self_addr = context.get_primary_self_addr().await?;
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `ControlFlow`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/imex.rs:531:58
    |
531 |     let self_addr = context.get_primary_self_addr().await?;
    |                                                          ^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `Break`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `Break`
...
93  |     Break(B),
    |     ----- required by a bound in this variant

error[E0599]: no method named `set_primary_self_addr` found for reference `&context::Context` in the current scope
   --> src/login_param.rs:210:17
    |
210 |         context.set_primary_self_addr(&self.addr).await?;
    |                 ^^^^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `get_primary_self_addr` found for reference `&context::Context` in the current scope
   --> src/mimefactory.rs:145:33
    |
145 |         let from_addr = context.get_primary_self_addr().await?;
    |                                 ^^^^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `is_self_addr` found for reference `&context::Context` in the current scope
   --> src/mimeparser.rs:318:33
    |
318 |         let incoming = !context.is_self_addr(&from.addr).await?;
    |                                 ^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `is_self_addr` found for reference `&context::Context` in the current scope
   --> src/mimeparser.rs:720:29
    |
720 |                 if !context.is_self_addr(from).await? {
    |                             ^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `is_self_addr` found for reference `&context::Context` in the current scope
   --> src/peerstate.rs:216:20
    |
216 |         if context.is_self_addr(addr).await? {
    |                    ^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `is_self_addr` found for reference `&context::Context` in the current scope
   --> src/qr.rs:390:18
    |
389 |               if context
    |  ________________-
390 | |                 .is_self_addr(&addr)
    | |                 -^^^^^^^^^^^^ method not found in `&Context`
    | |_________________|
    | 

error[E0599]: no method named `is_self_addr` found for reference `&context::Context` in the current scope
   --> src/qr.rs:423:27
    |
423 |         } else if context.is_self_addr(&addr).await? {
    |                           ^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `get_primary_self_addr` found for reference `&context::Context` in the current scope
  --> src/securejoin.rs:70:29
   |
70 |     let self_addr = context.get_primary_self_addr().await?;
   |                             ^^^^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0277]: the size for values of type `str` cannot be known at compilation time
  --> src/securejoin.rs:70:9
   |
70 |     let self_addr = context.get_primary_self_addr().await?;
   |         ^^^^^^^^^ doesn't have a size known at compile-time
   |
   = help: the trait `Sized` is not implemented for `str`
   = note: all local variables must have a statically known size
   = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
  --> src/securejoin.rs:70:21
   |
70 |     let self_addr = context.get_primary_self_addr().await?;
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
   |
   = help: the trait `Sized` is not implemented for `str`
   = note: all local variables must have a statically known size
   = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
  --> src/securejoin.rs:70:21
   |
70 |     let self_addr = context.get_primary_self_addr().await?;
   |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
   |
   = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `ControlFlow`
  --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
   |
85 | pub enum ControlFlow<B, C = ()> {
   |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `str` cannot be known at compilation time
  --> src/securejoin.rs:70:58
   |
70 |     let self_addr = context.get_primary_self_addr().await?;
   |                                                          ^ doesn't have a size known at compile-time
   |
   = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `Break`
  --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
   |
85 | pub enum ControlFlow<B, C = ()> {
   |                         ^^^^^^ required by this bound in `Break`
...
93 |     Break(B),
   |     ----- required by a bound in this variant

error[E0599]: no method named `get_primary_self_addr` found for reference `&context::Context` in the current scope
   --> src/scheduler/connectivity.rs:417:63
    |
417 |             &deltachat_contact_tools::EmailAddress::new(&self.get_primary_self_addr().await?)?
    |                                                               ^^^^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/scheduler/connectivity.rs:417:58
    |
417 |             &deltachat_contact_tools::EmailAddress::new(&self.get_primary_self_addr().await?)?
    |                                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/scheduler/connectivity.rs:417:58
    |
417 |             &deltachat_contact_tools::EmailAddress::new(&self.get_primary_self_addr().await?)?
    |                                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `ControlFlow`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/scheduler/connectivity.rs:417:92
    |
417 |             &deltachat_contact_tools::EmailAddress::new(&self.get_primary_self_addr().await?)?
    |                                                                                            ^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `Break`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `Break`
...
93  |     Break(B),
    |     ----- required by a bound in this variant

error[E0599]: no method named `is_self_addr` found for reference `&context::Context` in the current scope
   --> src/securejoin.rs:301:65
    |
301 |             if key.fingerprint() == self_fingerprint && context.is_self_addr(addr).await? {
    |                                                                 ^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `is_self_addr` found for reference `&context::Context` in the current scope
   --> src/securejoin.rs:509:25
    |
509 |             if !context.is_self_addr(member_added).await? {
    |                         ^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `is_self_addr` found for reference `&context::Context` in the current scope
    --> src/receive_imf.rs:1890:42
     |
1890 |             Some(member_addr) => context.is_self_addr(member_addr).await?,
     |                                          ^^^^^^^^^^^^ method not found in `&Context`

error[E0599]: no method named `get_primary_self_addr` found for reference `&context::Context` in the current scope
    --> src/receive_imf.rs:1993:31
     |
1993 |             addr_cmp(&context.get_primary_self_addr().await?, added_addr)
     |                               ^^^^^^^^^^^^^^^^^^^^^ method not found in `&Context`

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/receive_imf.rs:1993:23
     |
1993 |             addr_cmp(&context.get_primary_self_addr().await?, added_addr)
     |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/receive_imf.rs:1993:23
     |
1993 |             addr_cmp(&context.get_primary_self_addr().await?, added_addr)
     |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `ControlFlow`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
     |
85   | pub enum ControlFlow<B, C = ()> {
     |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/receive_imf.rs:1993:60
     |
1993 |             addr_cmp(&context.get_primary_self_addr().await?, added_addr)
     |                                                            ^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `Break`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
     |
85   | pub enum ControlFlow<B, C = ()> {
     |                         ^^^^^^ required by this bound in `Break`
...
93   |     Break(B),
     |     ----- required by a bound in this variant

Some errors have detailed explanations: E0277, E0599.
For more information about an error, try `rustc --explain E0277`.
warning: `deltachat` (lib) generated 2 warnings
error: could not compile `deltachat` (lib) due to 63 previous errors; 2 warnings emitted
warning: build failed, waiting for other jobs to finish...
error[E0599]: no method named `get_primary_self_addr` found for struct `context::Context` in the current scope
   --> src/test_utils.rs:564:43
    |
564 |         let primary_self_addr = other.ctx.get_primary_self_addr().await.unwrap();
    |                                           ^^^^^^^^^^^^^^^^^^^^^ method not found in `Context`
    |
   ::: src/context.rs:209:1
    |
209 | pub struct Context {
    | ------------------ method `get_primary_self_addr` not found for this struct

error[E0599]: no method named `set_primary_self_addr` found for reference `&test_utils::TestContext` in the current scope
   --> src/test_utils.rs:158:22
    |
158 |         test_context.set_primary_self_addr(new_addr).await.unwrap();
    |                      ^^^^^^^^^^^^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `get_primary_self_addr` found for reference `&test_utils::TestContext` in the current scope
   --> src/test_utils.rs:165:26
    |
165 |             test_context.get_primary_self_addr().await.unwrap(),
    |                          ^^^^^^^^^^^^^^^^^^^^^ method not found in `&TestContext`

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:892:23
    |
892 |         assert!(alice.is_self_addr("alice@example.org").await?);
    |                       ^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `get_all_self_addrs` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:893:26
    |
893 |         assert_eq!(alice.get_all_self_addrs().await?, vec!["alice@example.org"]);
    |                          ^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_all_self_addrs` not found for this struct

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:894:24
    |
894 |         assert!(!alice.is_self_addr("alice@alice.com").await?);
    |                        ^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `set_primary_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:897:15
    |
897 |         alice.set_primary_self_addr("alice@example.org").await?;
    |               ^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_primary_self_addr` not found for this struct

error[E0599]: no method named `set_primary_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:898:15
    |
898 |         alice.set_primary_self_addr("Alice@Example.Org").await?;
    |               ^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_primary_self_addr` not found for this struct

error[E0599]: no method named `get_all_self_addrs` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:899:26
    |
899 |         assert_eq!(alice.get_all_self_addrs().await?, vec!["Alice@Example.Org"]);
    |                          ^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_all_self_addrs` not found for this struct

error[E0599]: no method named `set_primary_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:904:15
    |
904 |         alice.set_primary_self_addr("Alice@alice.com").await?;
    |               ^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_primary_self_addr` not found for this struct

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:905:23
    |
905 |         assert!(alice.is_self_addr("aliCe@example.org").await?);
    |                       ^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:906:23
    |
906 |         assert!(alice.is_self_addr("alice@alice.com").await?);
    |                       ^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `get_all_self_addrs` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:908:19
    |
908 |             alice.get_all_self_addrs().await?,
    |                   ^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_all_self_addrs` not found for this struct

error[E0599]: no method named `set_primary_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:913:15
    |
913 |         alice.set_primary_self_addr("alice@alice.com").await?;
    |               ^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_primary_self_addr` not found for this struct

error[E0599]: no method named `set_primary_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:914:15
    |
914 |         alice.set_primary_self_addr("alice@alice.com").await?;
    |               ^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_primary_self_addr` not found for this struct

error[E0599]: no method named `get_all_self_addrs` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:916:19
    |
916 |             alice.get_all_self_addrs().await?,
    |                   ^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_all_self_addrs` not found for this struct

error[E0599]: no method named `set_primary_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:921:15
    |
921 |         alice.set_primary_self_addr("alice@example.org").await?;
    |               ^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_primary_self_addr` not found for this struct

error[E0599]: no method named `get_all_self_addrs` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:923:19
    |
923 |             alice.get_all_self_addrs().await?,
    |                   ^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_all_self_addrs` not found for this struct

error[E0599]: no method named `set_primary_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:929:15
    |
929 |         alice.set_primary_self_addr("alice@alice.xyz").await?;
    |               ^^^^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `set_primary_self_addr` not found for this struct

error[E0599]: no method named `get_all_self_addrs` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:931:19
    |
931 |             alice.get_all_self_addrs().await?,
    |                   ^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `get_all_self_addrs` not found for this struct

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:934:23
    |
934 |         assert!(alice.is_self_addr("alice@example.org").await?);
    |                       ^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:935:23
    |
935 |         assert!(alice.is_self_addr("alice@alice.com").await?);
    |                       ^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
   --> src/config.rs:936:23
    |
936 |         assert!(alice.is_self_addr("Alice@alice.xyz").await?);
    |                       ^^^^^^^^^^^^ method not found in `TestContext`
    |
   ::: src/test_utils.rs:261:1
    |
261 | pub struct TestContext {
    | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `get_all_self_addrs` found for struct `test_utils::TestContext` in the current scope
    --> src/contact.rs:1996:25
     |
1996 |         assert!(context.get_all_self_addrs().await?.is_empty());
     |                         ^^^^^^^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `get_all_self_addrs` not found for this struct

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
    --> src/contact.rs:2059:22
     |
2059 |         assert_eq!(t.is_self_addr("me@me.org").await?, false);
     |                      ^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
    --> src/contact.rs:2062:22
     |
2062 |         assert_eq!(t.is_self_addr("me@me.org").await?, false);
     |                      ^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `is_self_addr` found for struct `test_utils::TestContext` in the current scope
    --> src/contact.rs:2063:22
     |
2063 |         assert_eq!(t.is_self_addr("you@you.net").await?, true);
     |                      ^^^^^^^^^^^^ method not found in `TestContext`
     |
    ::: src/test_utils.rs:261:1
     |
261  | pub struct TestContext {
     | ---------------------- method `is_self_addr` not found for this struct

error[E0599]: no method named `set_primary_self_addr` found for struct `context::Context` in the current scope
    --> src/imap.rs:2748:15
     |
2748 |         t.ctx.set_primary_self_addr("alice@another.com").await?;
     |               ^^^^^^^^^^^^^^^^^^^^^ method not found in `Context`
     |
    ::: src/context.rs:209:1
     |
209  | pub struct Context {
     | ------------------ method `set_primary_self_addr` not found for this struct

error[E0599]: no method named `set_primary_self_addr` found for struct `context::Context` in the current scope
    --> src/imap.rs:2754:15
     |
2754 |         t.ctx.set_primary_self_addr("alice@third.com").await?;
     |               ^^^^^^^^^^^^^^^^^^^^^ method not found in `Context`
     |
    ::: src/context.rs:209:1
     |
209  | pub struct Context {
     | ------------------ method `set_primary_self_addr` not found for this struct

warning: `deltachat` (lib test) generated 2 warnings (2 duplicates)
error: could not compile `deltachat` (lib test) due to 92 previous errors; 2 warnings emitted
error: command `/home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/bin/cargo test --no-run --message-format json-render-diagnostics` exited with code 101

