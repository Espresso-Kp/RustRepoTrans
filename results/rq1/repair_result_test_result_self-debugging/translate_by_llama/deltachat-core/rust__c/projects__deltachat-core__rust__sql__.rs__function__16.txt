Fail
file path is :
projects/deltachat-core/rust/src/sql.rs

output is:


error is :
   Compiling deltachat v1.139.6 (/home/k/ogs_PHD/LLM4SE/2Rust_projects/auto_get_functionPair/projects/deltachat-core/rust)
error: expected one of `!`, `(`, `+`, `::`, `<`, `where`, or `{`, found `>`
   --> src/sql.rs:407:21
    |
77  | impl Sql {
    |          - while parsing this item list starting here
...
407 |     ) -> Resultusize> {
    |                     ^ expected one of 7 possible tokens
...
665 | }
    | - the item list ends here

error[E0599]: no method named `query_map` found for reference `&Sql` in the current scope
   --> src/sql.rs:219:18
    |
218 |               let addrs = self
    |  _________________________-
219 | |                 .query_map(
    | |                 -^^^^^^^^^ method not found in `&Sql`
    | |_________________|
    | 

error[E0599]: no method named `get_raw_config_u32` found for reference `&Sql` in the current scope
   --> src/sql.rs:299:14
    |
298 |           if let Some(xdc_id) = self
    |  _______________________________-
299 | |             .get_raw_config_u32(Config::DebugLogging.as_ref())
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `&Sql`
    | |_____________|
    | 

error[E0599]: no method named `query_row_optional` found for struct `Sql` in the current scope
   --> src/sql.rs:746:10
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct
...
744 |       match context
    |  ___________-
745 | |         .sql
746 | |         .query_row_optional("PRAGMA incremental_vacuum", (), |_row| Ok(()))
    | |         -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/sql.rs:764:10
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
...
762 | /     context
763 | |         .sql
764 | |         .execute(
    | |         -^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/sql.rs:775:10
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
...
773 | /     context
774 | |         .sql
775 | |         .execute(
    | |         -^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/sql.rs:836:10
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct
...
834 | /     context
835 | |         .sql
836 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sql.rs:842:56
    |
842 |                     maybe_add_file(&mut files_in_use, &row?);
    |                                                        ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sql.rs:842:56
    |
842 |                     maybe_add_file(&mut files_in_use, &row?);
    |                                                        ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `ControlFlow`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sql.rs:842:59
    |
842 |                     maybe_add_file(&mut files_in_use, &row?);
    |                                                           ^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `Break`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `Break`
...
93  |     Break(B),
    |     ----- required by a bound in this variant

error[E0599]: no method named `query_map` found for reference `&Sql` in the current scope
   --> src/sql.rs:973:9
    |
973 |     sql.query_map(
    |     ----^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `execute` found for reference `&Sql` in the current scope
   --> src/sql.rs:996:9
    |
996 |     sql.execute(
    |     ----^^^^^^^ method not found in `&Sql`
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `table_exists` found for reference `&Sql` in the current scope
  --> src/sql/migrations.rs:25:10
   |
24 |       if !sql
   |  _________-
25 | |         .table_exists("config")
   | |         -^^^^^^^^^^^^ method not found in `&Sql`
   | |_________|
   | 

error[E0599]: no method named `transaction` found for reference `&Sql` in the current scope
  --> src/sql/migrations.rs:29:13
   |
29 |         sql.transaction(move |transaction| {
   |         ----^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `get_raw_config_int` found for reference `&Sql` in the current scope
  --> src/sql/migrations.rs:51:14
   |
50 |           dbversion_before_update = sql
   |  ___________________________________-
51 | |             .get_raw_config_int(VERSION_CFG)
   | |             -^^^^^^^^^^^^^^^^^^ method not found in `&Sql`
   | |_____________|
   | 

error[E0599]: no method named `set_raw_config_int` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:220:17
    |
220 |             sql.set_raw_config_int("show_emails", ShowEmails::All as i32)
    |                 ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `get_raw_config_int` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:273:40
    |
273 |         if exists_before_update && sql.get_raw_config_int("bcc_self").await?.is_none() {
    |                                        ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `set_raw_config_int` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:274:17
    |
274 |             sql.set_raw_config_int("bcc_self", 1).await?;
    |                 ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `get_raw_config_int` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:325:18
    |
324 |               if let Some(server_flags) = sql
    |  _________________________________________-
325 | |                 .get_raw_config_int(&format!("{prefix}server_flags"))
    | |                 -^^^^^^^^^^^^^^^^^^ method not found in `&Sql`
    | |_________________|
    | 

error[E0599]: no method named `set_raw_config_int` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:331:34
    |
331 |                     0x100 => sql.set_raw_config_int(key, 2).await?, // STARTTLS
    |                                  ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `set_raw_config_int` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:332:34
    |
332 |                     0x200 => sql.set_raw_config_int(key, 1).await?, // SSL/TLS
    |                                  ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `set_raw_config_int` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:333:34
    |
333 |                     0x400 => sql.set_raw_config_int(key, 3).await?, // Plain
    |                                  ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `set_raw_config_int` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:334:30
    |
334 |                     _ => sql.set_raw_config_int(key, 0).await?,
    |                              ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `set_raw_config_int` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:339:36
    |
339 |                     0x10000 => sql.set_raw_config_int(key, 2).await?, // STARTTLS
    |                                    ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `set_raw_config_int` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:340:36
    |
340 |                     0x20000 => sql.set_raw_config_int(key, 1).await?, // SSL/TLS
    |                                    ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `set_raw_config_int` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:341:36
    |
341 |                     0x40000 => sql.set_raw_config_int(key, 3).await?, // Plain
    |                                    ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `query_map` found for reference `&sql::Sql` in the current scope
   --> src/sql.rs:219:18
    |
218 |               let addrs = self
    |  _________________________-
219 | |                 .query_map(
    | |                 -^^^^^^^^^ method not found in `&sql::Sql`
    | |_________________|
    | 

error[E0599]: no method named `set_raw_config_int` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:342:30
    |
342 |                     _ => sql.set_raw_config_int(key, 0).await?,
    |                              ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `get_raw_config_u32` found for reference `&sql::Sql` in the current scope
   --> src/sql.rs:299:14
    |
298 |           if let Some(xdc_id) = self
    |  _______________________________-
299 | |             .get_raw_config_u32(Config::DebugLogging.as_ref())
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`
    | |_____________|
    | 

error[E0599]: no method named `col_exists` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:383:31
    |
383 |     if dbversion < 72 && !sql.col_exists("msgs", "mime_modified").await? {
    |                               ^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `execute` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:393:13
    |
393 |         sql.execute(
    |         ----^^^^^^^ method not found in `&Sql`
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
   --> src/sql.rs:746:10
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct
...
744 |       match context
    |  ___________-
745 | |         .sql
746 | |         .query_row_optional("PRAGMA incremental_vacuum", (), |_row| Ok(()))
    | |         -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/sql.rs:764:10
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
...
762 | /     context
763 | |         .sql
764 | |         .execute(
    | |         -^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config_int` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:691:40
    |
691 |         if exists_before_update && sql.get_raw_config_int("show_emails").await?.is_none() {
    |                                        ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/sql.rs:775:10
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
...
773 | /     context
774 | |         .sql
775 | |         .execute(
    | |         -^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config_int` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:692:17
    |
692 |             sql.set_raw_config_int("show_emails", ShowEmails::Off as i32)
    |                 ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/sql.rs:836:10
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct
...
834 | /     context
835 | |         .sql
836 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 

error[E0599]: no method named `transaction` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:843:13
    |
843 |         sql.transaction(move |trans| {
    |         ----^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `get_raw_config_int` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:936:10
    |
935 |       let new_version = sql
    |  _______________________-
936 | |         .get_raw_config_int(VERSION_CFG)
    | |         -^^^^^^^^^^^^^^^^^^ method not found in `&Sql`
    | |_________|
    | 

error[E0599]: no method named `set_raw_config_int` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:961:14
    |
961 |         self.set_raw_config_int(VERSION_CFG, version).await?;
    |              ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `transaction` found for reference `&Sql` in the current scope
   --> src/sql/migrations.rs:981:14
    |
981 |         self.transaction(move |transaction| {
    |         -----^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `query_map` found for reference `&sql::Sql` in the current scope
   --> src/sql.rs:973:9
    |
973 |     sql.query_map(
    |     ----^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `query_row_optional` found for struct `Sql` in the current scope
    --> src/chat.rs:2484:14
     |
2482 | /         context
2483 | |             .sql
2484 | |             .query_row_optional(
     | |             -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `get_raw_config` found for struct `Sql` in the current scope
   --> src/config.rs:419:41
    |
419 |                 let rel_path = self.sql.get_raw_config(key.as_ref()).await?;
    |                                         ^^^^^^^^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `execute` found for reference `&sql::Sql` in the current scope
   --> src/sql.rs:996:9
    |
996 |     sql.execute(
    |     ----^^^^^^^ method not found in `&sql::Sql`
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `table_exists` found for reference `&sql::Sql` in the current scope
  --> src/sql/migrations.rs:25:10
   |
24 |       if !sql
   |  _________-
25 | |         .table_exists("config")
   | |         -^^^^^^^^^^^^ method not found in `&sql::Sql`
   | |_________|
   | 

error[E0599]: no method named `get_raw_config` found for struct `Sql` in the current scope
   --> src/config.rs:429:27
    |
429 |             _ => self.sql.get_raw_config(key.as_ref()).await?,
    |                           ^^^^^^^^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `transaction` found for reference `&sql::Sql` in the current scope
  --> src/sql/migrations.rs:29:13
   |
29 |         sql.transaction(move |transaction| {
   |         ----^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `transaction` found for struct `Sql` in the current scope
    --> src/chat.rs:2544:14
     |
2542 |           let chat_id = context
     |  _______________________-
2543 | |             .sql
2544 | |             .transaction(move |transaction| {
     | |             -^^^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `get_raw_config_int` found for reference `&sql::Sql` in the current scope
  --> src/sql/migrations.rs:51:14
   |
50 |           dbversion_before_update = sql
   |  ___________________________________-
51 | |             .get_raw_config_int(VERSION_CFG)
   | |             -^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`
   | |_____________|
   | 

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/chat.rs:383:14
    |
381 |           let count = context
    |  _____________________-
382 | |             .sql
383 | |             .execute(
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `exists` found for struct `Sql` in the current scope
    --> src/contact.rs:1538:14
     |
1536 |           let exists = context
     |  ______________________-
1537 | |             .sql
1538 | |             .exists("SELECT COUNT(*) FROM contacts WHERE id=?;", (contact_id,))
     | |             -^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
1538 |             .dbfile.exists("SELECT COUNT(*) FROM contacts WHERE id=?;", (contact_id,))
     |              +++++++

error[E0599]: no method named `set_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:220:17
    |
220 |             sql.set_raw_config_int("show_emails", ShowEmails::All as i32)
    |                 ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/contact.rs:135:14
    |
133 | /         context
134 | |             .sql
135 | |             .execute(
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:273:40
    |
273 |         if exists_before_update && sql.get_raw_config_int("bcc_self").await?.is_none() {
    |                                        ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `insert` found for struct `Sql` in the current scope
   --> src/chat.rs:328:25
    |
328 |             context.sql.insert(
    |             ------------^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `insert` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `insert`, perhaps you need to implement one of them:
            candidate #1: `bitflags::traits::Flags`
            candidate #2: `ppv_lite86::types::Vec2`
            candidate #3: `ppv_lite86::types::Vec4`
            candidate #4: `toml_edit::table::TableLike`

error[E0599]: no method named `set_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:274:17
    |
274 |             sql.set_raw_config_int("bcc_self", 1).await?;
    |                 ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/chat.rs:364:14
    |
362 | /         context
363 | |             .sql
364 | |             .execute(
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:325:18
    |
324 |               if let Some(server_flags) = sql
    |  _________________________________________-
325 | |                 .get_raw_config_int(&format!("{prefix}server_flags"))
    | |                 -^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`
    | |_________________|
    | 

error[E0599]: no method named `set_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:331:34
    |
331 |                     0x100 => sql.set_raw_config_int(key, 2).await?, // STARTTLS
    |                                  ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `query_row` found for struct `Sql` in the current scope
    --> src/chat.rs:1518:14
     |
1516 |           let mut chat = context
     |  ________________________-
1517 | |             .sql
1518 | |             .query_row(
     | |             -^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_row` not found for this struct

error[E0599]: no method named `set_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:332:34
    |
332 |                     0x200 => sql.set_raw_config_int(key, 1).await?, // SSL/TLS
    |                                  ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/chat.rs:3463:10
     |
3461 |       let list = context
     |  ________________-
3462 | |         .sql
3463 | |         .query_map(
     | |         -^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `set_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:333:34
    |
333 |                     0x400 => sql.set_raw_config_int(key, 3).await?, // Plain
    |                                  ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `set_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:334:30
    |
334 |                     _ => sql.set_raw_config_int(key, 0).await?,
    |                              ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/contact.rs:1560:14
     |
1558 | /         context
1559 | |             .sql
1560 | |             .execute(
     | |             -^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:339:36
    |
339 |                     0x10000 => sql.set_raw_config_int(key, 2).await?, // STARTTLS
    |                                    ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `set_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:340:36
    |
340 |                     0x20000 => sql.set_raw_config_int(key, 1).await?, // SSL/TLS
    |                                    ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/contact.rs:1573:14
     |
1571 |           if context
     |  ____________-
1572 | |             .sql
1573 | |             .execute(
     | |             -^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:341:36
    |
341 |                     0x40000 => sql.set_raw_config_int(key, 3).await?, // Plain
    |                                    ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `query_row_optional` found for struct `Sql` in the current scope
   --> src/contact.rs:515:14
    |
513 |           if let Some(mut contact) = context
    |  ____________________________________-
514 | |             .sql
515 | |             .query_row_optional(
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `set_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:342:30
    |
342 |                     _ => sql.set_raw_config_int(key, 0).await?,
    |                              ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `col_exists` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:383:31
    |
383 |     if dbversion < 72 && !sql.col_exists("msgs", "mime_modified").await? {
    |                               ^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `query_row_optional` found for reference `&Sql` in the current scope
    --> src/chat.rs:1224:13
     |
1224 |         sql.query_row_optional(&query, (self,), f).await
     |             ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/sync.rs:114:14
    |
113 | /         self.sql
114 | |             .execute("INSERT INTO multi_device_sync (item) VALUES(?);", (item,))
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:393:13
    |
393 |         sql.execute(
    |         ----^^^^^^^ method not found in `&sql::Sql`
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/sync.rs:199:14
    |
197 |           let (ids, serialized) = self
    |  _________________________________-
198 | |             .sql
199 | |             .query_map(
    | |             -^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sync.rs:207:34
    |
207 |                         let (id, item) = row?;
    |                                  ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sync.rs:207:42
    |
207 |                         let (id, item) = row?;
    |                                          ^^^^ doesn't have a size known at compile-time
    |
    = help: within `(_, str)`, the trait `Sized` is not implemented for `str`, which is required by `(_, _): Sized`
    = note: required because it appears within the type `(_, str)`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/sync.rs:207:42
    |
207 |                         let (id, item) = row?;
    |                                          ^^^^ doesn't have a size known at compile-time
    |
    = help: within `(_, str)`, the trait `Sized` is not implemented for `str`, which is required by `(_, _): Sized`
    = note: required because it appears within the type `(_, str)`
note: required by a bound in `ControlFlow`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0599]: no method named `query_row_optional` found for struct `Sql` in the current scope
   --> src/message.rs:497:14
    |
495 |           let msg = context
    |  ___________________-
496 | |             .sql
497 | |             .query_row_optional(
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `get_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:691:40
    |
691 |         if exists_before_update && sql.get_raw_config_int("show_emails").await?.is_none() {
    |                                        ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/message.rs:552:40
    |
552 | ...                   .and_then(|in_reply_to| parse_message_id(&in_reply_to).ok()),
    |                                  ^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all function arguments must have a statically known size

error[E0599]: no method named `set_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:692:17
    |
692 |             sql.set_raw_config_int("show_emails", ShowEmails::Off as i32)
    |                 ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `exists` found for struct `Sql` in the current scope
    --> src/chat.rs:2776:10
     |
2774 |       let exists = context
     |  __________________-
2775 | |         .sql
2776 | |         .exists(
     | |         -^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
2776 |         .dbfile.exists(
     |          +++++++

error[E0599]: no method named `query_row_optional` found for struct `Sql` in the current scope
    --> src/chat.rs:1648:14
     |
1646 |           let Some((param, ts_sort, ts_start)) = context
     |  ________________________________________________-
1647 | |             .sql
1648 | |             .query_row_optional(
     | |             -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `transaction` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:843:13
    |
843 |         sql.transaction(move |trans| {
    |         ----^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `query_row_optional` found for struct `Sql` in the current scope
    --> src/message.rs:1897:10
     |
1895 |       let res = context
     |  _______________-
1896 | |         .sql
1897 | |         .query_row_optional(
     | |         -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `get_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:936:10
    |
935 |       let new_version = sql
    |  _______________________-
936 | |         .get_raw_config_int(VERSION_CFG)
    | |         -^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`
    | |_________|
    | 

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/message.rs:1209:14
     |
1207 | /         context
1208 | |             .sql
1209 | |             .execute(
     | |             -^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:961:14
    |
961 |         self.set_raw_config_int(VERSION_CFG, version).await?;
    |              ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/chat.rs:714:18
    |
712 | /             context
713 | |                 .sql
714 | |                 .execute(
    | |                 -^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: `Sql` is not an iterator
   --> src/chat.rs:729:18
    |
727 |               let unread_cnt = context
    |  ______________________________-
728 | |                 .sql
729 | |                 .count(
    | |                 -^^^^^ `Sql` is not an iterator
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `count` not found for this struct because it doesn't satisfy `Sql: Iterator`
    |
    = note: the following trait bounds were not satisfied:
            `Sql: Iterator`
            which is required by `&mut Sql: Iterator`
note: the trait `Iterator` must be implemented
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
    |
75  | pub trait Iterator {
    | ^^^^^^^^^^^^^^^^^^
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following trait defines an item `count`, perhaps you need to implement it:
            candidate #1: `Iterator`

error[E0599]: no method named `transaction` found for reference `&sql::Sql` in the current scope
   --> src/sql/migrations.rs:981:14
    |
981 |         self.transaction(move |transaction| {
    |         -----^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/chat.rs:746:14
    |
744 | /         context
745 | |             .sql
746 | |             .execute("UPDATE chats SET archived=0 WHERE id=?", (self,))
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:2484:14
     |
2482 | /         context
2483 | |             .sql
2484 | |             .query_row_optional(
     | |             -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `get_raw_config` found for struct `sql::Sql` in the current scope
   --> src/config.rs:419:41
    |
419 |                 let rel_path = self.sql.get_raw_config(key.as_ref()).await?;
    |                                         ^^^^^^^^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
    --> src/chat.rs:1902:18
     |
1900 |               if let Some(id) = context
     |  _______________________________-
1901 | |                 .sql
1902 | |                 .query_get_value(
     | |                 -^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `get_raw_config` found for struct `sql::Sql` in the current scope
   --> src/config.rs:429:27
    |
429 |             _ => self.sql.get_raw_config(key.as_ref()).await?,
    |                           ^^^^^^^^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `insert` found for struct `Sql` in the current scope
    --> src/chat.rs:2011:18
     |
2009 |               if let Ok(row_id) = context
     |  _________________________________-
2010 | |                 .sql
2011 | |                 .insert(
     | |                 -^^^^^^ method not found in `Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `insert` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `insert`, perhaps you need to implement one of them:
             candidate #1: `bitflags::traits::Flags`
             candidate #2: `ppv_lite86::types::Vec2`
             candidate #3: `ppv_lite86::types::Vec4`
             candidate #4: `toml_edit::table::TableLike`

error[E0599]: no method named `get_raw_config_int` found for struct `sql::Sql` in the current scope
   --> src/imap.rs:483:14
    |
481 |           let folders_configured = context
    |  __________________________________-
482 | |             .sql
483 | |             .get_raw_config_int(constants::DC_FOLDERS_CONFIGURED_KEY)
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `get_raw_config_int` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/chat.rs:2064:18
     |
2062 | /             context
2063 | |                 .sql
2064 | |                 .execute(
     | |                 -^^^^^^^ method not found in `Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/config.rs:609:22
    |
608 | /                 self.sql
609 | |                     .execute("UPDATE contacts SET selfavatar_sent=0;", ())
    | |                     -^^^^^^^ method not found in `sql::Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `insert` found for struct `Sql` in the current scope
    --> src/chat.rs:2099:18
     |
2097 |               let raw_id = context
     |  __________________________-
2098 | |                 .sql
2099 | |                 .insert(
     | |                 -^^^^^^ method not found in `Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `insert` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `insert`, perhaps you need to implement one of them:
             candidate #1: `bitflags::traits::Flags`
             candidate #2: `ppv_lite86::types::Vec2`
             candidate #3: `ppv_lite86::types::Vec4`
             candidate #4: `toml_edit::table::TableLike`

error[E0599]: no method named `set_raw_config` found for struct `sql::Sql` in the current scope
   --> src/config.rs:616:30
    |
615 | /                         self.sql
616 | |                             .set_raw_config(key.as_ref(), Some(blob.as_name()))
    | |                             -^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `set_raw_config` found for struct `sql::Sql` in the current scope
   --> src/config.rs:625:34
    |
625 |                         self.sql.set_raw_config(key.as_ref(), None).await?;
    |                                  ^^^^^^^^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/message.rs:1724:10
     |
1722 | /     context
1723 | |         .sql
1724 | |         .execute(
     | |         -^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `transaction` found for struct `Sql` in the current scope
    --> src/chat.rs:3017:17
     |
3017 |     context.sql.transaction(trans_fn).await
     |                 ^^^^^^^^^^^ method not found in `Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `transaction` not found for this struct

error[E0599]: no method named `set_raw_config` found for struct `sql::Sql` in the current scope
   --> src/config.rs:635:36
    |
635 |                 let ret = self.sql.set_raw_config(key.as_ref(), value).await;
    |                                    ^^^^^^^^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/chat.rs:772:14
    |
770 | /         context
771 | |             .sql
772 | |             .execute(
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config` found for struct `sql::Sql` in the current scope
   --> src/config.rs:645:26
    |
645 |                 self.sql.set_raw_config(key.as_ref(), value).await?;
    |                          ^^^^^^^^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/chat.rs:780:14
    |
778 | /         context
779 | |             .sql
780 | |             .execute("DELETE FROM msgs WHERE chat_id=?;", (self,))
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/chat.rs:785:14
    |
783 | /         context
784 | |             .sql
785 | |             .execute("DELETE FROM chats_contacts WHERE chat_id=?;", (self,))
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config` found for struct `sql::Sql` in the current scope
   --> src/config.rs:649:22
    |
648 | /                 self.sql
649 | |                     .set_raw_config(key.as_ref(), value.map(|s| s.to_lowercase()).as_deref())
    | |                     -^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/chat.rs:790:14
    |
788 | /         context
789 | |             .sql
790 | |             .execute("DELETE FROM chats WHERE id=?;", (self,))
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/chat.rs:543:14
    |
541 | /         context
542 | |             .sql
543 | |             .execute("UPDATE chats SET protected=? WHERE id=?;", (protect, self))
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `insert` found for struct `Sql` in the current scope
    --> src/chat.rs:4464:17
     |
4464 |     context.sql.insert(
     |     ------------^^^^^^ method not found in `Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `insert` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `insert`, perhaps you need to implement one of them:
             candidate #1: `bitflags::traits::Flags`
             candidate #2: `ppv_lite86::types::Vec2`
             candidate #3: `ppv_lite86::types::Vec4`
             candidate #4: `toml_edit::table::TableLike`

error[E0599]: no method named `set_raw_config` found for struct `sql::Sql` in the current scope
   --> src/config.rs:653:26
    |
653 |                 self.sql.set_raw_config(key.as_ref(), value).await?;
    |                          ^^^^^^^^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
    --> src/chat.rs:1387:18
     |
1385 | /             context
1386 | |                 .sql
1387 | |                 .query_get_value(
     | |                 -^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
    --> src/chat.rs:1403:18
     |
1401 | /             context
1402 | |                 .sql
1403 | |                 .query_get_value(
     | |                 -^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `transaction` found for struct `Sql` in the current scope
   --> src/chat.rs:670:14
    |
668 | /         context
669 | |             .sql
670 | |             .transaction(move |transaction| {
    | |             -^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `set_raw_config` found for struct `sql::Sql` in the current scope
   --> src/config.rs:655:22
    |
654 | /                 self.sql
655 | |                     .set_raw_config(constants::DC_FOLDERS_CONFIGURED_KEY, None)
    | |                     -^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/chat.rs:845:14
    |
843 |           let msg_id: Option<MsgId> = context
    |  _____________________________________-
844 | |             .sql
845 | |             .query_get_value(
    | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `transaction` found for struct `Sql` in the current scope
   --> src/message.rs:133:14
    |
131 | /         context
132 | |             .sql
133 | |             .transaction(move |transaction| {
    | |             -^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `set_raw_config` found for struct `sql::Sql` in the current scope
   --> src/config.rs:659:26
    |
659 |                 self.sql.set_raw_config(key.as_ref(), value).await?;
    |                          ^^^^^^^^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/chat.rs:917:26
    |
915 | /                     context
916 | |                         .sql
917 | |                         .execute(
    | |                         -^^^^^^^ method not found in `Sql`
    | |_________________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `insert` found for struct `Sql` in the current scope
   --> src/chat.rs:940:14
    |
938 |           let row_id = context
    |  ______________________-
939 | |             .sql
940 | |             .insert(
    | |             -^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `insert` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `insert`, perhaps you need to implement one of them:
            candidate #1: `bitflags::traits::Flags`
            candidate #2: `ppv_lite86::types::Vec2`
            candidate #3: `ppv_lite86::types::Vec4`
            candidate #4: `toml_edit::table::TableLike`

error[E0599]: `Sql` is not an iterator
   --> src/chat.rs:973:14
    |
971 |           let count = context
    |  _____________________-
972 | |             .sql
973 | |             .count(
    | |             -^^^^^ `Sql` is not an iterator
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `count` not found for this struct because it doesn't satisfy `Sql: Iterator`
    |
    = note: the following trait bounds were not satisfied:
            `Sql: Iterator`
            which is required by `&mut Sql: Iterator`
note: the trait `Iterator` must be implemented
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
    |
75  | pub trait Iterator {
    | ^^^^^^^^^^^^^^^^^^
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following trait defines an item `count`, perhaps you need to implement it:
            candidate #1: `Iterator`

error[E0599]: `Sql` is not an iterator
   --> src/chat.rs:996:18
    |
994 | /             context
995 | |                 .sql
996 | |                 .count(
    | |                 -^^^^^ `Sql` is not an iterator
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `count` not found for this struct because it doesn't satisfy `Sql: Iterator`
    |
    = note: the following trait bounds were not satisfied:
            `Sql: Iterator`
            which is required by `&mut Sql: Iterator`
note: the trait `Iterator` must be implemented
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
    |
75  | pub trait Iterator {
    | ^^^^^^^^^^^^^^^^^^
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following trait defines an item `count`, perhaps you need to implement it:
            candidate #1: `Iterator`

error[E0599]: `Sql` is not an iterator
    --> src/chat.rs:1012:18
     |
1010 | /             context
1011 | |                 .sql
1012 | |                 .count(
     | |                 -^^^^^ `Sql` is not an iterator
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `Sql: Iterator`
             which is required by `&mut Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:4325:14
     |
4323 |           if let Some(last_msg_time) = context
     |  ______________________________________-
4324 | |             .sql
4325 | |             .query_get_value(
     | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
    --> src/chat.rs:1029:14
     |
1027 |           let timestamp = context
     |  _________________________-
1028 | |             .sql
1029 | |             .query_get_value("SELECT MAX(timestamp) FROM msgs WHERE chat_id=?", (self,))
     | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/chat.rs:1043:14
     |
1041 |           let intersection: Vec<(ChatId, f64)> = context
     |  ________________________________________________-
1042 | |             .sql
1043 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/chat.rs:1069:14
     |
1067 |           let chat_size: HashMap<ChatId, f64> = context
     |  _______________________________________________-
1068 | |             .sql
1069 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `insert` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:4339:14
     |
4337 |           let row_id = context
     |  ______________________-
4338 | |             .sql
4339 | |             .insert(
     | |             -^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `insert` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `insert`, perhaps you need to implement one of them:
             candidate #1: `bitflags::traits::Flags`
             candidate #2: `ppv_lite86::types::Vec2`
             candidate #3: `ppv_lite86::types::Vec4`
             candidate #4: `toml_edit::table::TableLike`

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/chatlist.rs:314:18
    |
312 |               let msg_id: Option<MsgId> = context
    |  _________________________________________-
313 | |                 .sql
314 | |                 .query_get_value(
    | |                 -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:4378:14
     |
4376 | /         context
4377 | |             .sql
4378 | |             .execute("INSERT INTO devmsglabels (label) VALUES (?);", (label,))
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
    --> src/chat.rs:1157:14
     |
1155 |           let res: Option<String> = context
     |  ___________________________________-
1156 | |             .sql
1157 | |             .query_get_value("SELECT param FROM chats WHERE id=?", (self,))
     | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_row_optional` found for struct `Sql` in the current scope
   --> src/peerstate.rs:242:14
    |
240 |           let peerstate = context
    |  _________________________-
241 | |             .sql
242 | |             .query_row_optional(query, params, |row| {
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `transaction` found for struct `sql::Sql` in the current scope
   --> src/imap.rs:880:14
    |
878 | /         context
879 | |             .sql
880 | |             .transaction(move |transaction| {
    | |             -^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/chat.rs:1344:14
     |
1342 | /         context
1343 | |             .sql
1344 | |             .execute(
     | |             -^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/imap/select_folder.rs:236:14
    |
234 | /         context
235 | |             .sql
236 | |             .execute(
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `transaction` found for struct `sql::Sql` in the current scope
   --> src/contact.rs:802:34
    |
802 |         let row_id = context.sql.transaction(|transaction| {
    |                      ------------^^^^^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `transaction` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
    --> src/chat.rs:1323:14
     |
1321 |           let timestamp: Option<i64> = context
     |  ______________________________________-
1322 | |             .sql
1323 | |             .query_get_value("SELECT gossiped_timestamp FROM chats WHERE id=?;", (self,))
     | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
    --> src/chat.rs:1357:14
     |
1355 |           let protection_status = context
     |  _________________________________-
1356 | |             .sql
1357 | |             .query_get_value("SELECT protected FROM chats WHERE id=?", (self,))
     | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
   --> src/imap.rs:618:22
    |
616 |                   } else if context
    |  ___________________________-
617 | |                     .sql
618 | |                     .exists(
    | |                     -^^^^^^ method not found in `sql::Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `exists` not found for this struct
    |
help: one of the expressions' fields has a method of the same name
    |
618 |                     .dbfile.exists(
    |                      +++++++

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/chat.rs:1706:14
     |
1704 | /         context
1705 | |             .sql
1706 | |             .execute(
     | |             -^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/imap.rs:650:18
    |
648 | /             context
649 | |                 .sql
650 | |                 .execute(
    | |                 -^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config` found for struct `Sql` in the current scope
    --> src/chat.rs:2382:37
     |
2382 |     if let Some(icon) = context.sql.get_raw_config("icon-archive").await? {
     |                                     ^^^^^^^^^^^^^^ method not found in `Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `set_raw_config` found for struct `Sql` in the current scope
    --> src/chat.rs:2391:10
     |
2389 | /     context
2390 | |         .sql
2391 | |         .set_raw_config("icon-archive", Some(&icon))
     | |         -^^^^^^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/scheduler.rs:344:10
    |
342 |       let msg_ids = context
    |  ___________________-
343 | |         .sql
344 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `get_raw_config` found for struct `Sql` in the current scope
    --> src/chat.rs:2367:37
     |
2367 |     if let Some(icon) = context.sql.get_raw_config("icon-broadcast").await? {
     |                                     ^^^^^^^^^^^^^^ method not found in `Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `set_raw_config` found for struct `Sql` in the current scope
    --> src/chat.rs:2376:10
     |
2374 | /     context
2375 | |         .sql
2376 | |         .set_raw_config("icon-broadcast", Some(&icon))
     | |         -^^^^^^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/scheduler.rs:375:14
    |
373 | /         context
374 | |             .sql
375 | |             .execute("DELETE FROM download WHERE msg_id=?", (msg_id,))
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/ephemeral.rs:179:14
    |
177 |           let timer = context
    |  _____________________-
178 | |             .sql
179 | |             .query_get_value("SELECT ephemeral_timer FROM chats WHERE id=?;", (self,))
    | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/chat.rs:2157:14
     |
2155 |           let addrs = context
     |  _____________________-
2156 | |             .sql
2157 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/imap.rs:1074:14
     |
1072 |           let rows = context
     |  ____________________-
1073 | |             .sql
1074 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/contact.rs:1284:14
     |
1282 | /         context
1283 | |             .sql
1284 | |             .execute(
     | |             -^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/imap.rs:1109:22
     |
1107 | /                 context
1108 | |                     .sql
1109 | |                     .execute(
     | |                     -^^^^^^^ method not found in `sql::Sql`
     | |_____________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/imap.rs:1021:14
     |
1019 |           let rows = context
     |  ____________________-
1020 | |             .sql
1021 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/chat.rs:2407:14
     |
2405 | /         context
2406 | |             .sql
2407 | |             .execute(
     | |             -^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_row_optional` found for reference `&Sql` in the current scope
   --> src/securejoin/bobstate.rs:173:13
    |
173 |         sql.query_row_optional(
    |         ----^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/ephemeral.rs:637:10
    |
635 | /     context
636 | |         .sql
637 | |         .execute(
    | |         -^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/smtp.rs:536:10
    |
534 | /     context
535 | |         .sql
536 | |         .execute("UPDATE smtp SET retries=retries+1 WHERE id=?", (rowid,))
    | |         -^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_row` found for struct `Sql` in the current scope
   --> src/smtp.rs:542:10
    |
540 |       let (body, recipients, msg_id, retries) = context
    |  _______________________________________________-
541 | |         .sql
542 | |         .query_row(
    | |         -^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/smtp.rs:559:14
    |
557 | /         context
558 | |             .sql
559 | |             .execute("DELETE FROM smtp WHERE id=?", (rowid,))
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
    --> src/imap.rs:2267:10
     |
2265 |       Ok(context
     |  ________-
2266 | |         .sql
2267 | |         .query_get_value(
     | |         -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/smtp.rs:589:18
    |
587 | /             context
588 | |                 .sql
589 | |                 .execute("DELETE FROM smtp WHERE id=?", (rowid,))
    | |                 -^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_row_optional` found for struct `Sql` in the current scope
   --> src/smtp.rs:596:22
    |
594 |                   let res = context
    |  ___________________________-
595 | |                     .sql
596 | |                     .query_row_optional(
    | |                     -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
    --> src/imap.rs:2290:10
     |
2288 |       Ok(context
     |  ________-
2289 | |         .sql
2290 | |         .query_get_value("SELECT modseq FROM imap_sync WHERE folder=?;", (folder,))
     | |         -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/smtp.rs:628:18
    |
626 | /             context
627 | |                 .sql
628 | |                 .execute("DELETE FROM smtp WHERE id=?", (rowid,))
    | |                 -^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
    --> src/imap.rs:2152:10
     |
2150 |       if let Some((msg_id, chat_id)) = context
     |  ______________________________________-
2151 | |         .sql
2152 | |         .query_row_optional(
     | |         -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `exists` found for struct `Sql` in the current scope
   --> src/smtp.rs:638:18
    |
636 |               if !context
    |  _________________-
637 | |                 .sql
638 | |                 .exists("SELECT COUNT(*) FROM smtp WHERE msg_id=?", (msg_id,))
    | |                 -^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `exists` not found for this struct
    |
help: one of the expressions' fields has a method of the same name
    |
638 |                 .dbfile.exists("SELECT COUNT(*) FROM smtp WHERE msg_id=?", (msg_id,))
    |                  +++++++

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/chat.rs:3168:14
     |
3166 | /         context
3167 | |             .sql
3168 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/imap.rs:2173:14
     |
2171 |           let updated = context
     |  _______________________-
2172 | |             .sql
2173 | |             .execute(
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/chat.rs:3187:14
     |
3185 | /         context
3186 | |             .sql
3187 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/chat.rs:3222:14
     |
3220 |           let chat_ids_in_archive = context
     |  ___________________________________-
3221 | |             .sql
3222 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/imap.rs:2278:10
     |
2276 | /     context
2277 | |         .sql
2278 | |         .execute(
     | |         -^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/chat.rs:3237:14
     |
3235 | /         context
3236 | |             .sql
3237 | |             .execute(
     | |             -^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/smtp.rs:681:10
    |
679 |       let rowids = context
    |  __________________-
680 | |         .sql
681 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `exists` found for struct `Sql` in the current scope
    --> src/chat.rs:3253:14
     |
3251 |           let exists = context
     |  ______________________-
3252 | |             .sql
3253 | |             .exists(
     | |             -^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
3253 |             .dbfile.exists(
     |              +++++++

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/chat.rs:3264:14
     |
3262 | /         context
3263 | |             .sql
3264 | |             .execute(
     | |             -^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `transaction` found for struct `sql::Sql` in the current scope
   --> src/key.rs:308:10
    |
306 |       let new_key_id = context
    |  ______________________-
307 | |         .sql
308 | |         .transaction(|transaction| {
    | |         -^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `transaction` found for struct `Sql` in the current scope
    --> src/chat.rs:3310:10
     |
3308 |       let changed_chats = context
     |  _________________________-
3309 | |         .sql
3310 | |         .transaction(|transaction| {
     | |         -^^^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/chat.rs:3366:10
     |
3364 |       let list = context
     |  ________________-
3365 | |         .sql
3366 | |         .query_map(
     | |         -^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
   --> src/contact.rs:515:14
    |
513 |           if let Some(mut contact) = context
    |  ____________________________________-
514 | |             .sql
515 | |             .query_row_optional(
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `insert` found for struct `Sql` in the current scope
    --> src/chat.rs:3493:10
     |
3491 |       let row_id = context
     |  __________________-
3492 | |         .sql
3493 | |         .insert(
     | |         -^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `insert` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `insert`, perhaps you need to implement one of them:
             candidate #1: `bitflags::traits::Flags`
             candidate #2: `ppv_lite86::types::Vec2`
             candidate #3: `ppv_lite86::types::Vec4`
             candidate #4: `toml_edit::table::TableLike`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/chat.rs:383:14
    |
381 |           let count = context
    |  _____________________-
382 | |             .sql
383 | |             .execute(
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `exists` found for struct `Sql` in the current scope
    --> src/chat.rs:3537:14
     |
3535 |           if !context
     |  _____________-
3536 | |             .sql
3537 | |             .exists(
     | |             -^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
3537 |             .dbfile.exists(
     |              +++++++

error[E0599]: no method named `transaction` found for struct `Sql` in the current scope
    --> src/chat.rs:3591:21
     |
3591 |         context.sql.transaction(trans_fn).await?
     |                     ^^^^^^^^^^^ method not found in `Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `transaction` not found for this struct

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
    --> src/contact.rs:1538:14
     |
1536 |           let exists = context
     |  ______________________-
1537 | |             .sql
1538 | |             .exists("SELECT COUNT(*) FROM contacts WHERE id=?;", (contact_id,))
     | |             -^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
1538 |             .dbfile.exists("SELECT COUNT(*) FROM contacts WHERE id=?;", (contact_id,))
     |              +++++++

error[E0599]: no method named `transaction` found for struct `Sql` in the current scope
    --> src/chat.rs:3615:10
     |
3613 | /     context
3614 | |         .sql
3615 | |         .transaction(move |transaction| {
     | |         -^^^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `transaction` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:2544:14
     |
2542 |           let chat_id = context
     |  _______________________-
2543 | |             .sql
2544 | |             .transaction(move |transaction| {
     | |             -^^^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `transaction` found for struct `Sql` in the current scope
    --> src/chat.rs:3637:10
     |
3635 | /     context
3636 | |         .sql
3637 | |         .transaction(move |transaction| {
     | |         -^^^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/chat.rs:3659:10
     |
3657 | /     context
3658 | |         .sql
3659 | |         .execute(
     | |         -^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/contact.rs:135:14
    |
133 | /         context
134 | |             .sql
135 | |             .execute(
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
  --> src/token.rs:72:18
   |
70 | /             context
71 | |                 .sql
72 | |                 .query_get_value(
   | |                 -^^^^^^^^^^^^^^^ method not found in `Sql`
   | |_________________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
  --> src/token.rs:82:18
   |
80 | /             context
81 | |                 .sql
82 | |                 .query_get_value(
   | |                 -^^^^^^^^^^^^^^^ method not found in `Sql`
   | |_________________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/contact.rs:716:14
    |
714 |           let id = context
    |  __________________-
715 | |             .sql
716 | |             .query_get_value(
    | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_row` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:1518:14
     |
1516 |           let mut chat = context
     |  ________________________-
1517 | |             .sql
1518 | |             .query_row(
     | |             -^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_row` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/chat.rs:3782:10
     |
3780 |       let needs_attach = context
     |  ________________________-
3781 | |         .sql
3782 | |         .query_map(
     | |         -^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
   --> src/message.rs:497:14
    |
495 |           let msg = context
    |  ___________________-
496 | |             .sql
497 | |             .query_row_optional(
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/chat.rs:3867:10
     |
3865 | /     context
3866 | |         .sql
3867 | |         .execute(
     | |         -^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/chat.rs:3964:14
     |
3962 | /         context
3963 | |             .sql
3964 | |             .execute("INSERT INTO leftgrps (grpid) VALUES(?);", (grpid,))
     | |             -^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:2776:10
     |
2774 |       let exists = context
     |  __________________-
2775 | |         .sql
2776 | |         .exists(
     | |         -^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
2776 |         .dbfile.exists(
     |          +++++++

error[E0599]: no method named `exists` found for struct `Sql` in the current scope
    --> src/chat.rs:3974:10
     |
3972 |       let exists = context
     |  __________________-
3973 | |         .sql
3974 | |         .exists("SELECT COUNT(*) FROM leftgrps WHERE grpid=?;", (grpid,))
     | |         -^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
3974 |         .dbfile.exists("SELECT COUNT(*) FROM leftgrps WHERE grpid=?;", (grpid,))
     |          +++++++

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:1648:14
     |
1646 |           let Some((param, ts_sort, ts_start)) = context
     |  ________________________________________________-
1647 | |             .sql
1648 | |             .query_row_optional(
     | |             -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/chat.rs:4013:18
     |
4011 | /             context
4012 | |                 .sql
4013 | |                 .execute(
     | |                 -^^^^^^^ method not found in `Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/chat.rs:4119:10
     |
4117 |       let ids = context
     |  _______________-
4118 | |         .sql
4119 | |         .query_map(
     | |         -^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: `Sql` is not an iterator
    --> src/chat.rs:4257:14
     |
4255 |           let count = context
     |  _____________________-
4256 | |             .sql
4257 | |             .count("SELECT COUNT(*) FROM chats WHERE id>9 AND blocked=0;", ())
     | |             -^^^^^ `Sql` is not an iterator
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `Sql: Iterator`
             which is required by `&mut Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
    --> src/message.rs:1897:10
     |
1895 |       let res = context
     |  _______________-
1896 | |         .sql
1897 | |         .query_row_optional(
     | |         -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `query_row_optional` found for struct `Sql` in the current scope
    --> src/chat.rs:4272:10
     |
4270 | /     context
4271 | |         .sql
4272 | |         .query_row_optional(
     | |         -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/message.rs:1209:14
     |
1207 | /         context
1208 | |             .sql
1209 | |             .execute(
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
    --> src/chat.rs:4325:14
     |
4323 |           if let Some(last_msg_time) = context
     |  ______________________________________-
4324 | |             .sql
4325 | |             .query_get_value(
     | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/chat.rs:714:18
    |
712 | /             context
713 | |                 .sql
714 | |                 .execute(
    | |                 -^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `insert` found for struct `Sql` in the current scope
    --> src/chat.rs:4339:14
     |
4337 |           let row_id = context
     |  ______________________-
4338 | |             .sql
4339 | |             .insert(
     | |             -^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `insert` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `insert`, perhaps you need to implement one of them:
             candidate #1: `bitflags::traits::Flags`
             candidate #2: `ppv_lite86::types::Vec2`
             candidate #3: `ppv_lite86::types::Vec4`
             candidate #4: `toml_edit::table::TableLike`

error[E0599]: `sql::Sql` is not an iterator
   --> src/chat.rs:729:18
    |
727 |               let unread_cnt = context
    |  ______________________________-
728 | |                 .sql
729 | |                 .count(
    | |                 -^^^^^ `sql::Sql` is not an iterator
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
    |
    = note: the following trait bounds were not satisfied:
            `sql::Sql: Iterator`
            which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
    |
75  | pub trait Iterator {
    | ^^^^^^^^^^^^^^^^^^
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following trait defines an item `count`, perhaps you need to implement it:
            candidate #1: `Iterator`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/chat.rs:4378:14
     |
4376 | /         context
4377 | |             .sql
4378 | |             .execute("INSERT INTO devmsglabels (label) VALUES (?);", (label,))
     | |             -^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `exists` found for struct `Sql` in the current scope
    --> src/chat.rs:4403:10
     |
4401 |       let exists = context
     |  __________________-
4402 | |         .sql
4403 | |         .exists(
     | |         -^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
4403 |         .dbfile.exists(
     |          +++++++

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/chat.rs:4422:10
     |
4420 | /     context
4421 | |         .sql
4422 | |         .execute("DELETE FROM msgs WHERE from_id=?;", (ContactId::DEVICE,))
     | |         -^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/chat.rs:746:14
    |
744 | /         context
745 | |             .sql
746 | |             .execute("UPDATE chats SET archived=0 WHERE id=?", (self,))
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/chat.rs:4424:17
     |
4424 |     context.sql.execute("DELETE FROM devmsglabels;", ()).await?;
     |                 ^^^^^^^ method not found in `Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:1902:18
     |
1900 |               if let Some(id) = context
     |  _______________________________-
1901 | |                 .sql
1902 | |                 .query_get_value(
     | |                 -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/chat.rs:4429:10
     |
4427 | /     context
4428 | |         .sql
4429 | |         .execute(
     | |         -^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/chat.rs:4520:10
     |
4518 | /     context
4519 | |         .sql
4520 | |         .execute(
     | |         -^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `transaction` found for struct `Sql` in the current scope
   --> src/contact.rs:802:34
    |
802 |         let row_id = context.sql.transaction(|transaction| {
    |                      ------------^^^^^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `transaction` not found for this struct

error[E0599]: no method named `insert` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:2011:18
     |
2009 |               if let Ok(row_id) = context
     |  _________________________________-
2010 | |                 .sql
2011 | |                 .insert(
     | |                 -^^^^^^ method not found in `sql::Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `insert` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `insert`, perhaps you need to implement one of them:
             candidate #1: `bitflags::traits::Flags`
             candidate #2: `ppv_lite86::types::Vec2`
             candidate #3: `ppv_lite86::types::Vec4`
             candidate #4: `toml_edit::table::TableLike`

error[E0599]: no method named `query_row` found for struct `Sql` in the current scope
   --> src/contact.rs:592:14
    |
590 |           let blocked = context
    |  _______________________-
591 | |             .sql
592 | |             .query_row("SELECT blocked FROM contacts WHERE id=?", (id,), |row| {
    | |             -^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:2064:18
     |
2062 | /             context
2063 | |                 .sql
2064 | |                 .execute(
     | |                 -^^^^^^^ method not found in `sql::Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/chatlist.rs:132:25
    |
132 |             context.sql.query_map(
    |             ------------^^^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `query_map` not found for this struct

error[E0599]: no method named `insert` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:2099:18
     |
2097 |               let raw_id = context
     |  __________________________-
2098 | |                 .sql
2099 | |                 .insert(
     | |                 -^^^^^^ method not found in `sql::Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `insert` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `insert`, perhaps you need to implement one of them:
             candidate #1: `bitflags::traits::Flags`
             candidate #2: `ppv_lite86::types::Vec2`
             candidate #3: `ppv_lite86::types::Vec4`
             candidate #4: `toml_edit::table::TableLike`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/chatlist.rs:159:18
    |
157 | /             context
158 | |                 .sql
159 | |                 .query_map(
    | |                 -^^^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/chatlist.rs:195:18
    |
193 | /             context
194 | |                 .sql
195 | |                 .query_map(
    | |                 -^^^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/message.rs:1724:10
     |
1722 | /     context
1723 | |         .sql
1724 | |         .execute(
     | |         -^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/chatlist.rs:248:29
    |
248 |                 context.sql.query_map(
    |                 ------------^^^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `query_map` not found for this struct

error[E0599]: no method named `transaction` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3017:17
     |
3017 |     context.sql.transaction(trans_fn).await
     |                 ^^^^^^^^^^^ method not found in `sql::Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `transaction` not found for this struct

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
   --> src/test_utils.rs:431:18
    |
428 |               let row = self
    |  _______________________-
429 | |                 .ctx
430 | |                 .sql
431 | |                 .query_row_optional(
    | |                 -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/chatlist.rs:275:29
    |
275 |                 context.sql.query_map(
    |                 ------------^^^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/test_utils.rs:458:14
    |
456 | /         self.ctx
457 | |             .sql
458 | |             .execute("DELETE FROM smtp WHERE id=?;", (rowid,))
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/reaction.rs:370:14
    |
368 |           if let Some(reaction) = context
    |  _________________________________-
369 | |             .sql
370 | |             .query_get_value(
    | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: `Sql` is not an iterator
   --> src/chatlist.rs:443:10
    |
441 |       let count = context
    |  _________________-
442 | |         .sql
443 | |         .count(
    | |         -^^^^^ `Sql` is not an iterator
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `count` not found for this struct because it doesn't satisfy `Sql: Iterator`
    |
    = note: the following trait bounds were not satisfied:
            `Sql: Iterator`
            which is required by `&mut Sql: Iterator`
note: the trait `Iterator` must be implemented
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
    |
75  | pub trait Iterator {
    | ^^^^^^^^^^^^^^^^^^
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following trait defines an item `count`, perhaps you need to implement it:
            candidate #1: `Iterator`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/chatlist.rs:132:25
    |
132 |             context.sql.query_map(
    |             ------------^^^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/chatlist.rs:159:18
    |
157 | /             context
158 | |                 .sql
159 | |                 .query_map(
    | |                 -^^^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/chatlist.rs:459:10
    |
457 | /     context
458 | |         .sql
459 | |         .query_get_value(
    | |         -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/chatlist.rs:195:18
    |
193 | /             context
194 | |                 .sql
195 | |                 .query_map(
    | |                 -^^^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/chatlist.rs:248:29
    |
248 |                 context.sql.query_map(
    |                 ------------^^^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `query_map` not found for this struct

error[E0599]: no method named `get_raw_config` found for struct `Sql` in the current scope
   --> src/config.rs:407:21
    |
407 |         Ok(self.sql.get_raw_config(key.as_ref()).await?.is_some())
    |                     ^^^^^^^^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/chatlist.rs:275:29
    |
275 |                 context.sql.query_map(
    |                 ------------^^^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/config.rs:609:22
    |
608 | /                 self.sql
609 | |                     .execute("UPDATE contacts SET selfavatar_sent=0;", ())
    | |                     -^^^^^^^ method not found in `Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/receive_imf.rs:267:22
    |
265 | /                 context
266 | |                     .sql
267 | |                     .execute(
    | |                     -^^^^^^^ method not found in `sql::Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config` found for struct `Sql` in the current scope
   --> src/config.rs:616:30
    |
615 | /                         self.sql
616 | |                             .set_raw_config(key.as_ref(), Some(blob.as_name()))
    | |                             -^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/receive_imf.rs:292:14
    |
290 | /         context
291 | |             .sql
292 | |             .execute(
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
   --> src/receive_imf.rs:300:14
    |
298 |           if !context
    |  _____________-
299 | |             .sql
300 | |             .exists(
    | |             -^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `exists` not found for this struct
    |
help: one of the expressions' fields has a method of the same name
    |
300 |             .dbfile.exists(
    |              +++++++

error[E0599]: no method named `set_raw_config` found for struct `Sql` in the current scope
   --> src/config.rs:625:34
    |
625 |                         self.sql.set_raw_config(key.as_ref(), None).await?;
    |                                  ^^^^^^^^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/receive_imf.rs:592:18
    |
590 | /             context
591 | |                 .sql
592 | |                 .execute(
    | |                 -^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config` found for struct `Sql` in the current scope
   --> src/config.rs:635:36
    |
635 |                 let ret = self.sql.set_raw_config(key.as_ref(), value).await;
    |                                    ^^^^^^^^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3168:14
     |
3166 | /         context
3167 | |             .sql
3168 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3187:14
     |
3185 | /         context
3186 | |             .sql
3187 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `set_raw_config` found for struct `Sql` in the current scope
   --> src/config.rs:645:26
    |
645 |                 self.sql.set_raw_config(key.as_ref(), value).await?;
    |                          ^^^^^^^^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `insert` found for struct `sql::Sql` in the current scope
   --> src/chat.rs:328:25
    |
328 |             context.sql.insert(
    |             ------------^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `insert` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `insert`, perhaps you need to implement one of them:
            candidate #1: `bitflags::traits::Flags`
            candidate #2: `ppv_lite86::types::Vec2`
            candidate #3: `ppv_lite86::types::Vec4`
            candidate #4: `toml_edit::table::TableLike`

error[E0599]: no method named `set_raw_config` found for struct `Sql` in the current scope
   --> src/config.rs:649:22
    |
648 | /                 self.sql
649 | |                     .set_raw_config(key.as_ref(), value.map(|s| s.to_lowercase()).as_deref())
    | |                     -^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/chat.rs:364:14
    |
362 | /         context
363 | |             .sql
364 | |             .execute(
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config` found for struct `Sql` in the current scope
   --> src/config.rs:653:26
    |
653 |                 self.sql.set_raw_config(key.as_ref(), value).await?;
    |                          ^^^^^^^^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3463:10
     |
3461 |       let list = context
     |  ________________-
3462 | |         .sql
3463 | |         .query_map(
     | |         -^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `set_raw_config` found for struct `Sql` in the current scope
   --> src/config.rs:655:22
    |
654 | /                 self.sql
655 | |                     .set_raw_config(constants::DC_FOLDERS_CONFIGURED_KEY, None)
    | |                     -^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/contact.rs:1560:14
     |
1558 | /         context
1559 | |             .sql
1560 | |             .execute(
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config` found for struct `Sql` in the current scope
   --> src/config.rs:659:26
    |
659 |                 self.sql.set_raw_config(key.as_ref(), value).await?;
    |                          ^^^^^^^^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/contact.rs:1573:14
     |
1571 |           if context
     |  ____________-
1572 | |             .sql
1573 | |             .execute(
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config_int` found for struct `Sql` in the current scope
   --> src/imap.rs:483:14
    |
481 |           let folders_configured = context
    |  __________________________________-
482 | |             .sql
483 | |             .get_raw_config_int(constants::DC_FOLDERS_CONFIGURED_KEY)
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `get_raw_config_int` not found for this struct

error[E0599]: no method named `query_row_optional` found for reference `&sql::Sql` in the current scope
    --> src/chat.rs:1224:13
     |
1224 |         sql.query_row_optional(&query, (self,), f).await
     |             ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/sync.rs:114:14
    |
113 | /         self.sql
114 | |             .execute("INSERT INTO multi_device_sync (item) VALUES(?);", (item,))
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `transaction` found for struct `Sql` in the current scope
   --> src/imap.rs:880:14
    |
878 | /         context
879 | |             .sql
880 | |             .transaction(move |transaction| {
    | |             -^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/sync.rs:199:14
    |
197 |           let (ids, serialized) = self
    |  _________________________________-
198 | |             .sql
199 | |             .query_map(
    | |             -^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/chat.rs:772:14
    |
770 | /         context
771 | |             .sql
772 | |             .execute(
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/imap/select_folder.rs:236:14
    |
234 | /         context
235 | |             .sql
236 | |             .execute(
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/chat.rs:780:14
    |
778 | /         context
779 | |             .sql
780 | |             .execute("DELETE FROM msgs WHERE chat_id=?;", (self,))
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `exists` found for struct `Sql` in the current scope
   --> src/imap.rs:618:22
    |
616 |                   } else if context
    |  ___________________________-
617 | |                     .sql
618 | |                     .exists(
    | |                     -^^^^^^ method not found in `Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `exists` not found for this struct
    |
help: one of the expressions' fields has a method of the same name
    |
618 |                     .dbfile.exists(
    |                      +++++++

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/chat.rs:785:14
    |
783 | /         context
784 | |             .sql
785 | |             .execute("DELETE FROM chats_contacts WHERE chat_id=?;", (self,))
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/chat.rs:790:14
    |
788 | /         context
789 | |             .sql
790 | |             .execute("DELETE FROM chats WHERE id=?;", (self,))
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/imap.rs:650:18
    |
648 | /             context
649 | |                 .sql
650 | |                 .execute(
    | |                 -^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/chat.rs:543:14
    |
541 | /         context
542 | |             .sql
543 | |             .execute("UPDATE chats SET protected=? WHERE id=?;", (protect, self))
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/scheduler.rs:344:10
    |
342 |       let msg_ids = context
    |  ___________________-
343 | |         .sql
344 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `insert` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:4464:17
     |
4464 |     context.sql.insert(
     |     ------------^^^^^^ method not found in `sql::Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `insert` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `insert`, perhaps you need to implement one of them:
             candidate #1: `bitflags::traits::Flags`
             candidate #2: `ppv_lite86::types::Vec2`
             candidate #3: `ppv_lite86::types::Vec4`
             candidate #4: `toml_edit::table::TableLike`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/scheduler.rs:375:14
    |
373 | /         context
374 | |             .sql
375 | |             .execute("DELETE FROM download WHERE msg_id=?", (msg_id,))
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:1387:18
     |
1385 | /             context
1386 | |                 .sql
1387 | |                 .query_get_value(
     | |                 -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:1403:18
     |
1401 | /             context
1402 | |                 .sql
1403 | |                 .query_get_value(
     | |                 -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/imap.rs:1074:14
     |
1072 |           let rows = context
     |  ____________________-
1073 | |             .sql
1074 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `transaction` found for struct `sql::Sql` in the current scope
   --> src/chat.rs:670:14
    |
668 | /         context
669 | |             .sql
670 | |             .transaction(move |transaction| {
    | |             -^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/imap.rs:1109:22
     |
1107 | /                 context
1108 | |                     .sql
1109 | |                     .execute(
     | |                     -^^^^^^^ method not found in `Sql`
     | |_____________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/imap.rs:1021:14
     |
1019 |           let rows = context
     |  ____________________-
1020 | |             .sql
1021 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/chat.rs:845:14
    |
843 |           let msg_id: Option<MsgId> = context
    |  _____________________________________-
844 | |             .sql
845 | |             .query_get_value(
    | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/ephemeral.rs:637:10
    |
635 | /     context
636 | |         .sql
637 | |         .execute(
    | |         -^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `transaction` found for struct `sql::Sql` in the current scope
   --> src/message.rs:133:14
    |
131 | /         context
132 | |             .sql
133 | |             .transaction(move |transaction| {
    | |             -^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
    --> src/imap.rs:2267:10
     |
2265 |       Ok(context
     |  ________-
2266 | |         .sql
2267 | |         .query_get_value(
     | |         -^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
    --> src/imap.rs:2290:10
     |
2288 |       Ok(context
     |  ________-
2289 | |         .sql
2290 | |         .query_get_value("SELECT modseq FROM imap_sync WHERE folder=?;", (folder,))
     | |         -^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_row_optional` found for struct `Sql` in the current scope
    --> src/imap.rs:2152:10
     |
2150 |       if let Some((msg_id, chat_id)) = context
     |  ______________________________________-
2151 | |         .sql
2152 | |         .query_row_optional(
     | |         -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/chat.rs:917:26
    |
915 | /                     context
916 | |                         .sql
917 | |                         .execute(
    | |                         -^^^^^^^ method not found in `sql::Sql`
    | |_________________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/imap.rs:2173:14
     |
2171 |           let updated = context
     |  _______________________-
2172 | |             .sql
2173 | |             .execute(
     | |             -^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `insert` found for struct `sql::Sql` in the current scope
   --> src/chat.rs:940:14
    |
938 |           let row_id = context
    |  ______________________-
939 | |             .sql
940 | |             .insert(
    | |             -^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `insert` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `insert`, perhaps you need to implement one of them:
            candidate #1: `bitflags::traits::Flags`
            candidate #2: `ppv_lite86::types::Vec2`
            candidate #3: `ppv_lite86::types::Vec4`
            candidate #4: `toml_edit::table::TableLike`

error[E0599]: `sql::Sql` is not an iterator
   --> src/chat.rs:973:14
    |
971 |           let count = context
    |  _____________________-
972 | |             .sql
973 | |             .count(
    | |             -^^^^^ `sql::Sql` is not an iterator
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
    |
    = note: the following trait bounds were not satisfied:
            `sql::Sql: Iterator`
            which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
    |
75  | pub trait Iterator {
    | ^^^^^^^^^^^^^^^^^^
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following trait defines an item `count`, perhaps you need to implement it:
            candidate #1: `Iterator`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/imap.rs:2278:10
     |
2276 | /     context
2277 | |         .sql
2278 | |         .execute(
     | |         -^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: `sql::Sql` is not an iterator
   --> src/chat.rs:996:18
    |
994 | /             context
995 | |                 .sql
996 | |                 .count(
    | |                 -^^^^^ `sql::Sql` is not an iterator
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
    |
    = note: the following trait bounds were not satisfied:
            `sql::Sql: Iterator`
            which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
    |
75  | pub trait Iterator {
    | ^^^^^^^^^^^^^^^^^^
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following trait defines an item `count`, perhaps you need to implement it:
            candidate #1: `Iterator`

error[E0599]: `sql::Sql` is not an iterator
    --> src/chat.rs:1012:18
     |
1010 | /             context
1011 | |                 .sql
1012 | |                 .count(
     | |                 -^^^^^ `sql::Sql` is not an iterator
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:1029:14
     |
1027 |           let timestamp = context
     |  _________________________-
1028 | |             .sql
1029 | |             .query_get_value("SELECT MAX(timestamp) FROM msgs WHERE chat_id=?", (self,))
     | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/smtp.rs:681:10
    |
679 |       let rowids = context
    |  __________________-
680 | |         .sql
681 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:1043:14
     |
1041 |           let intersection: Vec<(ChatId, f64)> = context
     |  ________________________________________________-
1042 | |             .sql
1043 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:1069:14
     |
1067 |           let chat_size: HashMap<ChatId, f64> = context
     |  _______________________________________________-
1068 | |             .sql
1069 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `set_raw_config` found for struct `Sql` in the current scope
   --> src/config.rs:702:18
    |
702 |         self.sql.set_raw_config(key, value).await
    |                  ^^^^^^^^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/chatlist.rs:314:18
    |
312 |               let msg_id: Option<MsgId> = context
    |  _________________________________________-
313 | |                 .sql
314 | |                 .query_get_value(
    | |                 -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `get_raw_config` found for struct `Sql` in the current scope
   --> src/config.rs:708:18
    |
708 |         self.sql.get_raw_config(key).await
    |                  ^^^^^^^^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:1157:14
     |
1155 |           let res: Option<String> = context
     |  ___________________________________-
1156 | |             .sql
1157 | |             .query_get_value("SELECT param FROM chats WHERE id=?", (self,))
     | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `get_raw_config_bool` found for struct `Sql` in the current scope
  --> src/configure.rs:62:14
   |
61 | /         self.sql
62 | |             .get_raw_config_bool("configured")
   | |             -^^^^^^^^^^^^^^^^^^^ method not found in `Sql`
   | |_____________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `get_raw_config_bool` not found for this struct

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
   --> src/peerstate.rs:242:14
    |
240 |           let peerstate = context
    |  _________________________-
241 | |             .sql
242 | |             .query_row_optional(query, params, |row| {
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `get_raw_config` found for reference `&Sql` in the current scope
   --> src/login_param.rs:108:14
    |
107 |           let addr = sql
    |  ____________________-
108 | |             .get_raw_config(key)
    | |             -^^^^^^^^^^^^^^ method not found in `&Sql`
    | |_____________|
    | 

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:1344:14
     |
1342 | /         context
1343 | |             .sql
1344 | |             .execute(
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config` found for reference `&Sql` in the current scope
   --> src/login_param.rs:115:31
    |
115 |         let mail_server = sql.get_raw_config(key).await?.unwrap_or_default();
    |                               ^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:1323:14
     |
1321 |           let timestamp: Option<i64> = context
     |  ______________________________________-
1322 | |             .sql
1323 | |             .query_get_value("SELECT gossiped_timestamp FROM chats WHERE id=?;", (self,))
     | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:1357:14
     |
1355 |           let protection_status = context
     |  _________________________________-
1356 | |             .sql
1357 | |             .query_get_value("SELECT protected FROM chats WHERE id=?", (self,))
     | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `get_raw_config_int` found for reference `&Sql` in the current scope
   --> src/login_param.rs:118:29
    |
118 |         let mail_port = sql.get_raw_config_int(key).await?.unwrap_or_default();
    |                             ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:1706:14
     |
1704 | /         context
1705 | |             .sql
1706 | |             .execute(
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config` found for reference `&Sql` in the current scope
   --> src/login_param.rs:121:29
    |
121 |         let mail_user = sql.get_raw_config(key).await?.unwrap_or_default();
    |                             ^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `get_raw_config` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:2382:37
     |
2382 |     if let Some(icon) = context.sql.get_raw_config("icon-archive").await? {
     |                                     ^^^^^^^^^^^^^^ method not found in `sql::Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `get_raw_config` found for reference `&Sql` in the current scope
   --> src/login_param.rs:124:27
    |
124 |         let mail_pw = sql.get_raw_config(key).await?.unwrap_or_default();
    |                           ^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `set_raw_config` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:2391:10
     |
2389 | /     context
2390 | |         .sql
2391 | |         .set_raw_config("icon-archive", Some(&icon))
     | |         -^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `get_raw_config` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:2367:37
     |
2367 |     if let Some(icon) = context.sql.get_raw_config("icon-broadcast").await? {
     |                                     ^^^^^^^^^^^^^^ method not found in `sql::Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `get_raw_config_int` found for reference `&Sql` in the current scope
   --> src/login_param.rs:128:14
    |
127 |           let mail_security = sql
    |  _____________________________-
128 | |             .get_raw_config_int(key)
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `&Sql`
    | |_____________|
    | 

error[E0599]: no method named `set_raw_config` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:2376:10
     |
2374 | /     context
2375 | |         .sql
2376 | |         .set_raw_config("icon-broadcast", Some(&icon))
     | |         -^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `get_raw_config_int` found for reference `&Sql` in the current scope
   --> src/login_param.rs:135:51
    |
135 |             if let Some(certificate_checks) = sql.get_raw_config_int(key).await? {
    |                                                   ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/ephemeral.rs:179:14
    |
177 |           let timer = context
    |  _____________________-
178 | |             .sql
179 | |             .query_get_value("SELECT ephemeral_timer FROM chats WHERE id=?;", (self,))
    | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `get_raw_config` found for reference `&Sql` in the current scope
   --> src/login_param.rs:142:31
    |
142 |         let send_server = sql.get_raw_config(key).await?.unwrap_or_default();
    |                               ^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:2157:14
     |
2155 |           let addrs = context
     |  _____________________-
2156 | |             .sql
2157 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/contact.rs:1284:14
     |
1282 | /         context
1283 | |             .sql
1284 | |             .execute(
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config_int` found for reference `&Sql` in the current scope
   --> src/login_param.rs:145:29
    |
145 |         let send_port = sql.get_raw_config_int(key).await?.unwrap_or_default();
    |                             ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:2407:14
     |
2405 | /         context
2406 | |             .sql
2407 | |             .execute(
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config` found for reference `&Sql` in the current scope
   --> src/login_param.rs:148:29
    |
148 |         let send_user = sql.get_raw_config(key).await?.unwrap_or_default();
    |                             ^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `query_row_optional` found for reference `&sql::Sql` in the current scope
   --> src/securejoin/bobstate.rs:173:13
    |
173 |         sql.query_row_optional(
    |         ----^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `get_raw_config` found for reference `&Sql` in the current scope
   --> src/login_param.rs:151:27
    |
151 |         let send_pw = sql.get_raw_config(key).await?.unwrap_or_default();
    |                           ^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/smtp.rs:536:10
    |
534 | /     context
535 | |         .sql
536 | |         .execute("UPDATE smtp SET retries=retries+1 WHERE id=?", (rowid,))
    | |         -^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config_int` found for reference `&Sql` in the current scope
   --> src/login_param.rs:155:14
    |
154 |           let send_security = sql
    |  _____________________________-
155 | |             .get_raw_config_int(key)
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `&Sql`
    | |_____________|
    | 

error[E0599]: no method named `query_row` found for struct `sql::Sql` in the current scope
   --> src/smtp.rs:542:10
    |
540 |       let (body, recipients, msg_id, retries) = context
    |  _______________________________________________-
541 | |         .sql
542 | |         .query_row(
    | |         -^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row` not found for this struct

error[E0599]: no method named `get_raw_config_int` found for reference `&Sql` in the current scope
   --> src/login_param.rs:162:51
    |
162 |             if let Some(certificate_checks) = sql.get_raw_config_int(key).await? {
    |                                                   ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/smtp.rs:559:14
    |
557 | /         context
558 | |             .sql
559 | |             .execute("DELETE FROM smtp WHERE id=?", (rowid,))
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config_int` found for reference `&Sql` in the current scope
   --> src/login_param.rs:169:32
    |
169 |         let server_flags = sql.get_raw_config_int(key).await?.unwrap_or_default();
    |                                ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/smtp.rs:589:18
    |
587 | /             context
588 | |                 .sql
589 | |                 .execute("DELETE FROM smtp WHERE id=?", (rowid,))
    | |                 -^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config` found for reference `&Sql` in the current scope
   --> src/login_param.rs:174:14
    |
173 |           let provider = sql
    |  ________________________-
174 | |             .get_raw_config(key)
    | |             -^^^^^^^^^^^^^^ method not found in `&Sql`
    | |_____________|
    | 

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/login_param.rs:176:24
    |
176 |             .and_then(|provider_id| get_provider_by_id(&provider_id));
    |                        ^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all function arguments must have a statically known size

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
   --> src/smtp.rs:596:22
    |
594 |                   let res = context
    |  ___________________________-
595 | |                     .sql
596 | |                     .query_row_optional(
    | |                     -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `set_raw_config` found for struct `Sql` in the current scope
   --> src/configure.rs:210:18
    |
209 | /             ctx.sql
210 | |                 .set_raw_config("addr", Some(param.addr.as_str()))
    | |                 -^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/smtp.rs:628:18
    |
626 | /             context
627 | |                 .sql
628 | |                 .execute("DELETE FROM smtp WHERE id=?", (rowid,))
    | |                 -^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config_bool` found for struct `Sql` in the current scope
   --> src/configure.rs:508:13
    |
508 |     ctx.sql.set_raw_config_bool("configured", true).await?;
    |             ^^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `set_raw_config_bool` not found for this struct

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
   --> src/smtp.rs:638:18
    |
636 |               if !context
    |  _________________-
637 | |                 .sql
638 | |                 .exists("SELECT COUNT(*) FROM smtp WHERE msg_id=?", (msg_id,))
    | |                 -^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `exists` not found for this struct
    |
help: one of the expressions' fields has a method of the same name
    |
638 |                 .dbfile.exists("SELECT COUNT(*) FROM smtp WHERE msg_id=?", (msg_id,))
    |                  +++++++

error[E0599]: no method named `get_raw_config_bool` found for reference `&Sql` in the current scope
  --> src/socks.rs:30:27
   |
30 |         let enabled = sql.get_raw_config_bool("socks5_enabled").await?;
   |                           ^^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3222:14
     |
3220 |           let chat_ids_in_archive = context
     |  ___________________________________-
3221 | |             .sql
3222 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `get_raw_config` found for reference `&Sql` in the current scope
  --> src/socks.rs:32:28
   |
32 |             let host = sql.get_raw_config("socks5_host").await?.unwrap_or_default();
   |                            ^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3237:14
     |
3235 | /         context
3236 | |             .sql
3237 | |             .execute(
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config_int` found for reference `&Sql` in the current scope
  --> src/socks.rs:34:18
   |
33 |               let port: u16 = sql
   |  _____________________________-
34 | |                 .get_raw_config_int("socks5_port")
   | |                 -^^^^^^^^^^^^^^^^^^ method not found in `&Sql`
   | |_________________|
   | 

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3253:14
     |
3251 |           let exists = context
     |  ______________________-
3252 | |             .sql
3253 | |             .exists(
     | |             -^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
3253 |             .dbfile.exists(
     |              +++++++

error[E0599]: no method named `get_raw_config` found for reference `&Sql` in the current scope
  --> src/socks.rs:37:28
   |
37 |             let user = sql.get_raw_config("socks5_user").await?.unwrap_or_default();
   |                            ^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `get_raw_config` found for reference `&Sql` in the current scope
  --> src/socks.rs:39:18
   |
38 |               let password = sql
   |  ____________________________-
39 | |                 .get_raw_config("socks5_password")
   | |                 -^^^^^^^^^^^^^^ method not found in `&Sql`
   | |_________________|
   | 

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3264:14
     |
3262 | /         context
3263 | |             .sql
3264 | |             .execute(
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/net.rs:238:22
    |
236 | /                 context
237 | |                     .sql
238 | |                     .execute(
    | |                     -^^^^^^^ method not found in `Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `transaction` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3310:10
     |
3308 |       let changed_chats = context
     |  _________________________-
3309 | |         .sql
3310 | |         .transaction(|transaction| {
     | |         -^^^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `get_raw_config` found for struct `Sql` in the current scope
  --> src/oauth2.rs:91:44
   |
91 |             let access_token = context.sql.get_raw_config("oauth2_access_token").await?;
   |                                            ^^^^^^^^^^^^^^ method not found in `Sql`
   |
  ::: src/sql.rs:57:1
   |
57 | pub struct Sql {
   | -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3366:10
     |
3364 |       let list = context
     |  ________________-
3365 | |         .sql
3366 | |         .query_map(
     | |         -^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `get_raw_config` found for struct `Sql` in the current scope
  --> src/oauth2.rs:99:41
   |
99 |         let refresh_token = context.sql.get_raw_config("oauth2_refresh_token").await?;
   |                                         ^^^^^^^^^^^^^^ method not found in `Sql`
   |
  ::: src/sql.rs:57:1
   |
57 | pub struct Sql {
   | -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `get_raw_config` found for struct `Sql` in the current scope
   --> src/oauth2.rs:102:14
    |
100 |           let refresh_token_for = context
    |  _________________________________-
101 | |             .sql
102 | |             .get_raw_config("oauth2_refresh_token_for")
    | |             -^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `insert` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3493:10
     |
3491 |       let row_id = context
     |  __________________-
3492 | |         .sql
3493 | |         .insert(
     | |         -^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `insert` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `insert`, perhaps you need to implement one of them:
             candidate #1: `bitflags::traits::Flags`
             candidate #2: `ppv_lite86::types::Vec2`
             candidate #3: `ppv_lite86::types::Vec4`
             candidate #4: `toml_edit::table::TableLike`

error[E0599]: no method named `get_raw_config` found for struct `Sql` in the current scope
   --> src/oauth2.rs:112:26
    |
110 | /                     context
111 | |                         .sql
112 | |                         .get_raw_config("oauth2_pending_redirect_uri")
    | |                         -^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3537:14
     |
3535 |           if !context
     |  _____________-
3536 | |             .sql
3537 | |             .exists(
     | |             -^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
3537 |             .dbfile.exists(
     |              +++++++

error[E0599]: no method named `get_raw_config` found for struct `Sql` in the current scope
   --> src/oauth2.rs:126:26
    |
124 | /                     context
125 | |                         .sql
126 | |                         .get_raw_config("oauth2_redirect_uri")
    | |                         -^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `transaction` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3591:21
     |
3591 |         context.sql.transaction(trans_fn).await?
     |                     ^^^^^^^^^^^ method not found in `sql::Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `transaction` not found for this struct

error[E0599]: no method named `set_raw_config` found for struct `Sql` in the current scope
   --> src/oauth2.rs:186:18
    |
184 | /             context
185 | |                 .sql
186 | |                 .set_raw_config("oauth2_refresh_token", Some(token))
    | |                 -^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `transaction` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3615:10
     |
3613 | /     context
3614 | |         .sql
3615 | |         .transaction(move |transaction| {
     | |         -^^^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `transaction` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3637:10
     |
3635 | /     context
3636 | |         .sql
3637 | |         .transaction(move |transaction| {
     | |         -^^^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `set_raw_config` found for struct `Sql` in the current scope
   --> src/oauth2.rs:190:18
    |
188 | /             context
189 | |                 .sql
190 | |                 .set_raw_config("oauth2_refresh_token_for", Some(code))
    | |                 -^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3659:10
     |
3657 | /     context
3658 | |         .sql
3659 | |         .execute(
     | |         -^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config` found for struct `Sql` in the current scope
   --> src/oauth2.rs:199:18
    |
197 | /             context
198 | |                 .sql
199 | |                 .set_raw_config("oauth2_access_token", Some(token))
    | |                 -^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
  --> src/token.rs:72:18
   |
70 | /             context
71 | |                 .sql
72 | |                 .query_get_value(
   | |                 -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
   | |_________________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `set_raw_config_int64` found for struct `Sql` in the current scope
   --> src/oauth2.rs:208:18
    |
206 | /             context
207 | |                 .sql
208 | |                 .set_raw_config_int64("oauth2_timestamp_expires", expires_in)
    | |                 -^^^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config_int64` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
  --> src/token.rs:82:18
   |
80 | /             context
81 | |                 .sql
82 | |                 .query_get_value(
   | |                 -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
   | |_________________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `set_raw_config` found for struct `Sql` in the current scope
   --> src/oauth2.rs:214:22
    |
212 | /                 context
213 | |                     .sql
214 | |                     .set_raw_config("oauth2_redirect_uri", Some(redirect_uri.as_ref()))
    | |                     -^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/contact.rs:716:14
    |
714 |           let id = context
    |  __________________-
715 | |             .sql
716 | |             .query_get_value(
    | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/contact.rs:106:14
    |
104 | /         context
105 | |             .sql
106 | |             .execute("UPDATE contacts SET is_bot=? WHERE id=?;", (is_bot, self.0))
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3782:10
     |
3780 |       let needs_attach = context
     |  ________________________-
3781 | |         .sql
3782 | |         .query_map(
     | |         -^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/contact.rs:115:14
    |
113 | /         context
114 | |             .sql
115 | |             .execute(
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3867:10
     |
3865 | /     context
3866 | |         .sql
3867 | |         .execute(
     | |         -^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_row_optional` found for struct `Sql` in the current scope
  --> src/key.rs:85:10
   |
83 |       let public_key = context
   |  ______________________-
84 | |         .sql
85 | |         .query_row_optional(
   | |         -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
   | |_________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `query_row_optional` not found for this struct

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
  --> src/key.rs:97:14
   |
97 |         Some(bytes) => SignedPublicKey::from_slice(&bytes),
   |              ^^^^^ doesn't have a size known at compile-time
   |
   = help: the trait `Sized` is not implemented for `[u8]`
   = note: all local variables must have a statically known size
   = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:97:9
    |
97  |         Some(bytes) => SignedPublicKey::from_slice(&bytes),
    |         ^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `std::prelude::v1::Some`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `std::prelude::v1::Some`
...
578 |     Some(#[stable(feature = "rust1", since = "1.0.0")] T),
    |     ---- required by a bound in this tuple variant

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:98:9
    |
98  |         None => {
    |         ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `std::prelude::v1::None`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `std::prelude::v1::None`
...
574 |     None,
    |     ---- required by a bound in this unit variant

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:83:22
    |
83  |       let public_key = context
    |  ______________________^
84  | |         .sql
85  | |         .query_row_optional(
86  | |             "SELECT public_key
...   |
94  | |         )
95  | |         .await?;
    | |_______________^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `std::option::Option`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `Option`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3964:14
     |
3962 | /         context
3963 | |             .sql
3964 | |             .execute("INSERT INTO leftgrps (grpid) VALUES(?);", (grpid,))
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `transaction` found for reference `&Sql` in the current scope
   --> src/peerstate.rs:613:13
    |
613 |         sql.transaction(trans_fn).await
    |             ^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:3974:10
     |
3972 |       let exists = context
     |  __________________-
3973 | |         .sql
3974 | |         .exists("SELECT COUNT(*) FROM leftgrps WHERE grpid=?;", (grpid,))
     | |         -^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
3974 |         .dbfile.exists("SELECT COUNT(*) FROM leftgrps WHERE grpid=?;", (grpid,))
     |          +++++++

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/peerstate.rs:639:14
    |
637 |           let contact_id = context
    |  __________________________-
638 | |             .sql
639 | |             .query_get_value(
    | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:4013:18
     |
4011 | /             context
4012 | |                 .sql
4013 | |                 .execute(
     | |                 -^^^^^^^ method not found in `sql::Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/peerstate.rs:669:22
    |
667 | /                 context
668 | |                     .sql
669 | |                     .query_get_value(
    | |                     -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:4119:10
     |
4117 |       let ids = context
     |  _______________-
4118 | |         .sql
4119 | |         .query_map(
     | |         -^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: `sql::Sql` is not an iterator
    --> src/chat.rs:4257:14
     |
4255 |           let count = context
     |  _____________________-
4256 | |             .sql
4257 | |             .count("SELECT COUNT(*) FROM chats WHERE id>9 AND blocked=0;", ())
     | |             -^^^^^ `sql::Sql` is not an iterator
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/contact.rs:666:14
    |
664 | /         context
665 | |             .sql
666 | |             .execute(
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:4272:10
     |
4270 | /     context
4271 | |         .sql
4272 | |         .query_row_optional(
     | |         -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/contact.rs:1024:18
     |
1022 | /             context
1023 | |                 .sql
1024 | |                 .query_map(
     | |                 -^^^^^^^^^ method not found in `Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:4403:10
     |
4401 |       let exists = context
     |  __________________-
4402 | |         .sql
4403 | |         .exists(
     | |         -^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
4403 |         .dbfile.exists(
     |          +++++++

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/contact.rs:1079:18
     |
1077 | /             context
1078 | |                 .sql
1079 | |                 .query_map(
     | |                 -^^^^^^^^^ method not found in `Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:4422:10
     |
4420 | /     context
4421 | |         .sql
4422 | |         .execute("DELETE FROM msgs WHERE from_id=?;", (ContactId::DEVICE,))
     | |         -^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `transaction` found for struct `Sql` in the current scope
    --> src/contact.rs:1119:14
     |
1117 | /         context
1118 | |             .sql
1119 | |             .transaction(move |transaction| {
     | |             -^^^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `transaction` not found for this struct

error[E0599]: `Sql` is not an iterator
    --> src/contact.rs:1157:14
     |
1155 |           let count = context
     |  _____________________-
1156 | |             .sql
1157 | |             .count(
     | |             -^^^^^ `Sql` is not an iterator
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `Sql: Iterator`
             which is required by `&mut Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:4424:17
     |
4424 |     context.sql.execute("DELETE FROM devmsglabels;", ()).await?;
     |                 ^^^^^^^ method not found in `sql::Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/contact.rs:1173:14
     |
1171 |           let list = context
     |  ____________________-
1172 | |             .sql
1173 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:4429:10
     |
4427 | /     context
4428 | |         .sql
4429 | |         .execute(
     | |         -^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `transaction` found for struct `Sql` in the current scope
    --> src/contact.rs:1258:14
     |
1256 | /         context
1257 | |             .sql
1258 | |             .transaction(move |transaction| {
     | |             -^^^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:4520:10
     |
4518 | /     context
4519 | |         .sql
4520 | |         .execute(
     | |         -^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/contact.rs:1296:14
     |
1294 | /         context
1295 | |             .sql
1296 | |             .execute(
     | |             -^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: `Sql` is not an iterator
    --> src/contact.rs:1522:14
     |
1520 |           let count = context
     |  _____________________-
1521 | |             .sql
1522 | |             .count(
     | |             -^^^^^ `Sql` is not an iterator
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `Sql: Iterator`
             which is required by `&mut Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: no method named `query_row` found for struct `sql::Sql` in the current scope
   --> src/contact.rs:592:14
    |
590 |           let blocked = context
    |  _______________________-
591 | |             .sql
592 | |             .query_row("SELECT blocked FROM contacts WHERE id=?", (id,), |row| {
    | |             -^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/contact.rs:1715:10
     |
1713 |       if context
     |  ________-
1714 | |         .sql
1715 | |         .execute(
     | |         -^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/reaction.rs:370:14
    |
368 |           if let Some(reaction) = context
    |  _________________________________-
369 | |             .sql
370 | |             .query_get_value(
    | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: `sql::Sql` is not an iterator
   --> src/chatlist.rs:443:10
    |
441 |       let count = context
    |  _________________-
442 | |         .sql
443 | |         .count(
    | |         -^^^^^ `sql::Sql` is not an iterator
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
    |
    = note: the following trait bounds were not satisfied:
            `sql::Sql: Iterator`
            which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
    |
75  | pub trait Iterator {
    | ^^^^^^^^^^^^^^^^^^
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following trait defines an item `count`, perhaps you need to implement it:
            candidate #1: `Iterator`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/contact.rs:1808:14
     |
1806 |           let mut unseen_queue: BinaryHeap<MyHeapElem> = context
     |  ________________________________________________________-
1807 | |             .sql
1808 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/chatlist.rs:459:10
    |
457 | /     context
458 | |         .sql
459 | |         .query_get_value(
    | |         -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `get_raw_config_int` found for struct `Sql` in the current scope
   --> src/context.rs:738:14
    |
736 |           let dbversion = self
    |  _________________________-
737 | |             .sql
738 | |             .get_raw_config_int("dbversion")
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `get_raw_config_int` not found for this struct

error[E0599]: no method named `get_raw_config` found for struct `sql::Sql` in the current scope
   --> src/config.rs:407:21
    |
407 |         Ok(self.sql.get_raw_config(key.as_ref()).await?.is_some())
    |                     ^^^^^^^^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/context.rs:743:14
    |
741 |           let journal_mode = self
    |  ____________________________-
742 | |             .sql
743 | |             .query_get_value("PRAGMA journal_mode;", ())
    | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: `Sql` is not an iterator
   --> src/context.rs:752:36
    |
752 |         let prv_key_cnt = self.sql.count("SELECT COUNT(*) FROM keypairs;", ()).await?;
    |                                    ^^^^^ `Sql` is not an iterator
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `count` not found for this struct because it doesn't satisfy `Sql: Iterator`
    |
    = note: the following trait bounds were not satisfied:
            `Sql: Iterator`
            which is required by `&mut Sql: Iterator`
note: the trait `Iterator` must be implemented
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
    |
75  | pub trait Iterator {
    | ^^^^^^^^^^^^^^^^^^
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following trait defines an item `count`, perhaps you need to implement it:
            candidate #1: `Iterator`

error[E0599]: `Sql` is not an iterator
   --> src/context.rs:756:14
    |
754 |           let pub_key_cnt = self
    |  ___________________________-
755 | |             .sql
756 | |             .count("SELECT COUNT(*) FROM acpeerstates;", ())
    | |             -^^^^^ `Sql` is not an iterator
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `count` not found for this struct because it doesn't satisfy `Sql: Iterator`
    |
    = note: the following trait bounds were not satisfied:
            `Sql: Iterator`
            which is required by `&mut Sql: Iterator`
note: the trait `Iterator` must be implemented
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
    |
75  | pub trait Iterator {
    | ^^^^^^^^^^^^^^^^^^
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following trait defines an item `count`, perhaps you need to implement it:
            candidate #1: `Iterator`

error[E0599]: no method named `set_raw_config` found for struct `sql::Sql` in the current scope
   --> src/config.rs:702:18
    |
702 |         self.sql.set_raw_config(key, value).await
    |                  ^^^^^^^^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `get_raw_config_int` found for struct `Sql` in the current scope
   --> src/context.rs:768:14
    |
766 |           let folders_configured = self
    |  __________________________________-
767 | |             .sql
768 | |             .get_raw_config_int(constants::DC_FOLDERS_CONFIGURED_KEY)
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `get_raw_config_int` not found for this struct

error[E0599]: no method named `get_raw_config` found for struct `sql::Sql` in the current scope
   --> src/config.rs:708:18
    |
708 |         self.sql.get_raw_config(key).await
    |                  ^^^^^^^^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/context.rs:993:14
    |
991 |           let num_msgs: u32 = self
    |  _____________________________-
992 | |             .sql
993 | |             .query_get_value(
    | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `get_raw_config_bool` found for struct `sql::Sql` in the current scope
  --> src/configure.rs:62:14
   |
61 | /         self.sql
62 | |             .get_raw_config_bool("configured")
   | |             -^^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
   | |_____________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `get_raw_config_bool` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
    --> src/context.rs:1003:14
     |
1001 |           let num_chats: u32 = self
     |  ______________________________-
1002 | |             .sql
1003 | |             .query_get_value("SELECT COUNT(*) FROM chats WHERE id>9 AND blocked!=1", ())
     | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `get_raw_config` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:108:14
    |
107 |           let addr = sql
    |  ____________________-
108 | |             .get_raw_config(key)
    | |             -^^^^^^^^^^^^^^ method not found in `&sql::Sql`
    | |_____________|
    | 

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/context.rs:1025:14
     |
1023 |           let chats = self
     |  _____________________-
1024 | |             .sql
1025 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `get_raw_config` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:115:31
    |
115 |         let mail_server = sql.get_raw_config(key).await?.unwrap_or_default();
    |                               ^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/context.rs:1151:14
     |
1149 |           let list = self
     |  ____________________-
1150 | |             .sql
1151 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `get_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:118:29
    |
118 |         let mail_port = sql.get_raw_config_int(key).await?.unwrap_or_default();
    |                             ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `query_row` found for struct `Sql` in the current scope
    --> src/context.rs:1194:22
     |
1193 | /                 self.sql
1194 | |                     .query_row(
     | |                     -^^^^^^^^^ method not found in `Sql`
     | |_____________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_row` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/context.rs:1208:14
     |
1206 |           let list = self
     |  ____________________-
1207 | |             .sql
1208 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `get_raw_config` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:121:29
    |
121 |         let mail_user = sql.get_raw_config(key).await?.unwrap_or_default();
    |                             ^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/context.rs:1269:18
     |
1268 | /             self.sql
1269 | |                 .query_map(
     | |                 -^^^^^^^^^ method not found in `Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `get_raw_config` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:124:27
    |
124 |         let mail_pw = sql.get_raw_config(key).await?.unwrap_or_default();
    |                           ^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/context.rs:1302:18
     |
1301 | /             self.sql
1302 | |                 .query_map(
     | |                 -^^^^^^^^^ method not found in `Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `get_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:128:14
    |
127 |           let mail_security = sql
    |  _____________________________-
128 | |             .get_raw_config_int(key)
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`
    | |_____________|
    | 

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
  --> src/download.rs:93:22
   |
91 | /                 context
92 | |                     .sql
93 | |                     .execute("INSERT INTO download (msg_id) VALUES (?)", (self,))
   | |                     -^^^^^^^ method not found in `Sql`
   | |_____________________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `execute` not found for this struct
   |
   = help: items from traits can only be used if the trait is implemented and in scope
   = note: the following traits define an item `execute`, perhaps you need to implement one of them:
           candidate #1: `hyper::rt::Executor`
           candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:135:51
    |
135 |             if let Some(certificate_checks) = sql.get_raw_config_int(key).await? {
    |                                                   ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/download.rs:109:14
    |
107 | /         context
108 | |             .sql
109 | |             .execute(
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:142:31
    |
142 |         let send_server = sql.get_raw_config(key).await?.unwrap_or_default();
    |                               ^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `query_row_optional` found for struct `Sql` in the current scope
   --> src/download.rs:141:10
    |
139 |       let row = context
    |  _______________-
140 | |         .sql
141 | |         .query_row_optional(
    | |         -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/download.rs:153:27
    |
153 |     let Some((server_uid, server_folder, uidvalidity)) = row else {
    |                           ^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/download.rs:139:15
    |
139 |       let row = context
    |  _______________^
140 | |         .sql
141 | |         .query_row_optional(
142 | |             "SELECT uid, folder, uidvalidity FROM imap WHERE rfc724_mid=? AND target!=''",
...   |
150 | |         )
151 | |         .await?;
    | |_______________^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: only the last element of a tuple may have a dynamically sized type

error[E0599]: no method named `get_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:145:29
    |
145 |         let send_port = sql.get_raw_config_int(key).await?.unwrap_or_default();
    |                             ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/receive_imf.rs:267:22
    |
265 | /                 context
266 | |                     .sql
267 | |                     .execute(
    | |                     -^^^^^^^ method not found in `Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:148:29
    |
148 |         let send_user = sql.get_raw_config(key).await?.unwrap_or_default();
    |                             ^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/receive_imf.rs:292:14
    |
290 | /         context
291 | |             .sql
292 | |             .execute(
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:151:27
    |
151 |         let send_pw = sql.get_raw_config(key).await?.unwrap_or_default();
    |                           ^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `exists` found for struct `Sql` in the current scope
   --> src/receive_imf.rs:300:14
    |
298 |           if !context
    |  _____________-
299 | |             .sql
300 | |             .exists(
    | |             -^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `exists` not found for this struct
    |
help: one of the expressions' fields has a method of the same name
    |
300 |             .dbfile.exists(
    |              +++++++

error[E0599]: no method named `get_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:155:14
    |
154 |           let send_security = sql
    |  _____________________________-
155 | |             .get_raw_config_int(key)
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`
    | |_____________|
    | 

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/receive_imf.rs:592:18
    |
590 | /             context
591 | |                 .sql
592 | |                 .execute(
    | |                 -^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:162:51
    |
162 |             if let Some(certificate_checks) = sql.get_raw_config_int(key).await? {
    |                                                   ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `query_row_optional` found for struct `Sql` in the current scope
   --> src/key.rs:127:10
    |
125 |       let private_key = context
    |  _______________________-
126 | |         .sql
127 | |         .query_row_optional(
    | |         -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:139:14
    |
139 |         Some(bytes) => SignedSecretKey::from_slice(&bytes),
    |              ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:139:9
    |
139 |         Some(bytes) => SignedSecretKey::from_slice(&bytes),
    |         ^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `std::prelude::v1::Some`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `std::prelude::v1::Some`
...
578 |     Some(#[stable(feature = "rust1", since = "1.0.0")] T),
    |     ---- required by a bound in this tuple variant

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:140:9
    |
140 |         None => {
    |         ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `std::prelude::v1::None`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `std::prelude::v1::None`
...
574 |     None,
    |     ---- required by a bound in this unit variant

error[E0599]: no method named `get_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:169:32
    |
169 |         let server_flags = sql.get_raw_config_int(key).await?.unwrap_or_default();
    |                                ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:125:23
    |
125 |       let private_key = context
    |  _______________________^
126 | |         .sql
127 | |         .query_row_optional(
128 | |             "SELECT private_key
...   |
136 | |         )
137 | |         .await?;
    | |_______________^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
note: required by a bound in `std::option::Option`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `Option`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/ephemeral.rs:197:14
    |
195 | /         context
196 | |             .sql
197 | |             .execute(
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:174:14
    |
173 |           let provider = sql
    |  ________________________-
174 | |             .get_raw_config(key)
    | |             -^^^^^^^^^^^^^^ method not found in `&sql::Sql`
    | |_____________|
    | 

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/ephemeral.rs:293:14
    |
291 |           let res = match context
    |  _________________________-
292 | |             .sql
293 | |             .query_get_value("SELECT ephemeral_timer FROM msgs WHERE id=?", (self,))
    | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/ephemeral.rs:309:18
    |
307 | /             context
308 | |                 .sql
309 | |                 .execute(
    | |                 -^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config` found for struct `sql::Sql` in the current scope
   --> src/configure.rs:210:18
    |
209 | /             ctx.sql
210 | |                 .set_raw_config("addr", Some(param.addr.as_str()))
    | |                 -^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/ephemeral.rs:329:10
    |
327 |       let count = context
    |  _________________-
328 | |         .sql
329 | |         .execute(
    | |         -^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/ephemeral.rs:359:10
    |
357 |       let mut rows = context
    |  ____________________-
358 | |         .sql
359 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `set_raw_config_bool` found for struct `sql::Sql` in the current scope
   --> src/configure.rs:508:13
    |
508 |     ctx.sql.set_raw_config_bool("configured", true).await?;
    |             ^^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `set_raw_config_bool` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/ephemeral.rs:394:14
    |
392 |           let rows_expired = context
    |  ____________________________-
393 | |             .sql
394 | |             .query_map(
    | |             -^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `get_raw_config_bool` found for reference `&sql::Sql` in the current scope
  --> src/socks.rs:30:27
   |
30 |         let enabled = sql.get_raw_config_bool("socks5_enabled").await?;
   |                           ^^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `transaction` found for struct `Sql` in the current scope
   --> src/ephemeral.rs:441:14
    |
439 |           let (msgs_changed, webxdc_deleted) = context
    |  ______________________________________________-
440 | |             .sql
441 | |             .transaction(|transaction| {
    | |             -^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `get_raw_config` found for reference `&sql::Sql` in the current scope
  --> src/socks.rs:32:28
   |
32 |             let host = sql.get_raw_config("socks5_host").await?.unwrap_or_default();
   |                            ^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/ephemeral.rs:506:14
    |
504 |           let oldest_message_timestamp: Option<i64> = context
    |  _____________________________________________________-
505 | |             .sql
506 | |             .query_get_value(
    | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `get_raw_config_int` found for reference `&sql::Sql` in the current scope
  --> src/socks.rs:34:18
   |
33 |               let port: u16 = sql
   |  _____________________________-
34 | |                 .get_raw_config_int("socks5_port")
   | |                 -^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`
   | |_________________|
   | 

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/ephemeral.rs:531:10
    |
529 |       let ephemeral_timestamp: Option<i64> = match context
    |  __________________________________________________-
530 | |         .sql
531 | |         .query_get_value(
    | |         -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `get_raw_config` found for reference `&sql::Sql` in the current scope
  --> src/socks.rs:37:28
   |
37 |             let user = sql.get_raw_config("socks5_user").await?.unwrap_or_default();
   |                            ^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/location.rs:493:10
    |
491 |       let deleted = context
    |  ___________________-
492 | |         .sql
493 | |         .execute(
    | |         -^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config` found for reference `&sql::Sql` in the current scope
  --> src/socks.rs:39:18
   |
38 |               let password = sql
   |  ____________________________-
39 | |                 .get_raw_config("socks5_password")
   | |                 -^^^^^^^^^^^^^^ method not found in `&sql::Sql`
   | |_________________|
   | 

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/ephemeral.rs:670:10
    |
668 | /     context
669 | |         .sql
670 | |         .execute(
    | |         -^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/net.rs:238:22
    |
236 | /                 context
237 | |                     .sql
238 | |                     .execute(
    | |                     -^^^^^^^ method not found in `sql::Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/imap.rs:913:14
    |
911 | /         context
912 | |             .sql
913 | |             .execute(
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config` found for struct `sql::Sql` in the current scope
  --> src/oauth2.rs:91:44
   |
91 |             let access_token = context.sql.get_raw_config("oauth2_access_token").await?;
   |                                            ^^^^^^^^^^^^^^ method not found in `sql::Sql`
   |
  ::: src/sql.rs:57:1
   |
57 | pub struct Sql {
   | -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/imap.rs:944:26
    |
942 | /                     context
943 | |                         .sql
944 | |                         .execute(
    | |                         -^^^^^^^ method not found in `Sql`
    | |_________________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config` found for struct `sql::Sql` in the current scope
  --> src/oauth2.rs:99:41
   |
99 |         let refresh_token = context.sql.get_raw_config("oauth2_refresh_token").await?;
   |                                         ^^^^^^^^^^^^^^ method not found in `sql::Sql`
   |
  ::: src/sql.rs:57:1
   |
57 | pub struct Sql {
   | -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `get_raw_config` found for struct `sql::Sql` in the current scope
   --> src/oauth2.rs:102:14
    |
100 |           let refresh_token_for = context
    |  _________________________________-
101 | |             .sql
102 | |             .get_raw_config("oauth2_refresh_token_for")
    | |             -^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/imap.rs:998:14
    |
996 | /         context
997 | |             .sql
998 | |             .execute(
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config` found for struct `sql::Sql` in the current scope
   --> src/oauth2.rs:112:26
    |
110 | /                     context
111 | |                         .sql
112 | |                         .get_raw_config("oauth2_pending_redirect_uri")
    | |                         -^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `set_raw_config_int` found for struct `Sql` in the current scope
    --> src/imap.rs:1665:14
     |
1663 | /         context
1664 | |             .sql
1665 | |             .set_raw_config_int(
     | |             -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `set_raw_config_int` not found for this struct

error[E0599]: no method named `get_raw_config` found for struct `sql::Sql` in the current scope
   --> src/oauth2.rs:126:26
    |
124 | /                     context
125 | |                         .sql
126 | |                         .get_raw_config("oauth2_redirect_uri")
    | |                         -^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/imap.rs:2209:10
     |
2207 | /     context
2208 | |         .sql
2209 | |         .execute(
     | |         -^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config` found for struct `sql::Sql` in the current scope
   --> src/oauth2.rs:186:18
    |
184 | /             context
185 | |                 .sql
186 | |                 .set_raw_config("oauth2_refresh_token", Some(token))
    | |                 -^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/imap.rs:2226:10
     |
2224 | /     context
2225 | |         .sql
2226 | |         .execute(
     | |         -^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config` found for struct `sql::Sql` in the current scope
   --> src/oauth2.rs:190:18
    |
188 | /             context
189 | |                 .sql
190 | |                 .set_raw_config("oauth2_refresh_token_for", Some(code))
    | |                 -^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
    --> src/imap.rs:2243:10
     |
2241 |       Ok(context
     |  ________-
2242 | |         .sql
2243 | |         .query_get_value("SELECT uid_next FROM imap_sync WHERE folder=?;", (folder,))
     | |         -^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `set_raw_config` found for struct `sql::Sql` in the current scope
   --> src/oauth2.rs:199:18
    |
197 | /             context
198 | |                 .sql
199 | |                 .set_raw_config("oauth2_access_token", Some(token))
    | |                 -^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `set_raw_config_int64` found for struct `sql::Sql` in the current scope
   --> src/oauth2.rs:208:18
    |
206 | /             context
207 | |                 .sql
208 | |                 .set_raw_config_int64("oauth2_timestamp_expires", expires_in)
    | |                 -^^^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config_int64` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/imap.rs:2255:10
     |
2253 | /     context
2254 | |         .sql
2255 | |         .execute(
     | |         -^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config` found for struct `sql::Sql` in the current scope
   --> src/oauth2.rs:214:22
    |
212 | /                 context
213 | |                     .sql
214 | |                     .set_raw_config("oauth2_redirect_uri", Some(redirect_uri.as_ref()))
    | |                     -^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `get_raw_config` found for struct `Sql` in the current scope
    --> src/imap.rs:2310:38
     |
2310 |     if let Some(entry) = context.sql.get_raw_config(&key).await? {
     |                                      ^^^^^^^^^^^^^^ method not found in `Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/contact.rs:106:14
    |
104 | /         context
105 | |             .sql
106 | |             .execute("UPDATE contacts SET is_bot=? WHERE id=?;", (is_bot, self.0))
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/imex.rs:679:10
    |
677 |       let keys = context
    |  ________________-
678 | |         .sql
679 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/contact.rs:115:14
    |
113 | /         context
114 | |             .sql
115 | |             .execute(
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
  --> src/key.rs:85:10
   |
83 |       let public_key = context
   |  ______________________-
84 | |         .sql
85 | |         .query_row_optional(
   | |         -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
   | |_________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `set_raw_config_int` found for struct `Sql` in the current scope
   --> src/imex.rs:312:14
    |
310 | /         context
311 | |             .sql
312 | |             .set_raw_config_int("e2ee_enabled", e2ee_enabled)
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config_int` not found for this struct

error[E0599]: no method named `set_raw_config_int` found for struct `Sql` in the current scope
   --> src/imex.rs:791:10
    |
789 | /     context
790 | |         .sql
791 | |         .set_raw_config_int("backup_time", timestamp)
    | |         -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config_int` not found for this struct

error[E0599]: no method named `transaction` found for reference `&sql::Sql` in the current scope
   --> src/peerstate.rs:613:13
    |
613 |         sql.transaction(trans_fn).await
    |             ^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/peerstate.rs:639:14
    |
637 |           let contact_id = context
    |  __________________________-
638 | |             .sql
639 | |             .query_get_value(
    | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `get_raw_config_bool` found for struct `Sql` in the current scope
   --> src/imex.rs:256:21
    |
256 |     if !context.sql.get_raw_config_bool("bcc_self").await? {
    |                     ^^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `get_raw_config_bool` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/peerstate.rs:669:22
    |
667 | /                 context
668 | |                     .sql
669 | |                     .query_get_value(
    | |                     -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/contact.rs:666:14
    |
664 | /         context
665 | |             .sql
666 | |             .execute(
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/key.rs:109:10
    |
107 |       let keys = context
    |  ________________-
108 | |         .sql
109 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:119:22
    |
119 |         .filter_map(|bytes| SignedPublicKey::from_slice(&bytes).log_err(context).ok())
    |                      ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
    = note: all function arguments must have a statically known size

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/contact.rs:1024:18
     |
1022 | /             context
1023 | |                 .sql
1024 | |                 .query_map(
     | |                 -^^^^^^^^^ method not found in `sql::Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/key.rs:150:10
    |
148 |       let keys = context
    |  ________________-
149 | |         .sql
150 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/contact.rs:1079:18
     |
1077 | /             context
1078 | |                 .sql
1079 | |                 .query_map(
     | |                 -^^^^^^^^^ method not found in `sql::Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:160:22
    |
160 |         .filter_map(|bytes| SignedSecretKey::from_slice(&bytes).log_err(context).ok())
    |                      ^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
    = note: all function arguments must have a statically known size

error[E0599]: no method named `transaction` found for struct `sql::Sql` in the current scope
    --> src/contact.rs:1119:14
     |
1117 | /         context
1118 | |             .sql
1119 | |             .transaction(move |transaction| {
     | |             -^^^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `transaction` not found for this struct

error[E0599]: `sql::Sql` is not an iterator
    --> src/contact.rs:1157:14
     |
1155 |           let count = context
     |  _____________________-
1156 | |             .sql
1157 | |             .count(
     | |             -^^^^^ `sql::Sql` is not an iterator
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: no method named `query_row_optional` found for struct `Sql` in the current scope
   --> src/key.rs:252:10
    |
250 |       let res = context
    |  _______________-
251 | |         .sql
252 | |         .query_row_optional(
    | |         -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:265:21
    |
265 |     Ok(if let Some((pub_bytes, sec_bytes)) = res {
    |                     ^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:250:15
    |
250 |       let res = context
    |  _______________^
251 | |         .sql
252 | |         .query_row_optional(
253 | |             "SELECT public_key, private_key
...   |
262 | |         )
263 | |         .await?;
    | |_______________^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
    = note: only the last element of a tuple may have a dynamically sized type

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:265:32
    |
265 |     Ok(if let Some((pub_bytes, sec_bytes)) = res {
    |                                ^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `[u8]`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
   --> src/key.rs:265:15
    |
265 |     Ok(if let Some((pub_bytes, sec_bytes)) = res {
    |               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: within `([u8], [u8])`, the trait `Sized` is not implemented for `[u8]`, which is required by `(_, _): Sized`
    = note: required because it appears within the type `([u8], [u8])`
note: required by a bound in `std::prelude::v1::Some`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `std::prelude::v1::Some`
...
578 |     Some(#[stable(feature = "rust1", since = "1.0.0")] T),
    |     ---- required by a bound in this tuple variant

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/contact.rs:1173:14
     |
1171 |           let list = context
     |  ____________________-
1172 | |             .sql
1173 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `transaction` found for struct `Sql` in the current scope
   --> src/key.rs:308:10
    |
306 |       let new_key_id = context
    |  ______________________-
307 | |         .sql
308 | |         .transaction(|transaction| {
    | |         -^^^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `transaction` found for struct `sql::Sql` in the current scope
    --> src/contact.rs:1258:14
     |
1256 | /         context
1257 | |             .sql
1258 | |             .transaction(move |transaction| {
     | |             -^^^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/contact.rs:1296:14
     |
1294 | /         context
1295 | |             .sql
1296 | |             .execute(
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: `sql::Sql` is not an iterator
    --> src/contact.rs:1522:14
     |
1520 |           let count = context
     |  _____________________-
1521 | |             .sql
1522 | |             .count(
     | |             -^^^^^ `sql::Sql` is not an iterator
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/location.rs:280:10
    |
278 | /     context
279 | |         .sql
280 | |         .execute(
    | |         -^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/contact.rs:1715:10
     |
1713 |       if context
     |  ________-
1714 | |         .sql
1715 | |         .execute(
     | |         -^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `exists` found for struct `Sql` in the current scope
   --> src/location.rs:323:18
    |
321 | /             context
322 | |                 .sql
323 | |                 .exists(
    | |                 -^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `exists` not found for this struct
    |
help: one of the expressions' fields has a method of the same name
    |
323 |                 .dbfile.exists(
    |                  +++++++

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/contact.rs:1808:14
     |
1806 |           let mut unseen_queue: BinaryHeap<MyHeapElem> = context
     |  ________________________________________________________-
1807 | |             .sql
1808 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `exists` found for struct `Sql` in the current scope
   --> src/location.rs:332:18
    |
330 | /             context
331 | |                 .sql
332 | |                 .exists(
    | |                 -^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `exists` not found for this struct
    |
help: one of the expressions' fields has a method of the same name
    |
332 |                 .dbfile.exists(
    |                  +++++++

error[E0599]: no method named `get_raw_config_int` found for struct `sql::Sql` in the current scope
   --> src/context.rs:738:14
    |
736 |           let dbversion = self
    |  _________________________-
737 | |             .sql
738 | |             .get_raw_config_int("dbversion")
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `get_raw_config_int` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/location.rs:352:10
    |
350 |       let chats = context
    |  _________________-
351 | |         .sql
352 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/context.rs:743:14
    |
741 |           let journal_mode = self
    |  ____________________________-
742 | |             .sql
743 | |             .query_get_value("PRAGMA journal_mode;", ())
    | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: `sql::Sql` is not an iterator
   --> src/context.rs:752:36
    |
752 |         let prv_key_cnt = self.sql.count("SELECT COUNT(*) FROM keypairs;", ()).await?;
    |                                    ^^^^^ `sql::Sql` is not an iterator
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
    |
    = note: the following trait bounds were not satisfied:
            `sql::Sql: Iterator`
            which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
    |
75  | pub trait Iterator {
    | ^^^^^^^^^^^^^^^^^^
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following trait defines an item `count`, perhaps you need to implement it:
            candidate #1: `Iterator`

error[E0599]: `sql::Sql` is not an iterator
   --> src/context.rs:756:14
    |
754 |           let pub_key_cnt = self
    |  ___________________________-
755 | |             .sql
756 | |             .count("SELECT COUNT(*) FROM acpeerstates;", ())
    | |             -^^^^^ `sql::Sql` is not an iterator
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
    |
    = note: the following trait bounds were not satisfied:
            `sql::Sql: Iterator`
            which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
    |
75  | pub trait Iterator {
    | ^^^^^^^^^^^^^^^^^^
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following trait defines an item `count`, perhaps you need to implement it:
            candidate #1: `Iterator`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/location.rs:366:21
    |
366 |         context.sql.execute(
    |         ------------^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config_int` found for struct `sql::Sql` in the current scope
   --> src/context.rs:768:14
    |
766 |           let folders_configured = self
    |  __________________________________-
767 | |             .sql
768 | |             .get_raw_config_int(constants::DC_FOLDERS_CONFIGURED_KEY)
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `get_raw_config_int` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/location.rs:415:10
    |
413 |       let list = context
    |  ________________-
414 | |         .sql
415 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/location.rs:476:17
    |
476 |     context.sql.execute("DELETE FROM locations;", ()).await?;
    |                 ^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/context.rs:993:14
    |
991 |           let num_msgs: u32 = self
    |  _____________________________-
992 | |             .sql
993 | |             .query_get_value(
    | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/location.rs:513:10
    |
511 | /     context
512 | |         .sql
513 | |         .execute(
    | |         -^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/location.rs:523:17
    |
523 |     context.sql.execute("
    |     ------------^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
    --> src/context.rs:1003:14
     |
1001 |           let num_chats: u32 = self
     |  ______________________________-
1002 | |             .sql
1003 | |             .query_get_value("SELECT COUNT(*) FROM chats WHERE id>9 AND blocked!=1", ())
     | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_row` found for struct `Sql` in the current scope
   --> src/location.rs:539:89
    |
539 |     let (locations_send_begin, locations_send_until, locations_last_sent) = context.sql.query_row(
    |                                                                             ------------^^^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `query_row` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/context.rs:1025:14
     |
1023 |           let chats = self
     |  _____________________-
1024 | |             .sql
1025 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/location.rs:561:14
    |
559 | /         context
560 | |             .sql
561 | |             .query_map(
    | |             -^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/location.rs:645:10
    |
643 | /     context
644 | |         .sql
645 | |         .execute(
    | |         -^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/context.rs:1151:14
     |
1149 |           let list = self
     |  ____________________-
1150 | |             .sql
1151 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/location.rs:657:10
    |
655 | /     context
656 | |         .sql
657 | |         .execute(
    | |         -^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_row` found for struct `sql::Sql` in the current scope
    --> src/context.rs:1194:22
     |
1193 | /                 self.sql
1194 | |                     .query_row(
     | |                     -^^^^^^^^^ method not found in `sql::Sql`
     | |_____________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_row` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/location.rs:778:10
    |
776 |       let rows = context
    |  ________________-
777 | |         .sql
778 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/context.rs:1208:14
     |
1206 |           let list = self
     |  ____________________-
1207 | |             .sql
1208 | |             .query_map(
     | |             -^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `exists` found for struct `Sql` in the current scope
   --> src/location.rs:808:18
    |
806 |               let has_locations = context
    |  _________________________________-
807 | |                 .sql
808 | |                 .exists(
    | |                 -^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `exists` not found for this struct
    |
help: one of the expressions' fields has a method of the same name
    |
808 |                 .dbfile.exists(
    |                  +++++++

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/location.rs:863:18
    |
861 | /             context
862 | |                 .sql
863 | |                 .execute(
    | |                 -^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/context.rs:1269:18
     |
1268 | /             self.sql
1269 | |                 .query_map(
     | |                 -^^^^^^^^^ method not found in `sql::Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `set_raw_config` found for reference `&Sql` in the current scope
   --> src/login_param.rs:213:13
    |
213 |         sql.set_raw_config(key, Some(&self.imap.server)).await?;
    |             ^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/context.rs:1302:18
     |
1301 | /             self.sql
1302 | |                 .query_map(
     | |                 -^^^^^^^^^ method not found in `sql::Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `set_raw_config_int` found for reference `&Sql` in the current scope
   --> src/login_param.rs:216:13
    |
216 |         sql.set_raw_config_int(key, i32::from(self.imap.port))
    |             ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
  --> src/download.rs:93:22
   |
91 | /                 context
92 | |                     .sql
93 | |                     .execute("INSERT INTO download (msg_id) VALUES (?)", (self,))
   | |                     -^^^^^^^ method not found in `sql::Sql`
   | |_____________________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `execute` not found for this struct
   |
   = help: items from traits can only be used if the trait is implemented and in scope
   = note: the following traits define an item `execute`, perhaps you need to implement one of them:
           candidate #1: `hyper::rt::Executor`
           candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config` found for reference `&Sql` in the current scope
   --> src/login_param.rs:220:13
    |
220 |         sql.set_raw_config(key, Some(&self.imap.user)).await?;
    |             ^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `set_raw_config` found for reference `&Sql` in the current scope
   --> src/login_param.rs:223:13
    |
223 |         sql.set_raw_config(key, Some(&self.imap.password)).await?;
    |             ^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/download.rs:109:14
    |
107 | /         context
108 | |             .sql
109 | |             .execute(
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config_int` found for reference `&Sql` in the current scope
   --> src/login_param.rs:226:13
    |
226 |         sql.set_raw_config_int(key, self.imap.security as i32)
    |             ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
   --> src/download.rs:141:10
    |
139 |       let row = context
    |  _______________-
140 | |         .sql
141 | |         .query_row_optional(
    | |         -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `set_raw_config_int` found for reference `&Sql` in the current scope
   --> src/login_param.rs:230:13
    |
230 |         sql.set_raw_config_int(key, self.imap.certificate_checks as i32)
    |             ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `set_raw_config` found for reference `&Sql` in the current scope
   --> src/login_param.rs:234:13
    |
234 |         sql.set_raw_config(key, Some(&self.smtp.server)).await?;
    |             ^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
   --> src/key.rs:127:10
    |
125 |       let private_key = context
    |  _______________________-
126 | |         .sql
127 | |         .query_row_optional(
    | |         -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `set_raw_config_int` found for reference `&Sql` in the current scope
   --> src/login_param.rs:237:13
    |
237 |         sql.set_raw_config_int(key, i32::from(self.smtp.port))
    |             ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `set_raw_config` found for reference `&Sql` in the current scope
   --> src/login_param.rs:241:13
    |
241 |         sql.set_raw_config(key, Some(&self.smtp.user)).await?;
    |             ^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/ephemeral.rs:197:14
    |
195 | /         context
196 | |             .sql
197 | |             .execute(
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config` found for reference `&Sql` in the current scope
   --> src/login_param.rs:244:13
    |
244 |         sql.set_raw_config(key, Some(&self.smtp.password)).await?;
    |             ^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/ephemeral.rs:293:14
    |
291 |           let res = match context
    |  _________________________-
292 | |             .sql
293 | |             .query_get_value("SELECT ephemeral_timer FROM msgs WHERE id=?", (self,))
    | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `set_raw_config_int` found for reference `&Sql` in the current scope
   --> src/login_param.rs:247:13
    |
247 |         sql.set_raw_config_int(key, self.smtp.security as i32)
    |             ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/ephemeral.rs:309:18
    |
307 | /             context
308 | |                 .sql
309 | |                 .execute(
    | |                 -^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config_int` found for reference `&Sql` in the current scope
   --> src/login_param.rs:251:13
    |
251 |         sql.set_raw_config_int(key, self.smtp.certificate_checks as i32)
    |             ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `set_raw_config_int` found for reference `&Sql` in the current scope
   --> src/login_param.rs:260:13
    |
260 |         sql.set_raw_config_int(key, server_flags).await?;
    |             ^^^^^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/ephemeral.rs:329:10
    |
327 |       let count = context
    |  _________________-
328 | |         .sql
329 | |         .execute(
    | |         -^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config` found for reference `&Sql` in the current scope
   --> src/login_param.rs:264:17
    |
264 |             sql.set_raw_config(key, Some(provider.id)).await?;
    |                 ^^^^^^^^^^^^^^ method not found in `&Sql`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/ephemeral.rs:359:10
    |
357 |       let mut rows = context
    |  ____________________-
358 | |         .sql
359 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
  --> src/message.rs:83:14
   |
81 |           let result = context
   |  ______________________-
82 | |             .sql
83 | |             .query_get_value("SELECT state FROM msgs WHERE id=?", (self,))
   | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
   | |_____________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
  --> src/message.rs:92:14
   |
90 |           let res: Option<String> = context
   |  ___________________________________-
91 | |             .sql
92 | |             .query_get_value("SELECT param FROM msgs WHERE id=?", (self,))
   | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
   | |_____________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/ephemeral.rs:394:14
    |
392 |           let rows_expired = context
    |  ____________________________-
393 | |             .sql
394 | |             .query_map(
    | |             -^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/message.rs:109:14
    |
107 | /         context
108 | |             .sql
109 | |             .execute(
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `transaction` found for struct `sql::Sql` in the current scope
   --> src/ephemeral.rs:441:14
    |
439 |           let (msgs_changed, webxdc_deleted) = context
    |  ______________________________________________-
440 | |             .sql
441 | |             .transaction(|transaction| {
    | |             -^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/message.rs:148:14
    |
146 |           let chat_id: ChatId = context
    |  _______________________________-
147 | |             .sql
148 | |             .query_get_value("SELECT chat_id FROM msgs WHERE id=?", (self,))
    | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/ephemeral.rs:506:14
    |
504 |           let oldest_message_timestamp: Option<i64> = context
    |  _____________________________________________________-
505 | |             .sql
506 | |             .query_get_value(
    | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/message.rs:171:14
    |
169 |           Ok(context
    |  ____________-
170 | |             .sql
171 | |             .query_get_value("SELECT txt_raw FROM msgs WHERE id=?", (self,))
    | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/message.rs:183:14
    |
181 | /         context
182 | |             .sql
183 | |             .query_map(
    | |             -^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/ephemeral.rs:531:10
    |
529 |       let ephemeral_timestamp: Option<i64> = match context
    |  __________________________________________________-
530 | |         .sql
531 | |         .query_get_value(
    | |         -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/location.rs:493:10
    |
491 |       let deleted = context
    |  ___________________-
492 | |         .sql
493 | |         .execute(
    | |         -^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/message.rs:203:14
    |
201 | /         context
202 | |             .sql
203 | |             .query_get_value("SELECT hop_info FROM msgs WHERE id=?", (self,))
    | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/ephemeral.rs:670:10
    |
668 | /     context
669 | |         .sql
670 | |         .execute(
    | |         -^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/message.rs:254:14
    |
252 |           if let Ok(rows) = context
    |  ___________________________-
253 | |             .sql
254 | |             .query_map(
    | |             -^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
    --> src/ephemeral.rs:1148:18
     |
1146 |               let rawtxt: Option<String> = t
     |  __________________________________________-
1147 | |                 .sql
1148 | |                 .query_get_value("SELECT txt_raw FROM msgs WHERE id=?;", (msg_id,))
     | |                 -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: `sql::Sql` is not an iterator
    --> src/ephemeral.rs:1189:22
     |
1187 | /                 context
1188 | |                     .sql
1189 | |                     .count(
     | |                     -^^^^^ `sql::Sql` is not an iterator
     | |_____________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/message.rs:1220:14
     |
1218 | /         context
1219 | |             .sql
1220 | |             .execute(
     | |             -^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/message.rs:1358:10
     |
1356 | /     context
1357 | |         .sql
1358 | |         .query_map(
     | |         -^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_row` found for struct `Sql` in the current scope
    --> src/message.rs:1468:10
     |
1466 |       let (headers, compressed) = context
     |  _________________________________-
1467 | |         .sql
1468 | |         .query_row(
     | |         -^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_row` not found for this struct

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/message.rs:1466:10
     |
1466 |     let (headers, compressed) = context
     |          ^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/ephemeral.rs:1202:18
     |
1200 | /             context
1201 | |                 .sql
1202 | |                 .execute("DELETE FROM imap WHERE rfc724_mid=?", (id.to_string(),))
     | |                 -^^^^^^^ method not found in `sql::Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0277]: the size for values of type `[u8]` cannot be known at compilation time
    --> src/message.rs:1466:33
     |
1466 |       let (headers, compressed) = context
     |  _________________________________^
1467 | |         .sql
1468 | |         .query_row(
1469 | |             "SELECT mime_headers, mime_compressed FROM msgs WHERE id=?",
...    |
1476 | |         )
1477 | |         .await?;
     | |_______________^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `[u8]`
     = note: only the last element of a tuple may have a dynamically sized type

error[E0599]: no method named `clone` found for slice `[u8]` in the current scope
    --> src/message.rs:1482:28
     |
1482 |     let headers2 = headers.clone();
     |                            ^^^^^ method not found in `[u8]`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/imap.rs:913:14
    |
911 | /         context
912 | |             .sql
913 | |             .execute(
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0308]: mismatched types
    --> src/message.rs:1486:23
     |
1486 |             return Ok(headers);
     |                    -- ^^^^^^^- help: try using a conversion method: `.to_vec()`
     |                    |  |
     |                    |  expected `Vec<u8>`, found `[u8]`
     |                    arguments to this enum variant are incorrect
     |
     = note: expected struct `Vec<u8>`
                 found slice `[u8]`
help: the type constructed contains `[u8]` due to the type of the argument passed
    --> src/message.rs:1486:20
     |
1486 |             return Ok(headers);
     |                    ^^^-------^
     |                       |
     |                       this argument influences the type of `Ok`
note: tuple variant defined here
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/result.rs:506:5
     |
506  |     Ok(#[stable(feature = "rust1", since = "1.0.0")] T),
     |     ^^

error[E0308]: mismatched types
    --> src/message.rs:1512:8
     |
1512 |     Ok(headers)
     |     -- ^^^^^^^- help: try using a conversion method: `.to_vec()`
     |     |  |
     |     |  expected `Vec<u8>`, found `[u8]`
     |     arguments to this enum variant are incorrect
     |
     = note: expected struct `Vec<u8>`
                 found slice `[u8]`
help: the type constructed contains `[u8]` due to the type of the argument passed
    --> src/message.rs:1512:5
     |
1512 |     Ok(headers)
     |     ^^^-------^
     |        |
     |        this argument influences the type of `Ok`
note: tuple variant defined here
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/result.rs:506:5
     |
506  |     Ok(#[stable(feature = "rust1", since = "1.0.0")] T),
     |     ^^

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/imap.rs:944:26
    |
942 | /                     context
943 | |                         .sql
944 | |                         .execute(
    | |                         -^^^^^^^ method not found in `sql::Sql`
    | |_________________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config` found for struct `Sql` in the current scope
   --> src/debug_logging.rs:138:18
    |
137 | /             ctx.sql
138 | |                 .set_raw_config(
    | |                 -^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `set_raw_config` found for struct `Sql` in the current scope
   --> src/debug_logging.rs:170:18
    |
169 | /             ctx.sql
170 | |                 .set_raw_config(Config::DebugLogging.as_ref(), None)
    | |                 -^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/imap.rs:998:14
    |
996 | /         context
997 | |             .sql
998 | |             .execute(
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/message.rs:1606:10
     |
1604 |       let msgs = context
     |  ________________-
1605 | |         .sql
1606 | |         .query_map(
     | |         -^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/message.rs:1663:9
     |
1663 |         curr_rfc724_mid,
     |         ^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
     = note: all local variables must have a statically known size
     = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/message.rs:1666:10
     |
1666 |     ) in msgs
     |          ^^^^ doesn't have a size known at compile-time
     |
     = help: the trait `Sized` is not implemented for `str`
     = note: only the last element of a tuple may have a dynamically sized type

error[E0599]: no method named `set_raw_config_int` found for struct `sql::Sql` in the current scope
    --> src/imap.rs:1665:14
     |
1663 | /         context
1664 | |             .sql
1665 | |             .set_raw_config_int(
     | |             -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `set_raw_config_int` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/message.rs:1691:26
     |
1689 | /                     context
1690 | |                         .sql
1691 | |                         .execute(
     | |                         -^^^^^^^ method not found in `Sql`
     | |_________________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/message.rs:1693:29
     |
1693 | ...                   (id, curr_from_id, curr_rfc724_mid),
     |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: within `(MsgId, _, str)`, the trait `Sized` is not implemented for `str`, which is required by `(MsgId, _, str): Sized`
     = note: required because it appears within the type `(MsgId, _, str)`
     = note: tuples must have a statically known size to be initialized

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/message.rs:1757:10
     |
1755 | /     context
1756 | |         .sql
1757 | |         .execute(
     | |         -^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/imap.rs:2209:10
     |
2207 | /     context
2208 | |         .sql
2209 | |         .execute(
     | |         -^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: `Sql` is not an iterator
    --> src/message.rs:1776:10
     |
1774 |       match context
     |  ___________-
1775 | |         .sql
1776 | |         .count(
     | |         -^^^^^ `Sql` is not an iterator
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `Sql: Iterator`
             which is required by `&mut Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: `Sql` is not an iterator
    --> src/message.rs:1796:10
     |
1794 |       match context
     |  ___________-
1795 | |         .sql
1796 | |         .count(
     | |         -^^^^^ `Sql` is not an iterator
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `Sql: Iterator`
             which is required by `&mut Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: `Sql` is not an iterator
    --> src/message.rs:1840:14
     |
1838 | /         context
1839 | |             .sql
1840 | |             .count(
     | |             -^^^^^ `Sql` is not an iterator
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `Sql: Iterator`
             which is required by `&mut Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: `Sql` is not an iterator
    --> src/message.rs:1853:14
     |
1851 | /         context
1852 | |             .sql
1853 | |             .count(
     | |             -^^^^^ `Sql` is not an iterator
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `Sql: Iterator`
             which is required by `&mut Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/mimefactory.rs:172:18
    |
170 | /             context
171 | |                 .sql
172 | |                 .query_map(
    | |                 -^^^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/mimefactory.rs:186:44
    |
186 | ...                   let (authname, addr, id) = row?;
    |                                      ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/imap.rs:2226:10
     |
2224 | /     context
2225 | |         .sql
2226 | |         .execute(
     | |         -^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/mimefactory.rs:186:56
    |
186 | ...                   let (authname, addr, id) = row?;
    |                                                  ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: only the last element of a tuple may have a dynamically sized type

error[E0308]: mismatched types
   --> src/mimefactory.rs:188:60
    |
188 | ...                   recipients.push((authname, addr));
    |                                                  ^^^^- help: try using a conversion method: `.to_string()`
    |                                                  |
    |                                                  expected `String`, found `str`

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
    --> src/imap.rs:2243:10
     |
2241 |       Ok(context
     |  ________-
2242 | |         .sql
2243 | |         .query_get_value("SELECT uid_next FROM imap_sync WHERE folder=?;", (folder,))
     | |         -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_row` found for struct `Sql` in the current scope
   --> src/mimefactory.rs:208:14
    |
206 |           let (in_reply_to, references) = context
    |  _________________________________________-
207 | |             .sql
208 | |             .query_row(
    | |             -^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row` not found for this struct

error[E0599]: no method named `query_row_optional` found for struct `Sql` in the current scope
    --> src/mimeparser.rs:2143:10
     |
2141 |       let Some((msg_id, chat_id, msg_state)) = context
     |  ______________________________________________-
2142 | |         .sql
2143 | |         .query_row_optional(
     | |         -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/imap.rs:2255:10
     |
2253 | /     context
2254 | |         .sql
2255 | |         .execute(
     | |         -^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `exists` found for struct `Sql` in the current scope
    --> src/mimeparser.rs:2172:10
     |
2170 |       if !context
     |  _________-
2171 | |         .sql
2172 | |         .exists(
     | |         -^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
2172 |         .dbfile.exists(
     |          +++++++

error[E0599]: no method named `get_raw_config` found for struct `sql::Sql` in the current scope
    --> src/imap.rs:2310:38
     |
2310 |     if let Some(entry) = context.sql.get_raw_config(&key).await? {
     |                                      ^^^^^^^^^^^^^^ method not found in `sql::Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `get_raw_config` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/mimeparser.rs:2180:14
     |
2178 | /         context
2179 | |             .sql
2180 | |             .execute(
     | |             -^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/mimeparser.rs:2214:10
     |
2212 |       let msgs: Vec<_> = context
     |  ________________________-
2213 | |         .sql
2214 | |         .query_map(
     | |         -^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/imex.rs:679:10
    |
677 |       let keys = context
    |  ________________-
678 | |         .sql
679 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
    --> src/mimeparser.rs:1749:18
     |
1747 | /             context
1748 | |                 .sql
1749 | |                 .query_get_value("SELECT timestamp FROM msgs WHERE rfc724_mid=?", (field,))
     | |                 -^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `set_raw_config_int` found for struct `sql::Sql` in the current scope
   --> src/imex.rs:312:14
    |
310 | /         context
311 | |             .sql
312 | |             .set_raw_config_int("e2ee_enabled", e2ee_enabled)
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config_int` not found for this struct

error[E0599]: no method named `set_raw_config` found for struct `Sql` in the current scope
  --> src/oauth2.rs:68:14
   |
66 | /         context
67 | |             .sql
68 | |             .set_raw_config("oauth2_pending_redirect_uri", Some(redirect_uri))
   | |             -^^^^^^^^^^^^^^ method not found in `Sql`
   | |_____________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `get_raw_config_int64` found for struct `Sql` in the current scope
   --> src/oauth2.rs:335:10
    |
333 |       let expire_timestamp = context
    |  ____________________________-
334 | |         .sql
335 | |         .get_raw_config_int64("oauth2_timestamp_expires")
    | |         -^^^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `get_raw_config_int64` not found for this struct

error[E0599]: no method named `set_raw_config_int` found for struct `sql::Sql` in the current scope
   --> src/imex.rs:791:10
    |
789 | /     context
790 | |         .sql
791 | |         .set_raw_config_int("backup_time", timestamp)
    | |         -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config_int` not found for this struct

error[E0599]: no method named `exists` found for struct `Sql` in the current scope
   --> src/token.rs:109:10
    |
107 |       let exists = context
    |  __________________-
108 | |         .sql
109 | |         .exists(
    | |         -^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `exists` not found for this struct
    |
help: one of the expressions' fields has a method of the same name
    |
109 |         .dbfile.exists(
    |          +++++++

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/token.rs:139:10
    |
137 | /     context
138 | |         .sql
139 | |         .execute(
    | |         -^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config_bool` found for struct `sql::Sql` in the current scope
   --> src/imex.rs:256:21
    |
256 |     if !context.sql.get_raw_config_bool("bcc_self").await? {
    |                     ^^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `get_raw_config_bool` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
  --> src/token.rs:36:14
   |
34 |           Some(foreign_id) => context
   |  _____________________________-
35 | |             .sql
36 | |             .execute(
   | |             -^^^^^^^ method not found in `Sql`
   | |_____________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `execute` not found for this struct
   |
   = help: items from traits can only be used if the trait is implemented and in scope
   = note: the following traits define an item `execute`, perhaps you need to implement one of them:
           candidate #1: `hyper::rt::Executor`
           candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
  --> src/token.rs:44:18
   |
42 | /             context
43 | |                 .sql
44 | |                 .execute(
   | |                 -^^^^^^^ method not found in `Sql`
   | |_________________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `execute` not found for this struct
   |
   = help: items from traits can only be used if the trait is implemented and in scope
   = note: the following traits define an item `execute`, perhaps you need to implement one of them:
           candidate #1: `hyper::rt::Executor`
           candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/key.rs:109:10
    |
107 |       let keys = context
    |  ________________-
108 | |         .sql
109 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `transaction` found for struct `Sql` in the current scope
   --> src/securejoin/bobstate.rs:141:14
    |
139 | /         context
140 | |             .sql
141 | |             .transaction(move |transaction| {
    | |             -^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/key.rs:150:10
    |
148 |       let keys = context
    |  ________________-
149 | |         .sql
150 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for reference `&Sql` in the current scope
   --> src/securejoin/bobstate.rs:227:21
    |
227 |                 sql.execute(
    |                 ----^^^^^^^ method not found in `&Sql`
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for reference `&Sql` in the current scope
   --> src/securejoin/bobstate.rs:234:21
    |
234 |                 sql.execute("DELETE FROM bobstate WHERE id=?;", (self.id,))
    |                     ^^^^^^^ method not found in `&Sql`
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
   --> src/key.rs:252:10
    |
250 |       let res = context
    |  _______________-
251 | |         .sql
252 | |         .query_row_optional(
    | |         -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `query_row_optional` found for struct `Sql` in the current scope
   --> src/token.rs:124:10
    |
122 |       let chat_id: Option<ChatId> = context
    |  ___________________________________-
123 | |         .sql
124 | |         .query_row_optional(
    | |         -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/smtp.rs:798:21
    |
798 |         context.sql.execute("DELETE FROM smtp_mdns", []).await?;
    |                     ^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/location.rs:280:10
    |
278 | /     context
279 | |         .sql
280 | |         .execute(
    | |         -^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/smtp.rs:805:10
    |
803 | /     context
804 | |         .sql
805 | |         .execute("DELETE FROM smtp_mdns WHERE retries > 6", [])
    | |         -^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
   --> src/location.rs:323:18
    |
321 | /             context
322 | |                 .sql
323 | |                 .exists(
    | |                 -^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `exists` not found for this struct
    |
help: one of the expressions' fields has a method of the same name
    |
323 |                 .dbfile.exists(
    |                  +++++++

error[E0599]: no method named `query_row_optional` found for struct `Sql` in the current scope
   --> src/smtp.rs:809:10
    |
807 |       let Some(msg_row) = context
    |  _________________________-
808 | |         .sql
809 | |         .query_row_optional(
    | |         -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/smtp.rs:826:10
    |
824 | /     context
825 | |         .sql
826 | |         .execute(
    | |         -^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
   --> src/location.rs:332:18
    |
330 | /             context
331 | |                 .sql
332 | |                 .exists(
    | |                 -^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `exists` not found for this struct
    |
help: one of the expressions' fields has a method of the same name
    |
332 |                 .dbfile.exists(
    |                  +++++++

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/smtp.rs:843:14
    |
841 | /         context
842 | |             .sql
843 | |             .execute("DELETE FROM smtp_mdns WHERE msg_id = ?", (msg_id,))
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/location.rs:352:10
    |
350 |       let chats = context
    |  _________________-
351 | |         .sql
352 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/smtp.rs:737:10
    |
735 |       let (additional_msg_ids, additional_rfc724_mids): (Vec<MsgId>, Vec<String>) = context
    |  ___________________________________________________________________________________-
736 | |         .sql
737 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/smtp.rs:768:18
    |
766 | /             context
767 | |                 .sql
768 | |                 .execute("DELETE FROM smtp_mdns WHERE msg_id = ?", (msg_id,))
    | |                 -^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/location.rs:366:21
    |
366 |         context.sql.execute(
    |         ------------^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/smtp.rs:777:22
    |
775 | /                 context
776 | |                     .sql
777 | |                     .execute(&q, rusqlite::params_from_iter(additional_msg_ids))
    | |                     -^^^^^^^ method not found in `Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/location.rs:415:10
    |
413 |       let list = context
    |  ________________-
414 | |         .sql
415 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `get_raw_config_bool` found for struct `Sql` in the current scope
    --> src/stock_str.rs:1438:22
     |
1438 |         if !self.sql.get_raw_config_bool("self-chat-added").await? {
     |                      ^^^^^^^^^^^^^^^^^^^ method not found in `Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `get_raw_config_bool` not found for this struct

error[E0599]: no method named `set_raw_config_bool` found for struct `Sql` in the current scope
    --> src/stock_str.rs:1440:18
     |
1439 | /             self.sql
1440 | |                 .set_raw_config_bool("self-chat-added", true)
     | |                 -^^^^^^^^^^^^^^^^^^^ method not found in `Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `set_raw_config_bool` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/location.rs:476:17
    |
476 |     context.sql.execute("DELETE FROM locations;", ()).await?;
    |                 ^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/sync.rs:245:14
    |
244 | /         self.sql
245 | |             .execute(
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/location.rs:513:10
    |
511 | /     context
512 | |         .sql
513 | |         .execute(
    | |         -^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `transaction` found for struct `Sql` in the current scope
  --> src/update_helper.rs:21:14
   |
20 | /         self.sql
21 | |             .transaction(|transaction| {
   | |             -^^^^^^^^^^^ method not found in `Sql`
   | |_____________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/location.rs:523:17
    |
523 |     context.sql.execute("
    |     ------------^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `transaction` found for struct `Sql` in the current scope
  --> src/update_helper.rs:54:14
   |
52 | /         context
53 | |             .sql
54 | |             .transaction(|transaction| {
   | |             -^^^^^^^^^^^ method not found in `Sql`
   | |_____________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `query_row_optional` found for struct `Sql` in the current scope
   --> src/webxdc.rs:260:14
    |
258 |           if let Some((last_msg_id, last_from_id, last_param, last_in_repl_to)) = self
    |  _________________________________________________________________________________-
259 | |             .sql
260 | |             .query_row_optional(
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `query_row` found for struct `sql::Sql` in the current scope
   --> src/location.rs:539:89
    |
539 |     let (locations_send_begin, locations_send_until, locations_last_sent) = context.sql.query_row(
    |                                                                             ------------^^^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `query_row` not found for this struct

error[E0599]: no method named `transaction` found for struct `Sql` in the current scope
   --> src/webxdc.rs:402:36
    |
402 |         let Some(rowid) = self.sql.transaction(trans_fn).await? else {
    |                                    ^^^^^^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `transaction` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/location.rs:561:14
    |
559 | /         context
560 | |             .sql
561 | |             .query_map(
    | |             -^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/webxdc.rs:418:14
    |
417 | /         self.sql
418 | |             .query_get_value(
    | |             -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `insert` found for struct `Sql` in the current scope
   --> src/webxdc.rs:497:22
    |
497 |             self.sql.insert(
    |             ---------^^^^^^ method not found in `Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `insert` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `insert`, perhaps you need to implement one of them:
            candidate #1: `bitflags::traits::Flags`
            candidate #2: `ppv_lite86::types::Vec2`
            candidate #3: `ppv_lite86::types::Vec4`
            candidate #4: `toml_edit::table::TableLike`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/location.rs:645:10
    |
643 | /     context
644 | |         .sql
645 | |         .execute(
    | |         -^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_row_optional` found for struct `Sql` in the current scope
   --> src/webxdc.rs:516:14
    |
514 |           let res = self
    |  ___________________-
515 | |             .sql
516 | |             .query_row_optional(
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/location.rs:657:10
    |
655 | /     context
656 | |         .sql
657 | |         .execute(
    | |         -^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/webxdc.rs:706:14
    |
704 |           let json = self
    |  ____________________-
705 | |             .sql
706 | |             .query_map(
    | |             -^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/webxdc.rs:717:29
    |
717 |                         let update_item = row?;
    |                             ^^^^^^^^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/webxdc.rs:717:43
    |
717 |                         let update_item = row?;
    |                                           ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all local variables must have a statically known size
    = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/webxdc.rs:717:43
    |
717 |                         let update_item = row?;
    |                                           ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `ControlFlow`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `ControlFlow`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/webxdc.rs:717:46
    |
717 |                         let update_item = row?;
    |                                              ^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `Break`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/ops/control_flow.rs:85:25
    |
85  | pub enum ControlFlow<B, C = ()> {
    |                         ^^^^^^ required by this bound in `Break`
...
93  |     Break(B),
    |     ----- required by a bound in this variant

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/webxdc.rs:602:18
    |
600 |               let chat_type: Chattype = self
    |  _______________________________________-
601 | |                 .sql
602 | |                 .query_get_value("SELECT type FROM chats WHERE id=?", (chat_id,))
    | |                 -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/location.rs:778:10
    |
776 |       let rows = context
    |  ________________-
777 | |         .sql
778 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/webxdc.rs:647:14
    |
645 |           let json = self
    |  ____________________-
646 | |             .sql
647 | |             .query_map(
    | |             -^^^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
   --> src/location.rs:808:18
    |
806 |               let has_locations = context
    |  _________________________________-
807 | |                 .sql
808 | |                 .exists(
    | |                 -^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `exists` not found for this struct
    |
help: one of the expressions' fields has a method of the same name
    |
808 |                 .dbfile.exists(
    |                  +++++++

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
  --> src/net.rs:77:14
   |
75 | /         context
76 | |             .sql
77 | |             .execute(
   | |             -^^^^^^^ method not found in `Sql`
   | |_____________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `execute` not found for this struct
   |
   = help: items from traits can only be used if the trait is implemented and in scope
   = note: the following traits define an item `execute`, perhaps you need to implement one of them:
           candidate #1: `hyper::rt::Executor`
           candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/location.rs:863:18
    |
861 | /             context
862 | |                 .sql
863 | |                 .execute(
    | |                 -^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
  --> src/net.rs:91:14
   |
89 |           for cached_address in context
   |  _______________________________-
90 | |             .sql
91 | |             .query_map(
   | |             -^^^^^^^^^ method not found in `Sql`
   | |_____________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `query_map` not found for this struct

error[E0277]: the size for values of type `str` cannot be known at compilation time
  --> src/net.rs:89:13
   |
89 |         for cached_address in context
   |             ^^^^^^^^^^^^^^ doesn't have a size known at compile-time
   |
   = help: the trait `Sized` is not implemented for `str`
   = note: all local variables must have a statically known size
   = help: unsized locals are gated as an unstable feature

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/net.rs:89:31
    |
89  |           for cached_address in context
    |  _______________________________^
90  | |             .sql
91  | |             .query_map(
92  | |                 "SELECT address
...   |
106 | |             )
107 | |             .await?
    | |___________________^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::option::Option`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `Option`

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/net.rs:89:9
    |
89  | /         for cached_address in context
90  | |             .sql
91  | |             .query_map(
92  | |                 "SELECT address
...   |
122 | |             }
123 | |         }
    | |_________^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
note: required by a bound in `std::prelude::v1::None`
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/option.rs:570:17
    |
570 | pub enum Option<T> {
    |                 ^ required by this bound in `Option::None`
...
574 |     None,
    |     ---- required by a bound in this variant

error[E0599]: no method named `insert` found for struct `Sql` in the current scope
   --> src/receive_imf.rs:140:10
    |
138 |       let row_id = context
    |  __________________-
139 | |         .sql
140 | |         .insert(
    | |         -^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `insert` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `insert`, perhaps you need to implement one of them:
            candidate #1: `bitflags::traits::Flags`
            candidate #2: `ppv_lite86::types::Vec2`
            candidate #3: `ppv_lite86::types::Vec4`
            candidate #4: `toml_edit::table::TableLike`

error[E0599]: no method named `set_raw_config` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:213:13
    |
213 |         sql.set_raw_config(key, Some(&self.imap.server)).await?;
    |             ^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `set_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:216:13
    |
216 |         sql.set_raw_config_int(key, i32::from(self.imap.port))
    |             ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `set_raw_config` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:220:13
    |
220 |         sql.set_raw_config(key, Some(&self.imap.user)).await?;
    |             ^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/receive_imf.rs:2121:22
     |
2119 | /                 context
2120 | |                     .sql
2121 | |                     .execute(
     | |                     -^^^^^^^ method not found in `Sql`
     | |_____________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:223:13
    |
223 |         sql.set_raw_config(key, Some(&self.imap.password)).await?;
    |             ^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
    --> src/receive_imf.rs:2431:14
     |
2429 | /         context
2430 | |             .sql
2431 | |             .execute("UPDATE chats SET name=? WHERE id=?;", (new_name, chat_id))
     | |             -^^^^^^^ method not found in `Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/peer_channels.rs:326:10
    |
324 |       let bytes: Vec<u8> = ctx
    |  __________________________-
325 | |         .sql
326 | |         .query_get_value(
    | |         -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `set_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:226:13
    |
226 |         sql.set_raw_config_int(key, self.imap.security as i32)
    |             ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/peer_channels.rs:275:10
    |
274 | /     ctx.sql
275 | |         .execute(
    | |         -^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:230:13
    |
230 |         sql.set_raw_config_int(key, self.imap.certificate_checks as i32)
    |             ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/reaction.rs:182:14
    |
180 | /         context
181 | |             .sql
182 | |             .execute(
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:234:13
    |
234 |         sql.set_raw_config(key, Some(&self.smtp.server)).await?;
    |             ^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/reaction.rs:192:14
    |
190 | /         context
191 | |             .sql
192 | |             .execute(
    | |             -^^^^^^^ method not found in `Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `Sql` in the current scope
   --> src/peer_channels.rs:286:10
    |
285 | /     ctx.sql
286 | |         .execute(
    | |         -^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `set_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:237:13
    |
237 |         sql.set_raw_config_int(key, i32::from(self.smtp.port))
    |             ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
    --> src/receive_imf.rs:2664:10
     |
2662 |       let rows = context
     |  ________________-
2663 | |         .sql
2664 | |         .query_map(
     | |         -^^^^^^^^^ method not found in `Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `set_raw_config` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:241:13
    |
241 |         sql.set_raw_config(key, Some(&self.smtp.user)).await?;
    |             ^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/peer_channels.rs:297:10
    |
296 | /     ctx.sql
297 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0277]: the size for values of type `str` cannot be known at compilation time
   --> src/peer_channels.rs:308:46
    |
308 |                     let server = server.map(|data| Ok::<_, url::ParseError>(RelayUrl::from(Url::parse(&data)?))).transpose()?;
    |                                              ^^^^ doesn't have a size known at compile-time
    |
    = help: the trait `Sized` is not implemented for `str`
    = note: all function arguments must have a statically known size

error[E0599]: no method named `set_raw_config` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:244:13
    |
244 |         sql.set_raw_config(key, Some(&self.smtp.password)).await?;
    |             ^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `query_get_value` found for struct `Sql` in the current scope
   --> src/reaction.rs:294:10
    |
292 |       let reaction_str: Option<String> = context
    |  ________________________________________-
293 | |         .sql
294 | |         .query_get_value(
    | |         -^^^^^^^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `set_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:247:13
    |
247 |         sql.set_raw_config_int(key, self.smtp.security as i32)
    |             ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `query_map` found for struct `Sql` in the current scope
   --> src/reaction.rs:311:10
    |
309 |       let reactions = context
    |  _____________________-
310 | |         .sql
311 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

warning: unused import: `Context`
 --> src/sql/migrations.rs:3:14
  |
3 | use anyhow::{Context as _, Result};
  |              ^^^^^^^
  |
note: the lint level is defined here
 --> src/lib.rs:6:5
  |
6 |     unused,
  |     ^^^^^^
  = note: `#[warn(unused_imports)]` implied by `#[warn(unused)]`

warning: unused import: `rusqlite::OptionalExtension`
  --> src/contact.rs:18:5
   |
18 | use rusqlite::OptionalExtension;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^

error[E0599]: no method named `set_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:251:13
    |
251 |         sql.set_raw_config_int(key, self.smtp.certificate_checks as i32)
    |             ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

Some errors have detailed explanations: E0277, E0308, E0599.
For more information about an error, try `rustc --explain E0277`.
warning: `deltachat` (lib) generated 2 warnings
error: could not compile `deltachat` (lib) due to 422 previous errors; 2 warnings emitted
warning: build failed, waiting for other jobs to finish...
error[E0599]: no method named `set_raw_config_int` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:260:13
    |
260 |         sql.set_raw_config_int(key, server_flags).await?;
    |             ^^^^^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `set_raw_config` found for reference `&sql::Sql` in the current scope
   --> src/login_param.rs:264:17
    |
264 |             sql.set_raw_config(key, Some(provider.id)).await?;
    |                 ^^^^^^^^^^^^^^ method not found in `&sql::Sql`

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
  --> src/message.rs:83:14
   |
81 |           let result = context
   |  ______________________-
82 | |             .sql
83 | |             .query_get_value("SELECT state FROM msgs WHERE id=?", (self,))
   | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
   | |_____________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
  --> src/message.rs:92:14
   |
90 |           let res: Option<String> = context
   |  ___________________________________-
91 | |             .sql
92 | |             .query_get_value("SELECT param FROM msgs WHERE id=?", (self,))
   | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
   | |_____________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/message.rs:109:14
    |
107 | /         context
108 | |             .sql
109 | |             .execute(
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/message.rs:148:14
    |
146 |           let chat_id: ChatId = context
    |  _______________________________-
147 | |             .sql
148 | |             .query_get_value("SELECT chat_id FROM msgs WHERE id=?", (self,))
    | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/message.rs:171:14
    |
169 |           Ok(context
    |  ____________-
170 | |             .sql
171 | |             .query_get_value("SELECT txt_raw FROM msgs WHERE id=?", (self,))
    | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/message.rs:183:14
    |
181 | /         context
182 | |             .sql
183 | |             .query_map(
    | |             -^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/message.rs:203:14
    |
201 | /         context
202 | |             .sql
203 | |             .query_get_value("SELECT hop_info FROM msgs WHERE id=?", (self,))
    | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/message.rs:254:14
    |
252 |           if let Ok(rows) = context
    |  ___________________________-
253 | |             .sql
254 | |             .query_map(
    | |             -^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/message.rs:1220:14
     |
1218 | /         context
1219 | |             .sql
1220 | |             .execute(
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/message.rs:1358:10
     |
1356 | /     context
1357 | |         .sql
1358 | |         .query_map(
     | |         -^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_row` found for struct `sql::Sql` in the current scope
    --> src/message.rs:1468:10
     |
1466 |       let (headers, compressed) = context
     |  _________________________________-
1467 | |         .sql
1468 | |         .query_row(
     | |         -^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_row` not found for this struct

error[E0599]: no method named `set_raw_config` found for struct `sql::Sql` in the current scope
   --> src/debug_logging.rs:138:18
    |
137 | /             ctx.sql
138 | |                 .set_raw_config(
    | |                 -^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `set_raw_config` found for struct `sql::Sql` in the current scope
   --> src/debug_logging.rs:170:18
    |
169 | /             ctx.sql
170 | |                 .set_raw_config(Config::DebugLogging.as_ref(), None)
    | |                 -^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/message.rs:1606:10
     |
1604 |       let msgs = context
     |  ________________-
1605 | |         .sql
1606 | |         .query_map(
     | |         -^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/message.rs:1691:26
     |
1689 | /                     context
1690 | |                         .sql
1691 | |                         .execute(
     | |                         -^^^^^^^ method not found in `sql::Sql`
     | |_________________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0277]: the size for values of type `str` cannot be known at compilation time
    --> src/message.rs:1693:29
     |
1693 | ...                   (id, curr_from_id, curr_rfc724_mid),
     |                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ doesn't have a size known at compile-time
     |
     = help: within `(message::MsgId, _, str)`, the trait `Sized` is not implemented for `str`, which is required by `(message::MsgId, _, str): Sized`
     = note: required because it appears within the type `(message::MsgId, _, str)`
     = note: tuples must have a statically known size to be initialized

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/message.rs:1757:10
     |
1755 | /     context
1756 | |         .sql
1757 | |         .execute(
     | |         -^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: `sql::Sql` is not an iterator
    --> src/message.rs:1776:10
     |
1774 |       match context
     |  ___________-
1775 | |         .sql
1776 | |         .count(
     | |         -^^^^^ `sql::Sql` is not an iterator
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: `sql::Sql` is not an iterator
    --> src/message.rs:1796:10
     |
1794 |       match context
     |  ___________-
1795 | |         .sql
1796 | |         .count(
     | |         -^^^^^ `sql::Sql` is not an iterator
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: `sql::Sql` is not an iterator
    --> src/message.rs:1840:14
     |
1838 | /         context
1839 | |             .sql
1840 | |             .count(
     | |             -^^^^^ `sql::Sql` is not an iterator
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: `sql::Sql` is not an iterator
    --> src/message.rs:1853:14
     |
1851 | /         context
1852 | |             .sql
1853 | |             .count(
     | |             -^^^^^ `sql::Sql` is not an iterator
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/mimefactory.rs:172:18
    |
170 | /             context
171 | |                 .sql
172 | |                 .query_map(
    | |                 -^^^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_row` found for struct `sql::Sql` in the current scope
   --> src/mimefactory.rs:208:14
    |
206 |           let (in_reply_to, references) = context
    |  _________________________________________-
207 | |             .sql
208 | |             .query_row(
    | |             -^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row` not found for this struct

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
    --> src/mimeparser.rs:2143:10
     |
2141 |       let Some((msg_id, chat_id, msg_state)) = context
     |  ______________________________________________-
2142 | |         .sql
2143 | |         .query_row_optional(
     | |         -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
    --> src/mimeparser.rs:2172:10
     |
2170 |       if !context
     |  _________-
2171 | |         .sql
2172 | |         .exists(
     | |         -^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
2172 |         .dbfile.exists(
     |          +++++++

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/mimeparser.rs:2180:14
     |
2178 | /         context
2179 | |             .sql
2180 | |             .execute(
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/mimeparser.rs:2214:10
     |
2212 |       let msgs: Vec<_> = context
     |  ________________________-
2213 | |         .sql
2214 | |         .query_map(
     | |         -^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
    --> src/mimeparser.rs:1749:18
     |
1747 | /             context
1748 | |                 .sql
1749 | |                 .query_get_value("SELECT timestamp FROM msgs WHERE rfc724_mid=?", (field,))
     | |                 -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `set_raw_config` found for struct `sql::Sql` in the current scope
  --> src/oauth2.rs:68:14
   |
66 | /         context
67 | |             .sql
68 | |             .set_raw_config("oauth2_pending_redirect_uri", Some(redirect_uri))
   | |             -^^^^^^^^^^^^^^ method not found in `sql::Sql`
   | |_____________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `set_raw_config` not found for this struct

error[E0599]: no method named `get_raw_config_int64` found for struct `sql::Sql` in the current scope
   --> src/oauth2.rs:335:10
    |
333 |       let expire_timestamp = context
    |  ____________________________-
334 | |         .sql
335 | |         .get_raw_config_int64("oauth2_timestamp_expires")
    | |         -^^^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `get_raw_config_int64` not found for this struct

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
   --> src/token.rs:109:10
    |
107 |       let exists = context
    |  __________________-
108 | |         .sql
109 | |         .exists(
    | |         -^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `exists` not found for this struct
    |
help: one of the expressions' fields has a method of the same name
    |
109 |         .dbfile.exists(
    |          +++++++

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/token.rs:139:10
    |
137 | /     context
138 | |         .sql
139 | |         .execute(
    | |         -^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
  --> src/token.rs:36:14
   |
34 |           Some(foreign_id) => context
   |  _____________________________-
35 | |             .sql
36 | |             .execute(
   | |             -^^^^^^^ method not found in `sql::Sql`
   | |_____________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `execute` not found for this struct
   |
   = help: items from traits can only be used if the trait is implemented and in scope
   = note: the following traits define an item `execute`, perhaps you need to implement one of them:
           candidate #1: `hyper::rt::Executor`
           candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
  --> src/token.rs:44:18
   |
42 | /             context
43 | |                 .sql
44 | |                 .execute(
   | |                 -^^^^^^^ method not found in `sql::Sql`
   | |_________________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `execute` not found for this struct
   |
   = help: items from traits can only be used if the trait is implemented and in scope
   = note: the following traits define an item `execute`, perhaps you need to implement one of them:
           candidate #1: `hyper::rt::Executor`
           candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `transaction` found for struct `sql::Sql` in the current scope
   --> src/securejoin/bobstate.rs:141:14
    |
139 | /         context
140 | |             .sql
141 | |             .transaction(move |transaction| {
    | |             -^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `execute` found for reference `&sql::Sql` in the current scope
   --> src/securejoin/bobstate.rs:227:21
    |
227 |                 sql.execute(
    |                 ----^^^^^^^ method not found in `&sql::Sql`
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for reference `&sql::Sql` in the current scope
   --> src/securejoin/bobstate.rs:234:21
    |
234 |                 sql.execute("DELETE FROM bobstate WHERE id=?;", (self.id,))
    |                     ^^^^^^^ method not found in `&sql::Sql`
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
   --> src/token.rs:124:10
    |
122 |       let chat_id: Option<ChatId> = context
    |  ___________________________________-
123 | |         .sql
124 | |         .query_row_optional(
    | |         -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/smtp.rs:798:21
    |
798 |         context.sql.execute("DELETE FROM smtp_mdns", []).await?;
    |                     ^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/smtp.rs:805:10
    |
803 | /     context
804 | |         .sql
805 | |         .execute("DELETE FROM smtp_mdns WHERE retries > 6", [])
    | |         -^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
   --> src/smtp.rs:809:10
    |
807 |       let Some(msg_row) = context
    |  _________________________-
808 | |         .sql
809 | |         .query_row_optional(
    | |         -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/smtp.rs:826:10
    |
824 | /     context
825 | |         .sql
826 | |         .execute(
    | |         -^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/smtp.rs:843:14
    |
841 | /         context
842 | |             .sql
843 | |             .execute("DELETE FROM smtp_mdns WHERE msg_id = ?", (msg_id,))
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/smtp.rs:737:10
    |
735 |       let (additional_msg_ids, additional_rfc724_mids): (Vec<MsgId>, Vec<String>) = context
    |  ___________________________________________________________________________________-
736 | |         .sql
737 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/smtp.rs:768:18
    |
766 | /             context
767 | |                 .sql
768 | |                 .execute("DELETE FROM smtp_mdns WHERE msg_id = ?", (msg_id,))
    | |                 -^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/smtp.rs:777:22
    |
775 | /                 context
776 | |                     .sql
777 | |                     .execute(&q, rusqlite::params_from_iter(additional_msg_ids))
    | |                     -^^^^^^^ method not found in `sql::Sql`
    | |_____________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `get_raw_config_bool` found for struct `sql::Sql` in the current scope
    --> src/stock_str.rs:1438:22
     |
1438 |         if !self.sql.get_raw_config_bool("self-chat-added").await? {
     |                      ^^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `get_raw_config_bool` not found for this struct

error[E0599]: no method named `set_raw_config_bool` found for struct `sql::Sql` in the current scope
    --> src/stock_str.rs:1440:18
     |
1439 | /             self.sql
1440 | |                 .set_raw_config_bool("self-chat-added", true)
     | |                 -^^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `set_raw_config_bool` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/sync.rs:245:14
    |
244 | /         self.sql
245 | |             .execute(
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `transaction` found for struct `sql::Sql` in the current scope
  --> src/update_helper.rs:21:14
   |
20 | /         self.sql
21 | |             .transaction(|transaction| {
   | |             -^^^^^^^^^^^ method not found in `sql::Sql`
   | |_____________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `transaction` found for struct `sql::Sql` in the current scope
  --> src/update_helper.rs:54:14
   |
52 | /         context
53 | |             .sql
54 | |             .transaction(|transaction| {
   | |             -^^^^^^^^^^^ method not found in `sql::Sql`
   | |_____________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `transaction` not found for this struct

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
   --> src/webxdc.rs:260:14
    |
258 |           if let Some((last_msg_id, last_from_id, last_param, last_in_repl_to)) = self
    |  _________________________________________________________________________________-
259 | |             .sql
260 | |             .query_row_optional(
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `transaction` found for struct `sql::Sql` in the current scope
   --> src/webxdc.rs:402:36
    |
402 |         let Some(rowid) = self.sql.transaction(trans_fn).await? else {
    |                                    ^^^^^^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `transaction` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/webxdc.rs:418:14
    |
417 | /         self.sql
418 | |             .query_get_value(
    | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `insert` found for struct `sql::Sql` in the current scope
   --> src/webxdc.rs:497:22
    |
497 |             self.sql.insert(
    |             ---------^^^^^^ method not found in `sql::Sql`
    |
   ::: src/sql.rs:57:1
    |
57  | pub struct Sql {
    | -------------- method `insert` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `insert`, perhaps you need to implement one of them:
            candidate #1: `bitflags::traits::Flags`
            candidate #2: `ppv_lite86::types::Vec2`
            candidate #3: `ppv_lite86::types::Vec4`
            candidate #4: `toml_edit::table::TableLike`

error[E0599]: no method named `query_row_optional` found for struct `sql::Sql` in the current scope
   --> src/webxdc.rs:516:14
    |
514 |           let res = self
    |  ___________________-
515 | |             .sql
516 | |             .query_row_optional(
    | |             -^^^^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_row_optional` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/webxdc.rs:706:14
    |
704 |           let json = self
    |  ____________________-
705 | |             .sql
706 | |             .query_map(
    | |             -^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/webxdc.rs:602:18
    |
600 |               let chat_type: Chattype = self
    |  _______________________________________-
601 | |                 .sql
602 | |                 .query_get_value("SELECT type FROM chats WHERE id=?", (chat_id,))
    | |                 -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/webxdc.rs:647:14
    |
645 |           let json = self
    |  ____________________-
646 | |             .sql
647 | |             .query_map(
    | |             -^^^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
  --> src/net.rs:77:14
   |
75 | /         context
76 | |             .sql
77 | |             .execute(
   | |             -^^^^^^^ method not found in `sql::Sql`
   | |_____________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `execute` not found for this struct
   |
   = help: items from traits can only be used if the trait is implemented and in scope
   = note: the following traits define an item `execute`, perhaps you need to implement one of them:
           candidate #1: `hyper::rt::Executor`
           candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
  --> src/net.rs:91:14
   |
89 |           for cached_address in context
   |  _______________________________-
90 | |             .sql
91 | |             .query_map(
   | |             -^^^^^^^^^ method not found in `sql::Sql`
   | |_____________|
   | 
   |
  ::: src/sql.rs:57:1
   |
57 |   pub struct Sql {
   |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `insert` found for struct `sql::Sql` in the current scope
   --> src/receive_imf.rs:140:10
    |
138 |       let row_id = context
    |  __________________-
139 | |         .sql
140 | |         .insert(
    | |         -^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `insert` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `insert`, perhaps you need to implement one of them:
            candidate #1: `bitflags::traits::Flags`
            candidate #2: `ppv_lite86::types::Vec2`
            candidate #3: `ppv_lite86::types::Vec4`
            candidate #4: `toml_edit::table::TableLike`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/receive_imf.rs:2121:22
     |
2119 | /                 context
2120 | |                     .sql
2121 | |                     .execute(
     | |                     -^^^^^^^ method not found in `sql::Sql`
     | |_____________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/receive_imf.rs:2431:14
     |
2429 | /         context
2430 | |             .sql
2431 | |             .execute("UPDATE chats SET name=? WHERE id=?;", (new_name, chat_id))
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/peer_channels.rs:326:10
    |
324 |       let bytes: Vec<u8> = ctx
    |  __________________________-
325 | |         .sql
326 | |         .query_get_value(
    | |         -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/peer_channels.rs:275:10
    |
274 | /     ctx.sql
275 | |         .execute(
    | |         -^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/reaction.rs:182:14
    |
180 | /         context
181 | |             .sql
182 | |             .execute(
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/reaction.rs:192:14
    |
190 | /         context
191 | |             .sql
192 | |             .execute(
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/peer_channels.rs:286:10
    |
285 | /     ctx.sql
286 | |         .execute(
    | |         -^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
    --> src/receive_imf.rs:2664:10
     |
2662 |       let rows = context
     |  ________________-
2663 | |         .sql
2664 | |         .query_map(
     | |         -^^^^^^^^^ method not found in `sql::Sql`
     | |_________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/peer_channels.rs:297:10
    |
296 | /     ctx.sql
297 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
   --> src/reaction.rs:294:10
    |
292 |       let reaction_str: Option<String> = context
    |  ________________________________________-
293 | |         .sql
294 | |         .query_get_value(
    | |         -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_get_value` not found for this struct

error[E0599]: no method named `query_map` found for struct `sql::Sql` in the current scope
   --> src/reaction.rs:311:10
    |
309 |       let reactions = context
    |  _____________________-
310 | |         .sql
311 | |         .query_map(
    | |         -^^^^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `query_map` not found for this struct

error[E0599]: no method named `table_exists` found for struct `sql::Sql` in the current scope
    --> src/sql.rs:1052:27
     |
57   | pub struct Sql {
     | -------------- method `table_exists` not found for this struct
...
1052 |         assert!(t.ctx.sql.table_exists("msgs").await.unwrap());
     |                           ^^^^^^^^^^^^ method not found in `sql::Sql`

error[E0599]: no method named `table_exists` found for struct `sql::Sql` in the current scope
    --> src/sql.rs:1053:28
     |
57   | pub struct Sql {
     | -------------- method `table_exists` not found for this struct
...
1053 |         assert!(!t.ctx.sql.table_exists("foobar").await.unwrap());
     |                            ^^^^^^^^^^^^ method not found in `sql::Sql`

error[E0599]: no method named `col_exists` found for struct `sql::Sql` in the current scope
    --> src/sql.rs:1059:27
     |
57   | pub struct Sql {
     | -------------- method `col_exists` not found for this struct
...
1059 |         assert!(t.ctx.sql.col_exists("msgs", "mime_modified").await.unwrap());
     |                           ^^^^^^^^^^ method not found in `sql::Sql`

error[E0599]: no method named `col_exists` found for struct `sql::Sql` in the current scope
    --> src/sql.rs:1060:28
     |
57   | pub struct Sql {
     | -------------- method `col_exists` not found for this struct
...
1060 |         assert!(!t.ctx.sql.col_exists("msgs", "foobar").await.unwrap());
     |                            ^^^^^^^^^^ method not found in `sql::Sql`

error[E0599]: no method named `col_exists` found for struct `sql::Sql` in the current scope
    --> src/sql.rs:1061:28
     |
57   | pub struct Sql {
     | -------------- method `col_exists` not found for this struct
...
1061 |         assert!(!t.ctx.sql.col_exists("foobar", "foobar").await.unwrap());
     |                            ^^^^^^^^^^ method not found in `sql::Sql`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/sql.rs:1179:13
     |
57   | pub struct Sql {
     | -------------- method `execute` not found for this struct
...
1179 |         sql.execute(
     |         ----^^^^^^^ method not found in `sql::Sql`
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `query_get_value` found for struct `sql::Sql` in the current scope
    --> src/sql.rs:1186:14
     |
57   |   pub struct Sql {
     |   -------------- method `query_get_value` not found for this struct
...
1185 |           let value: Option<String> = sql
     |  _____________________________________-
1186 | |             .query_get_value("SELECT value FROM config WHERE keyname=?;", ("foo",))
     | |             -^^^^^^^^^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:7346:18
     |
7344 |               !alice1
     |  ______________-
7345 | |                 .sql
7346 | |                 .exists("SELECT COUNT(*) FROM chats WHERE id=?", (a1_grp_chat_id,))
     | |                 -^^^^^^ method not found in `sql::Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
7346 |                 .dbfile.exists("SELECT COUNT(*) FROM chats WHERE id=?", (a1_grp_chat_id,))
     |                  +++++++

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
    --> src/chat.rs:7391:18
     |
7389 |               !alice1
     |  ______________-
7390 | |                 .sql
7391 | |                 .exists("SELECT COUNT(*) FROM chats WHERE id=?", (chat_ids[1],))
     | |                 -^^^^^^ method not found in `sql::Sql`
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
7391 |                 .dbfile.exists("SELECT COUNT(*) FROM chats WHERE id=?", (chat_ids[1],))
     |                  +++++++

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/chatlist.rs:784:14
    |
783 | /         t.sql
784 | |             .execute("UPDATE chats SET type=10 WHERE id=?", (chat_id1,))
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/context.rs:1528:14
     |
1527 | /         t.sql
1528 | |             .execute(
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/context.rs:1547:14
     |
1546 | /         t.sql
1547 | |             .execute("UPDATE chats SET muted_until=-2 WHERE id=?;", (bob.id,))
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/ephemeral.rs:1172:21
     |
1171 | /             t.sql
1172 | |                    .execute(
     | |                    -^^^^^^^ method not found in `sql::Sql`
     | |____________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/ephemeral.rs:1178:21
     |
1177 | /             t.sql
1178 | |                    .execute(
     | |                    -^^^^^^^ method not found in `sql::Sql`
     | |____________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: `sql::Sql` is not an iterator
    --> src/ephemeral.rs:1214:18
     |
1213 | /             t.sql
1214 | |                 .count("SELECT COUNT(*) FROM imap WHERE target=''", ())
     | |                 -^^^^^ `sql::Sql` is not an iterator
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/ephemeral.rs:1228:14
     |
1227 | /         t.sql
1228 | |             .execute("UPDATE imap SET target=folder WHERE rfc724_mid='1000'", ())
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/ephemeral.rs:1239:14
     |
1238 | /         t.sql
1239 | |             .execute("UPDATE imap SET target=folder WHERE rfc724_mid='1010'", ())
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: `sql::Sql` is not an iterator
    --> src/ephemeral.rs:1249:18
     |
1248 | /             t.sql
1249 | |                 .count("SELECT COUNT(*) FROM imap WHERE target=''", ())
     | |                 -^^^^^ `sql::Sql` is not an iterator
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
    --> src/ephemeral.rs:1365:27
     |
1365 |         assert!(alice.sql.exists(stmt, (msg.id,)).await?);
     |                           ^^^^^^ method not found in `sql::Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
1365 |         assert!(alice.sql.dbfile.exists(stmt, (msg.id,)).await?);
     |                           +++++++

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
    --> src/ephemeral.rs:1369:27
     |
1369 |         assert!(alice.sql.exists(stmt, (msg.id,)).await?);
     |                           ^^^^^^ method not found in `sql::Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
1369 |         assert!(alice.sql.dbfile.exists(stmt, (msg.id,)).await?);
     |                           +++++++

error[E0599]: `sql::Sql` is not an iterator
   --> src/key.rs:634:18
    |
633 | /             ctx.sql
634 | |                 .count("SELECT COUNT(*) FROM keypairs;", ())
    | |                 -^^^^^ `sql::Sql` is not an iterator
    | |_________________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
    |
    = note: the following trait bounds were not satisfied:
            `sql::Sql: Iterator`
            which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
    |
75  | pub trait Iterator {
    | ^^^^^^^^^^^^^^^^^^
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following trait defines an item `count`, perhaps you need to implement it:
            candidate #1: `Iterator`

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
    --> src/message.rs:2632:27
     |
2632 |         assert!(alice.sql.exists(stmt, (msg.id,)).await?);
     |                           ^^^^^^ method not found in `sql::Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
2632 |         assert!(alice.sql.dbfile.exists(stmt, (msg.id,)).await?);
     |                           +++++++

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
    --> src/message.rs:2634:28
     |
2634 |         assert!(!alice.sql.exists(stmt, (msg.id,)).await?);
     |                            ^^^^^^ method not found in `sql::Sql`
     |
    ::: src/sql.rs:57:1
     |
57   | pub struct Sql {
     | -------------- method `exists` not found for this struct
     |
help: one of the expressions' fields has a method of the same name
     |
2634 |         assert!(!alice.sql.dbfile.exists(stmt, (msg.id,)).await?);
     |                            +++++++

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
    --> src/mimeparser.rs:2644:14
     |
2641 | /         context
2642 | |             .ctx
2643 | |             .sql
2644 | |             .execute(
     | |             -^^^^^^^ method not found in `sql::Sql`
     | |_____________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `execute` not found for this struct
     |
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following traits define an item `execute`, perhaps you need to implement one of them:
             candidate #1: `hyper::rt::Executor`
             candidate #2: `hyper::rt::Executor`

error[E0599]: no method named `execute` found for struct `sql::Sql` in the current scope
   --> src/peerstate.rs:964:14
    |
962 | /         ctx.ctx
963 | |             .sql
964 | |             .execute("INSERT INTO acpeerstates (addr) VALUES(?)", (addr,))
    | |             -^^^^^^^ method not found in `sql::Sql`
    | |_____________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `execute` not found for this struct
    |
    = help: items from traits can only be used if the trait is implemented and in scope
    = note: the following traits define an item `execute`, perhaps you need to implement one of them:
            candidate #1: `hyper::rt::Executor`
            candidate #2: `hyper::rt::Executor`

error[E0599]: `sql::Sql` is not an iterator
    --> src/webxdc.rs:1263:18
     |
1262 | /             t.sql
1263 | |                 .count("SELECT COUNT(*) FROM msgs_status_updates;", ())
     | |                 -^^^^^ `sql::Sql` is not an iterator
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: `sql::Sql` is not an iterator
    --> src/webxdc.rs:1272:18
     |
1271 | /             t.sql
1272 | |                 .count("SELECT COUNT(*) FROM msgs_status_updates;", ())
     | |                 -^^^^^ `sql::Sql` is not an iterator
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: `sql::Sql` is not an iterator
    --> src/webxdc.rs:1296:18
     |
1295 | /             t.sql
1296 | |                 .count("SELECT COUNT(*) FROM msgs_status_updates;", ())
     | |                 -^^^^^ `sql::Sql` is not an iterator
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: `sql::Sql` is not an iterator
    --> src/webxdc.rs:1305:18
     |
1304 | /             t.sql
1305 | |                 .count("SELECT COUNT(*) FROM msgs_status_updates;", ())
     | |                 -^^^^^ `sql::Sql` is not an iterator
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: `sql::Sql` is not an iterator
    --> src/webxdc.rs:1343:18
     |
1342 | /             t.sql
1343 | |                 .count("SELECT COUNT(*) FROM msgs_status_updates;", ())
     | |                 -^^^^^ `sql::Sql` is not an iterator
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: `sql::Sql` is not an iterator
    --> src/webxdc.rs:1743:18
     |
1742 | /             t.sql
1743 | |                 .count("SELECT COUNT(*) FROM smtp_status_updates", ())
     | |                 -^^^^^ `sql::Sql` is not an iterator
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: `sql::Sql` is not an iterator
    --> src/webxdc.rs:1750:18
     |
1749 | /             t.sql
1750 | |                 .count("SELECT COUNT(*) FROM smtp_status_updates", ())
     | |                 -^^^^^ `sql::Sql` is not an iterator
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: `sql::Sql` is not an iterator
    --> src/webxdc.rs:1780:18
     |
1779 | /             t.sql
1780 | |                 .count("SELECT COUNT(*) FROM smtp_status_updates", ())
     | |                 -^^^^^ `sql::Sql` is not an iterator
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: `sql::Sql` is not an iterator
    --> src/webxdc.rs:1806:22
     |
1805 | /                 t.sql
1806 | |                     .count("SELECT COUNT(*) FROM smtp_status_updates", ())
     | |                     -^^^^^ `sql::Sql` is not an iterator
     | |_____________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: `sql::Sql` is not an iterator
    --> src/webxdc.rs:1848:18
     |
1846 | /             alice
1847 | |                 .sql
1848 | |                 .count("SELECT COUNT(*) FROM smtp_status_updates", ())
     | |                 -^^^^^ `sql::Sql` is not an iterator
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: `sql::Sql` is not an iterator
    --> src/webxdc.rs:2622:18
     |
2620 | /             alice
2621 | |                 .sql
2622 | |                 .count("SELECT COUNT(*) FROM msgs_status_updates;", ())
     | |                 -^^^^^ `sql::Sql` is not an iterator
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: `sql::Sql` is not an iterator
    --> src/webxdc.rs:2645:18
     |
2643 | /             alice
2644 | |                 .sql
2645 | |                 .count("SELECT COUNT(*) FROM msgs_status_updates;", ())
     | |                 -^^^^^ `sql::Sql` is not an iterator
     | |_________________|
     | 
     |
    ::: src/sql.rs:57:1
     |
57   |   pub struct Sql {
     |   -------------- method `count` not found for this struct because it doesn't satisfy `sql::Sql: Iterator`
     |
     = note: the following trait bounds were not satisfied:
             `sql::Sql: Iterator`
             which is required by `&mut sql::Sql: Iterator`
note: the trait `Iterator` must be implemented
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/core/src/iter/traits/iterator.rs:75:1
     |
75   | pub trait Iterator {
     | ^^^^^^^^^^^^^^^^^^
     = help: items from traits can only be used if the trait is implemented and in scope
     = note: the following trait defines an item `count`, perhaps you need to implement it:
             candidate #1: `Iterator`

error[E0599]: no method named `exists` found for struct `sql::Sql` in the current scope
   --> src/receive_imf/tests.rs:440:10
    |
438 |       assert!(!t
    |  ______________-
439 | |         .sql
440 | |         .exists(
    | |         -^^^^^^ method not found in `sql::Sql`
    | |_________|
    | 
    |
   ::: src/sql.rs:57:1
    |
57  |   pub struct Sql {
    |   -------------- method `exists` not found for this struct
    |
help: one of the expressions' fields has a method of the same name
    |
440 |         .dbfile.exists(
    |          +++++++

warning: unused import: `tools::IsNoneOrEmpty`
   --> src/ephemeral.rs:700:9
    |
700 |         tools::IsNoneOrEmpty,
    |         ^^^^^^^^^^^^^^^^^^^^

warning: `deltachat` (lib test) generated 3 warnings (2 duplicates)
error: could not compile `deltachat` (lib test) due to 465 previous errors; 3 warnings emitted
error: command `/home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/bin/cargo test --no-run --message-format json-render-diagnostics` exited with code 101

