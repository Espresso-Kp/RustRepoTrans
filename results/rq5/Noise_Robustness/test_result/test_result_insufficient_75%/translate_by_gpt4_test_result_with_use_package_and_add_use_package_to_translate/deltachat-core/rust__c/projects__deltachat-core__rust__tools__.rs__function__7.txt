Fail
file path is :
projects/deltachat-core/rust/src/tools.rs

output is:


error is :
   Compiling deltachat v1.139.6 (/home/k/ogs_PHD/LLM4SE/2Rust_projects/auto_get_functionPair/projects/deltachat-core/rust)
error[E0428]: the name `time` is defined multiple times
   --> src/tools.rs:485:1
    |
171 | pub(crate) fn time() -> i64 {
    | --------------------------- previous definition of the value `time` here
...
485 | pub(crate) fn time() -> i64 {
    | ^^^^^^^^^^^^^^^^^^^^^^^^^^^ `time` redefined here
    |
    = note: `time` must be defined only once in the value namespace of this module

error[E0252]: the name `PathBuf` is defined multiple times
  --> src/tools.rs:14:23
   |
9  | use std::path::PathBuf;
   |     ------------------ previous import of the type `PathBuf` here
...
14 | use std::path::{Path, PathBuf};
   |                       ^^^^^^^ `PathBuf` reimported here
   |
   = note: `PathBuf` must be defined only once in the type namespace of this module

error[E0252]: the name `SystemTime` is defined multiple times
  --> src/tools.rs:25:9
   |
7  | use std::time::{SystemTime, UNIX_EPOCH};
   |                 ------------
   |                 |
   |                 previous import of the type `SystemTime` here
   |                 help: remove unnecessary import
...
25 | pub use std::time::SystemTime;
   |         ^^^^^^^^^^^^^^^^^^^^^ `SystemTime` reimported here
   |
   = note: `SystemTime` must be defined only once in the type namespace of this module

error[E0252]: the name `SystemTime` is defined multiple times
  --> src/tools.rs:32:9
   |
7  | use std::time::{SystemTime, UNIX_EPOCH};
   |                 ---------- previous import of the type `SystemTime` here
...
32 | pub use deltachat_time::SystemTimeTools as SystemTime;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ `SystemTime` reimported here
   |
   = note: `SystemTime` must be defined only once in the type namespace of this module
help: you can use `as` to change the binding name of the import
   |
7  | use std::time::{SystemTime as OtherSystemTime, UNIX_EPOCH};
   |                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

error[E0603]: struct import `SystemTime` is private
   --> src/sql.rs:24:39
    |
24  | use crate::tools::{delete_file, time, SystemTime};
    |                                       ^^^^^^^^^^ private struct import
    |
note: the struct import `SystemTime` is defined here...
   --> src/tools.rs:7:17
    |
7   | use std::time::{SystemTime, UNIX_EPOCH};
    |                 ^^^^^^^^^^
note: ...and refers to the struct `SystemTime` which is defined here
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/time.rs:248:1
    |
248 | pub struct SystemTime(time::SystemTime);
    | ^^^^^^^^^^^^^^^^^^^^^ you could import this directly
help: import `SystemTime` through the re-export
    |
24  | use crate::tools::{delete_file, time, time::SystemTime};
    |                                       ~~~~~~~~~~~~~~~~

error[E0603]: struct import `SystemTime` is private
   --> src/chat.rs:50:40
    |
50  |     smeared_time, time, IsNoneOrEmpty, SystemTime,
    |                                        ^^^^^^^^^^ private struct import
    |
note: the struct import `SystemTime` is defined here...
   --> src/tools.rs:7:17
    |
7   | use std::time::{SystemTime, UNIX_EPOCH};
    |                 ^^^^^^^^^^
note: ...and refers to the struct `SystemTime` which is defined here
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/time.rs:248:1
    |
248 | pub struct SystemTime(time::SystemTime);
    | ^^^^^^^^^^^^^^^^^^^^^ you could import this directly
help: import `SystemTime` through the re-export
    |
50  |     smeared_time, time, IsNoneOrEmpty, time::SystemTime,
    |                                        ~~~~~~~~~~~~~~~~

error[E0603]: struct import `SystemTime` is private
   --> src/contact.rs:41:83
    |
41  |     duration_to_str, get_abs_path, improve_single_line_input, smeared_time, time, SystemTime,
    |                                                                                   ^^^^^^^^^^ private struct import
    |
note: the struct import `SystemTime` is defined here...
   --> src/tools.rs:7:17
    |
7   | use std::time::{SystemTime, UNIX_EPOCH};
    |                 ^^^^^^^^^^
note: ...and refers to the struct `SystemTime` which is defined here
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/time.rs:248:1
    |
248 | pub struct SystemTime(time::SystemTime);
    | ^^^^^^^^^^^^^^^^^^^^^ you could import this directly
help: import `SystemTime` through the re-export
    |
41  |     duration_to_str, get_abs_path, improve_single_line_input, smeared_time, time, time::SystemTime,
    |                                                                                   ~~~~~~~~~~~~~~~~

error[E0603]: struct import `SystemTime` is private
   --> src/ephemeral.rs:89:43
    |
89  | use crate::tools::{duration_to_str, time, SystemTime};
    |                                           ^^^^^^^^^^ private struct import
    |
note: the struct import `SystemTime` is defined here...
   --> src/tools.rs:7:17
    |
7   | use std::time::{SystemTime, UNIX_EPOCH};
    |                 ^^^^^^^^^^
note: ...and refers to the struct `SystemTime` which is defined here
   --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/std/src/time.rs:248:1
    |
248 | pub struct SystemTime(time::SystemTime);
    | ^^^^^^^^^^^^^^^^^^^^^ you could import this directly
help: import `SystemTime` through the re-export
    |
89  | use crate::tools::{duration_to_str, time, time::SystemTime};
    |                                           ~~~~~~~~~~~~~~~~

warning: unused import: `PathBuf`
  --> src/tools.rs:14:23
   |
14 | use std::path::{Path, PathBuf};
   |                       ^^^^^^^
   |
note: the lint level is defined here
  --> src/lib.rs:6:5
   |
6  |     unused,
   |     ^^^^^^
   = note: `#[warn(unused_imports)]` implied by `#[warn(unused)]`

warning: unused import: `std::time::SystemTime`
  --> src/tools.rs:25:9
   |
25 | pub use std::time::SystemTime;
   |         ^^^^^^^^^^^^^^^^^^^^^

error[E0308]: mismatched types
    --> src/chat.rs:2540:53
     |
2540 |         let smeared_time = create_smeared_timestamp(context);
     |                            ------------------------ ^^^^^^^ types differ in mutability
     |                            |
     |                            arguments to this function are incorrect
     |
     = note: expected mutable reference `&mut context::Context`
                        found reference `&context::Context`
note: function defined here
    --> src/tools.rs:177:15
     |
177  | pub(crate) fn create_smeared_timestamp(context: &mut Context) -> i64 {
     |               ^^^^^^^^^^^^^^^^^^^^^^^^ ---------------------

error[E0308]: mismatched types
    --> src/chat.rs:2755:38
     |
2755 |             create_smeared_timestamp(context),
     |             ------------------------ ^^^^^^^ types differ in mutability
     |             |
     |             arguments to this function are incorrect
     |
     = note: expected mutable reference `&mut context::Context`
                        found reference `&context::Context`
note: function defined here
    --> src/tools.rs:177:15
     |
177  | pub(crate) fn create_smeared_timestamp(context: &mut Context) -> i64 {
     |               ^^^^^^^^^^^^^^^^^^^^^^^^ ---------------------

error[E0308]: mismatched types
    --> src/chat.rs:3490:46
     |
3490 |     let timestamp = create_smeared_timestamp(context);
     |                     ------------------------ ^^^^^^^ types differ in mutability
     |                     |
     |                     arguments to this function are incorrect
     |
     = note: expected mutable reference `&mut context::Context`
                        found reference `&context::Context`
note: function defined here
    --> src/tools.rs:177:15
     |
177  | pub(crate) fn create_smeared_timestamp(context: &mut Context) -> i64 {
     |               ^^^^^^^^^^^^^^^^^^^^^^^^ ---------------------

error[E0308]: mismatched types
    --> src/chat.rs:3520:72
     |
3520 |         add_info_msg(context, chat_id, &text, create_smeared_timestamp(context)).await?;
     |                                               ------------------------ ^^^^^^^ types differ in mutability
     |                                               |
     |                                               arguments to this function are incorrect
     |
     = note: expected mutable reference `&mut context::Context`
                        found reference `&context::Context`
note: function defined here
    --> src/tools.rs:177:15
     |
177  | pub(crate) fn create_smeared_timestamp(context: &mut Context) -> i64 {
     |               ^^^^^^^^^^^^^^^^^^^^^^^^ ---------------------

error[E0308]: mismatched types
    --> src/chat.rs:3586:46
     |
3586 |                     create_smeared_timestamp(context),
     |                     ------------------------ ^^^^^^^ types differ in mutability
     |                     |
     |                     arguments to this function are incorrect
     |
     = note: expected mutable reference `&mut context::Context`
                        found reference `&context::Context`
note: function defined here
    --> src/tools.rs:177:15
     |
177  | pub(crate) fn create_smeared_timestamp(context: &mut Context) -> i64 {
     |               ^^^^^^^^^^^^^^^^^^^^^^^^ ---------------------

error[E0308]: mismatched types
    --> src/chat.rs:4242:55
     |
4242 |         msg.timestamp_sort = create_smeared_timestamp(context);
     |                              ------------------------ ^^^^^^^ types differ in mutability
     |                              |
     |                              arguments to this function are incorrect
     |
     = note: expected mutable reference `&mut context::Context`
                        found reference `&context::Context`
note: function defined here
    --> src/tools.rs:177:15
     |
177  | pub(crate) fn create_smeared_timestamp(context: &mut Context) -> i64 {
     |               ^^^^^^^^^^^^^^^^^^^^^^^^ ---------------------

error[E0308]: mismatched types
    --> src/chat.rs:4318:55
     |
4318 |         let timestamp_sent = create_smeared_timestamp(context);
     |                              ------------------------ ^^^^^^^ types differ in mutability
     |                              |
     |                              arguments to this function are incorrect
     |
     = note: expected mutable reference `&mut context::Context`
                        found reference `&context::Context`
note: function defined here
    --> src/tools.rs:177:15
     |
177  | pub(crate) fn create_smeared_timestamp(context: &mut Context) -> i64 {
     |               ^^^^^^^^^^^^^^^^^^^^^^^^ ---------------------

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/sql.rs:858:45
    |
858 |                 let keep_files_newer_than = SystemTime::now()
    |                                             ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
24  - use crate::tools::{delete_file, time, SystemTime};
24  + use crate::tools::{delete_file, time, };
    |
help: consider importing this struct
    |
3   + use std::time::SystemTime;
    |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/sql.rs:860:32
    |
860 |                     .unwrap_or(SystemTime::UNIX_EPOCH);
    |                                ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
24  - use crate::tools::{delete_file, time, SystemTime};
24  + use crate::tools::{delete_file, time, };
    |
help: consider importing this struct
    |
3   + use std::time::SystemTime;
    |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/events/chatlist_events.rs:356:9
    |
356 |         SystemTime::shift(Duration::from_secs(3));
    |         ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
82  -     use crate::tools::SystemTime;
82  +     use ;
    |
help: consider importing this struct
    |
61  +     use std::time::SystemTime;
    |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/events/chatlist_events.rs:531:9
    |
531 |         SystemTime::shift(Duration::from_secs(70));
    |         ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
82  -     use crate::tools::SystemTime;
82  +     use ;
    |
help: consider importing this struct
    |
61  +     use std::time::SystemTime;
    |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/chat.rs:1878:49
     |
1878 |             MuteDuration::Until(when) => when > SystemTime::now(),
     |                                                 ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
50   -     smeared_time, time, IsNoneOrEmpty, SystemTime,
50   +     smeared_time, time, IsNoneOrEmpty, ,
     |
help: consider importing this struct
     |
3    + use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/chat.rs:3825:37
     |
3825 |                     .duration_since(SystemTime::UNIX_EPOCH)
     |                                     ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
50   -     smeared_time, time, IsNoneOrEmpty, SystemTime,
50   +     smeared_time, time, IsNoneOrEmpty, ,
     |
help: consider importing this struct
     |
3    + use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/chat.rs:3844:33
     |
3844 |             n if n > 0 => match SystemTime::UNIX_EPOCH.checked_add(Duration::from_secs(n as u64)) {
     |                                 ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
50   -     smeared_time, time, IsNoneOrEmpty, SystemTime,
50   +     smeared_time, time, IsNoneOrEmpty, ,
     |
help: consider importing this struct
     |
3    + use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/chat.rs:5030:9
     |
5030 |         SystemTime::shift(Duration::from_secs(3600));
     |         ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
4638 -     use super::*;
4638 +     use ;
     |
help: consider importing this struct
     |
4638 +     use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/chat.rs:5083:9
     |
5083 |         SystemTime::shift(Duration::from_secs(3600));
     |         ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
4638 -     use super::*;
4638 +     use ;
     |
help: consider importing this struct
     |
4638 +     use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/chat.rs:5711:17
     |
5711 |                 SystemTime::now()
     |                 ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
4638 -     use super::*;
4638 +     use ;
     |
help: consider importing this struct
     |
4638 +     use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/chat.rs:5725:17
     |
5725 |                 SystemTime::now()
     |                 ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
4638 -     use super::*;
4638 +     use ;
     |
help: consider importing this struct
     |
4638 +     use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/chat.rs:6035:33
     |
6035 |             MuteDuration::Until(SystemTime::now() + Duration::from_secs(3600)),
     |                                 ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
4638 -     use super::*;
4638 +     use ;
     |
help: consider importing this struct
     |
4638 +     use std::time::SystemTime;
     |

error[E0308]: mismatched types
   --> src/securejoin/bob.rs:182:54
    |
182 | ...                   create_smeared_timestamp(context),
    |                       ------------------------ ^^^^^^^ types differ in mutability
    |                       |
    |                       arguments to this function are incorrect
    |
    = note: expected mutable reference `&mut context::Context`
                       found reference `&context::Context`
note: function defined here
   --> src/tools.rs:177:15
    |
177 | pub(crate) fn create_smeared_timestamp(context: &mut Context) -> i64 {
    |               ^^^^^^^^^^^^^^^^^^^^^^^^ ---------------------

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/chat.rs:6047:33
     |
6047 |             MuteDuration::Until(SystemTime::now() - Duration::from_secs(3600)),
     |                                 ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
4638 -     use super::*;
4638 +     use ;
     |
help: consider importing this struct
     |
4638 +     use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/chat.rs:7444:33
     |
7444 |             MuteDuration::Until(SystemTime::now() + Duration::from_secs(42)),
     |                                 ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
4638 -     use super::*;
4638 +     use ;
     |
help: consider importing this struct
     |
4638 +     use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/chat.rs:7452:21
     |
7452 |                     SystemTime::UNIX_EPOCH
     |                     ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
4638 -     use super::*;
4638 +     use ;
     |
help: consider importing this struct
     |
4638 +     use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/chat.rs:7454:49
     |
7454 | ...                   time.duration_since(SystemTime::UNIX_EPOCH)?.as_secs(),
     |                                           ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
4638 -     use super::*;
4638 +     use ;
     |
help: consider importing this struct
     |
4638 +     use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/contact.rs:1795:19
     |
1795 |         let now = SystemTime::now();
     |                   ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
41   -     duration_to_str, get_abs_path, improve_single_line_input, smeared_time, time, SystemTime,
41   +     duration_to_str, get_abs_path, improve_single_line_input, smeared_time, time, ,
     |
help: consider importing this struct
     |
3    + use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/contact.rs:1797:29
     |
1797 |             .duration_since(SystemTime::UNIX_EPOCH)
     |                             ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
41   -     duration_to_str, get_abs_path, improve_single_line_input, smeared_time, time, SystemTime,
41   +     duration_to_str, get_abs_path, improve_single_line_input, smeared_time, time, ,
     |
help: consider importing this struct
     |
3    + use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/contact.rs:1826:23
     |
1826 |             let now = SystemTime::now();
     |                       ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
41   -     duration_to_str, get_abs_path, improve_single_line_input, smeared_time, time, SystemTime,
41   +     duration_to_str, get_abs_path, improve_single_line_input, smeared_time, time, ,
     |
help: consider importing this struct
     |
3    + use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/contact.rs:2930:13
     |
2930 |             SystemTime::shift(Duration::from_secs(SEEN_RECENTLY_SECONDS as u64 * 2));
     |             ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
1929 -     use super::*;
1929 +     use ;
     |
help: consider importing this struct
     |
1927 +     use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/contact.rs:3119:9
     |
3119 |         SystemTime::shift(Duration::from_secs(1));
     |         ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
1929 -     use super::*;
1929 +     use ;
     |
help: consider importing this struct
     |
1927 +     use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/context.rs:1517:33
     |
1517 |             MuteDuration::Until(SystemTime::now() + Duration::from_secs(3600)),
     |                                 ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
1409 -     use crate::tools::{create_outgoing_rfc724_mid, SystemTime};
1409 +     use crate::tools::{create_outgoing_rfc724_mid, };
     |
help: consider importing this struct
     |
1398 +     use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/ephemeral.rs:571:19
    |
571 |         let now = SystemTime::now();
    |                   ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
89  - use crate::tools::{duration_to_str, time, SystemTime};
89  + use crate::tools::{duration_to_str, time, };
    |
help: consider importing this struct
    |
65  + use std::time::SystemTime;
    |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/ephemeral.rs:1403:9
     |
1403 |         SystemTime::shift(Duration::from_secs(100));
     |         ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
690  -     use super::*;
690  +     use ;
     |
help: consider importing this struct
     |
690  +     use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/location.rs:1133:9
     |
1133 |         SystemTime::shift(Duration::from_secs(10));
     |         ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
891  -     use crate::tools::SystemTime;
891  +     use ;
     |
help: consider importing this struct
     |
886  +     use std::time::SystemTime;
     |

error[E0308]: mismatched types
    --> src/mimeparser.rs:2274:80
     |
2274 |                 add_info_msg(context, chat_id, &text, create_smeared_timestamp(context)).await?;
     |                                                       ------------------------ ^^^^^^^ types differ in mutability
     |                                                       |
     |                                                       arguments to this function are incorrect
     |
     = note: expected mutable reference `&mut context::Context`
                        found reference `&context::Context`
note: function defined here
    --> src/tools.rs:177:15
     |
177  | pub(crate) fn create_smeared_timestamp(context: &mut Context) -> i64 {
     |               ^^^^^^^^^^^^^^^^^^^^^^^^ ---------------------

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/location.rs:1141:9
     |
1141 |         SystemTime::shift(Duration::from_secs(86400));
     |         ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
891  -     use crate::tools::SystemTime;
891  +     use ;
     |
help: consider importing this struct
     |
886  +     use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/location.rs:1148:9
     |
1148 |         SystemTime::shift(Duration::from_secs(604800));
     |         ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
891  -     use crate::tools::SystemTime;
891  +     use ;
     |
help: consider importing this struct
     |
886  +     use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/securejoin.rs:866:13
    |
866 |             SystemTime::shift(Duration::from_secs(constants::SECUREJOIN_WAIT_TIMEOUT));
    |             ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
768 -     use crate::tools::SystemTime;
768 +     use ;
    |
help: consider importing this struct
    |
757 +     use std::time::SystemTime;
    |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/securejoin.rs:951:13
    |
951 |             SystemTime::shift(Duration::from_secs(3600));
    |             ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
768 -     use crate::tools::SystemTime;
768 +     use ;
    |
help: consider importing this struct
    |
757 +     use std::time::SystemTime;
    |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/securejoin.rs:1009:13
     |
1009 |             SystemTime::shift(Duration::from_secs(constants::SECUREJOIN_WAIT_TIMEOUT + 1));
     |             ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
768  -     use crate::tools::SystemTime;
768  +     use ;
     |
help: consider importing this struct
     |
757  +     use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/sync.rs:353:21
    |
353 |                     SystemTime::UNIX_EPOCH + Duration::from_millis(42999),
    |                     ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
326 -     use crate::tools::SystemTime;
326 +     use ;
    |
help: consider importing this struct
    |
318 +     use std::time::SystemTime;
    |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/sync.rs:456:17
    |
456 |                 SystemTime::UNIX_EPOCH + Duration::from_millis(42999)
    |                 ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
326 -     use crate::tools::SystemTime;
326 +     use ;
    |
help: consider importing this struct
    |
318 +     use std::time::SystemTime;
    |

error[E0308]: mismatched types
   --> src/mimefactory.rs:263:50
    |
263 |         let timestamp = create_smeared_timestamp(context);
    |                         ------------------------ ^^^^^^^ types differ in mutability
    |                         |
    |                         arguments to this function are incorrect
    |
    = note: expected mutable reference `&mut context::Context`
                       found reference `&context::Context`
note: function defined here
   --> src/tools.rs:177:15
    |
177 | pub(crate) fn create_smeared_timestamp(context: &mut Context) -> i64 {
    |               ^^^^^^^^^^^^^^^^^^^^^^^^ ---------------------

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/timesmearing.rs:173:20
    |
173 |                 >= SystemTime::now()
    |                    ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
85  -         create_smeared_timestamp, create_smeared_timestamps, smeared_time, time, SystemTime,
85  +         create_smeared_timestamp, create_smeared_timestamps, smeared_time, time, ,
    |
help: consider importing this struct
    |
82  +     use std::time::SystemTime;
    |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/timesmearing.rs:174:37
    |
174 |                     .duration_since(SystemTime::UNIX_EPOCH)
    |                                     ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
85  -         create_smeared_timestamp, create_smeared_timestamps, smeared_time, time, SystemTime,
85  +         create_smeared_timestamp, create_smeared_timestamps, smeared_time, time, ,
    |
help: consider importing this struct
    |
82  +     use std::time::SystemTime;
    |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/webxdc.rs:2704:9
     |
2704 |         SystemTime::shift(Duration::from_secs(1800));
     |         ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
880  -     use crate::tools::{self, SystemTime};
880  +     use crate::tools::{self, };
     |
help: consider importing this struct
     |
863  +     use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/webxdc.rs:2727:9
     |
2727 |         SystemTime::shift(Duration::from_secs(2700));
     |         ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
880  -     use crate::tools::{self, SystemTime};
880  +     use crate::tools::{self, };
     |
help: consider importing this struct
     |
863  +     use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/receive_imf/tests.rs:3754:5
     |
3754 |     SystemTime::shift(Duration::from_secs(3600));
     |     ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
17   - use crate::tools::SystemTime;
17   + use ;
     |
help: consider importing this struct
     |
1    + use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/receive_imf/tests.rs:3765:5
     |
3765 |     SystemTime::shift(Duration::from_secs(3600));
     |     ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
17   - use crate::tools::SystemTime;
17   + use ;
     |
help: consider importing this struct
     |
1    + use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/receive_imf/tests.rs:3818:5
     |
3818 |     SystemTime::shift(Duration::from_secs(3600));
     |     ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
17   - use crate::tools::SystemTime;
17   + use ;
     |
help: consider importing this struct
     |
1    + use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
    --> src/receive_imf/tests.rs:3901:5
     |
3901 |     SystemTime::shift(Duration::from_secs(3600));
     |     ^^^^^^^^^^ use of undeclared type `SystemTime`
     |
help: `SystemTime` is defined here, but is not a type
     |
17   - use crate::tools::SystemTime;
17   + use ;
     |
help: consider importing this struct
     |
1    + use std::time::SystemTime;
     |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/reaction.rs:648:9
    |
648 |         SystemTime::shift(Duration::from_secs(10));
    |         ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
398 -     use crate::tools::SystemTime;
398 +     use ;
    |
help: consider importing this struct
    |
385 +     use std::time::SystemTime;
    |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/reaction.rs:664:9
    |
664 |         SystemTime::shift(Duration::from_secs(10));
    |         ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
398 -     use crate::tools::SystemTime;
398 +     use ;
    |
help: consider importing this struct
    |
385 +     use std::time::SystemTime;
    |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/reaction.rs:673:9
    |
673 |         SystemTime::shift(Duration::from_secs(10));
    |         ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
398 -     use crate::tools::SystemTime;
398 +     use ;
    |
help: consider importing this struct
    |
385 +     use std::time::SystemTime;
    |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/reaction.rs:681:9
    |
681 |         SystemTime::shift(Duration::from_secs(10));
    |         ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
398 -     use crate::tools::SystemTime;
398 +     use ;
    |
help: consider importing this struct
    |
385 +     use std::time::SystemTime;
    |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/reaction.rs:690:9
    |
690 |         SystemTime::shift(Duration::from_secs(10));
    |         ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
398 -     use crate::tools::SystemTime;
398 +     use ;
    |
help: consider importing this struct
    |
385 +     use std::time::SystemTime;
    |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/reaction.rs:699:9
    |
699 |         SystemTime::shift(Duration::from_secs(10));
    |         ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
398 -     use crate::tools::SystemTime;
398 +     use ;
    |
help: consider importing this struct
    |
385 +     use std::time::SystemTime;
    |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/reaction.rs:721:9
    |
721 |         SystemTime::shift(Duration::from_secs(10));
    |         ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
398 -     use crate::tools::SystemTime;
398 +     use ;
    |
help: consider importing this struct
    |
385 +     use std::time::SystemTime;
    |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/reaction.rs:739:9
    |
739 |         SystemTime::shift(Duration::from_secs(10));
    |         ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
398 -     use crate::tools::SystemTime;
398 +     use ;
    |
help: consider importing this struct
    |
385 +     use std::time::SystemTime;
    |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/reaction.rs:757:9
    |
757 |         SystemTime::shift(Duration::from_secs(10));
    |         ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
398 -     use crate::tools::SystemTime;
398 +     use ;
    |
help: consider importing this struct
    |
385 +     use std::time::SystemTime;
    |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
  --> src/tests/verified_chats.rs:65:9
   |
65 |         SystemTime::shift(std::time::Duration::from_secs(3600));
   |         ^^^^^^^^^^ use of undeclared type `SystemTime`
   |
help: `SystemTime` is defined here, but is not a type
   |
15 - use crate::tools::SystemTime;
15 + use ;
   |
help: consider importing this struct
   |
1  + use std::time::SystemTime;
   |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
  --> src/tests/verified_chats.rs:74:5
   |
74 |     SystemTime::shift(std::time::Duration::from_secs(3600));
   |     ^^^^^^^^^^ use of undeclared type `SystemTime`
   |
help: `SystemTime` is defined here, but is not a type
   |
15 - use crate::tools::SystemTime;
15 + use ;
   |
help: consider importing this struct
   |
1  + use std::time::SystemTime;
   |

error[E0433]: failed to resolve: use of undeclared type `SystemTime`
   --> src/tests/verified_chats.rs:802:5
    |
802 |     SystemTime::shift(std::time::Duration::from_secs(3600));
    |     ^^^^^^^^^^ use of undeclared type `SystemTime`
    |
help: `SystemTime` is defined here, but is not a type
    |
15  - use crate::tools::SystemTime;
15  + use ;
    |
help: consider importing this struct
    |
1   + use std::time::SystemTime;
    |

warning: unused import: `SystemTime`
  --> src/sql.rs:24:39
   |
24 | use crate::tools::{delete_file, time, SystemTime};
   |                                       ^^^^^^^^^^
   |
note: the lint level is defined here
  --> src/lib.rs:6:5
   |
6  |     unused,
   |     ^^^^^^
   = note: `#[warn(unused_imports)]` implied by `#[warn(unused)]`

warning: unused import: `crate::tools::SystemTime`
  --> src/events/chatlist_events.rs:82:9
   |
82 |     use crate::tools::SystemTime;
   |         ^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `SystemTime`
  --> src/chat.rs:50:40
   |
50 |     smeared_time, time, IsNoneOrEmpty, SystemTime,
   |                                        ^^^^^^^^^^

warning: unused import: `SystemTime`
  --> src/contact.rs:41:83
   |
41 |     duration_to_str, get_abs_path, improve_single_line_input, smeared_time, time, SystemTime,
   |                                                                                   ^^^^^^^^^^

warning: unused import: `SystemTime`
    --> src/context.rs:1409:52
     |
1409 |     use crate::tools::{create_outgoing_rfc724_mid, SystemTime};
     |                                                    ^^^^^^^^^^

warning: unused import: `SystemTime`
  --> src/ephemeral.rs:89:43
   |
89 | use crate::tools::{duration_to_str, time, SystemTime};
   |                                           ^^^^^^^^^^

warning: unused import: `crate::tools::SystemTime`
   --> src/location.rs:891:9
    |
891 |     use crate::tools::SystemTime;
    |         ^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::tools::SystemTime`
   --> src/securejoin.rs:768:9
    |
768 |     use crate::tools::SystemTime;
    |         ^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::tools::SystemTime`
   --> src/sync.rs:326:9
    |
326 |     use crate::tools::SystemTime;
    |         ^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `SystemTime`
  --> src/timesmearing.rs:85:82
   |
85 |         create_smeared_timestamp, create_smeared_timestamps, smeared_time, time, SystemTime,
   |                                                                                  ^^^^^^^^^^

warning: unused import: `SystemTime`
   --> src/webxdc.rs:880:30
    |
880 |     use crate::tools::{self, SystemTime};
    |                              ^^^^^^^^^^

error[E0308]: mismatched types
   --> src/webxdc.rs:488:42
    |
488 |                 create_smeared_timestamp(self),
    |                 ------------------------ ^^^^ types differ in mutability
    |                 |
    |                 arguments to this function are incorrect
    |
    = note: expected mutable reference `&mut context::Context`
                       found reference `&context::Context`
note: function defined here
   --> src/tools.rs:177:15
    |
177 | pub(crate) fn create_smeared_timestamp(context: &mut Context) -> i64 {
    |               ^^^^^^^^^^^^^^^^^^^^^^^^ ---------------------

warning: unused import: `crate::tools::SystemTime`
  --> src/receive_imf/tests.rs:17:5
   |
17 | use crate::tools::SystemTime;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `PathBuf`
  --> src/tools.rs:14:23
   |
14 | use std::path::{Path, PathBuf};
   |                       ^^^^^^^

warning: unused import: `crate::tools::SystemTime`
   --> src/reaction.rs:398:9
    |
398 |     use crate::tools::SystemTime;
    |         ^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `crate::tools::SystemTime`
  --> src/tests/verified_chats.rs:15:5
   |
15 | use crate::tools::SystemTime;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^

error[E0277]: the trait bound `InnerContext: Clone` is not satisfied
    --> src/tools.rs:180:39
     |
180  |         let mut inner = Arc::make_mut(&mut context.inner);
     |                         ------------- ^^^^^^^^^^^^^^^^^^ the trait `Clone` is not implemented for `InnerContext`
     |                         |
     |                         required by a bound introduced by this call
     |
note: required by a bound in `Arc::<T, A>::make_mut`
    --> /home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/lib/rustlib/src/rust/library/alloc/src/sync.rs:2065:9
     |
2065 | impl<T: Clone, A: Allocator + Clone> Arc<T, A> {
     |         ^^^^^ required by this bound in `Arc::<T, A>::make_mut`
...
2119 |     pub fn make_mut(this: &mut Self) -> &mut T {
     |            -------- required by a bound in this associated function

error[E0609]: no field `last_smeared_timestamp` on type `&mut InnerContext`
   --> src/tools.rs:181:15
    |
181 |         inner.last_smeared_timestamp = now;
    |               ^^^^^^^^^^^^^^^^^^^^^^ unknown field
    |
help: a field with a similar name exists
    |
181 |         inner.smeared_timestamp = now;
    |               ~~~~~~~~~~~~~~~~~

Some errors have detailed explanations: E0252, E0277, E0308, E0428, E0603, E0609.
For more information about an error, try `rustc --explain E0252`.
warning: `deltachat` (lib) generated 2 warnings
error: could not compile `deltachat` (lib) due to 20 previous errors; 2 warnings emitted
warning: build failed, waiting for other jobs to finish...
error[E0308]: mismatched types
   --> src/timesmearing.rs:170:45
    |
170 |         assert_ne!(create_smeared_timestamp(&t), create_smeared_timestamp(&t));
    |                    ------------------------ ^^ types differ in mutability
    |                    |
    |                    arguments to this function are incorrect
    |
    = note: expected mutable reference `&mut context::Context`
                       found reference `&test_utils::TestContext`
note: function defined here
   --> src/tools.rs:177:15
    |
177 | pub(crate) fn create_smeared_timestamp(context: &mut Context) -> i64 {
    |               ^^^^^^^^^^^^^^^^^^^^^^^^ ---------------------

error[E0308]: mismatched types
   --> src/timesmearing.rs:170:75
    |
170 |         assert_ne!(create_smeared_timestamp(&t), create_smeared_timestamp(&t));
    |                                                  ------------------------ ^^ types differ in mutability
    |                                                  |
    |                                                  arguments to this function are incorrect
    |
    = note: expected mutable reference `&mut context::Context`
                       found reference `&test_utils::TestContext`
note: function defined here
   --> src/tools.rs:177:15
    |
177 | pub(crate) fn create_smeared_timestamp(context: &mut Context) -> i64 {
    |               ^^^^^^^^^^^^^^^^^^^^^^^^ ---------------------

error[E0308]: mismatched types
   --> src/timesmearing.rs:172:38
    |
172 |             create_smeared_timestamp(&t)
    |             ------------------------ ^^ types differ in mutability
    |             |
    |             arguments to this function are incorrect
    |
    = note: expected mutable reference `&mut context::Context`
                       found reference `&test_utils::TestContext`
note: function defined here
   --> src/tools.rs:177:15
    |
177 | pub(crate) fn create_smeared_timestamp(context: &mut Context) -> i64 {
    |               ^^^^^^^^^^^^^^^^^^^^^^^^ ---------------------

Some errors have detailed explanations: E0252, E0277, E0308, E0428, E0433, E0609.
warning: `deltachat` (lib test) generated 15 warnings
error: could not compile `deltachat` (lib test) due to 71 previous errors; 15 warnings emitted
error: command `/home/k/.rustup/toolchains/1.77.1-x86_64-unknown-linux-gnu/bin/cargo test --no-run --message-format json-render-diagnostics` exited with code 101

